!function n(a,r,s){function o(t,e){if(!r[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}i=r[t]={exports:{}},a[t][0].call(i.exports,function(e){return o(a[t][1][e]||e)},i,i.exports,n,a,r,s)}return r[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)o(s[e]);return o}({1:[function(e,t,i){var n=e("../lib/class"),c=e("../utils");t.exports=Area=n.Class.extend({init:function(e,t,i,n,a,r,s,o){this.id=e;e=G_TILESIZE;this.gx=t,this.gy=i,this.x=t*e,this.y=i*e,s&&(this.x,this.width,this.y,this.height),this.width=n*e,this.height=a*e,this.map=r,this.elipse=s||!1,this.excludeId=o||-1},_getRandomPosition:function(e,t,i){i=i||30;for(var n,a,r={},s=0,o=Math.min(t.height,t.width);s<i;){if(this.elipse?(n=2*Math.random()*Math.PI,a=c.randomRangeInt(0,~~(o/2)),r.x=Math.round(e.x+a*Math.cos(n)),r.y=Math.round(e.y+a*Math.sin(n))):(r.x=e.x+c.randomInt(t.width),r.y=e.y+c.randomInt(t.height)),this.contains(r.x,r.y,0))if(!this.map.isColliding(r.x,r.y))break;s++}return i<=s?null:r},_getRandomPositionForEntity:function(e,t,i){return this._getRandomPosition(e,{width:t,height:t},i)},_getRandomPositionInsideArea:function(e){return this._getRandomPosition(this,this,e)},contains:function(e,t,i){var n,a;return this.elipse?(n=this.x,a=this.y,n=Math.sqrt(Math.pow(e-n,2)+Math.pow(t-a,2))<this.width/2,1==i||-1==this.excludeId?n:0==i&&(a=n,(i=this.map.mobLiveAreas[this.elipseId])?a&&!i.contains(e,t,1):a)):e>=this.x&&t>=this.y&&e<this.x+this.width&&t<this.y+this.height}}),t.exports=Area},{"../lib/class":42,"../utils":69}],2:[function(e,t,i){var n=e("./entityarea.js"),o=e("../entity/block.js"),a=e("../utils");e("../../shared/js/gametypes");t.exports=BlockArea=n.extend({init:function(e,t,i,n,a,r,s){this._super(e,t,i,n,a,r,s),this.blocks=[],this.players={}},initArea:function(e,t,i){for(var n=this.map.entities.entityCount,a=0;a<i;++a)for(var r=0;r<t;++r){var s=new o(n+(t*a+r),e,this.x+r*G_TILESIZE,this.y+a*G_TILESIZE,this.map,this,"block"+e+"-"+a+"_"+r,r,a);this.map.entities.addBlock(s),this.blocks.push(s)}this.map.entities.entityCount+=t*i},randomizeBlocks:function(e){for(var t in this.blocks){var t=this.blocks[t],i=this.map.entities.spaceEntityRandomApart(e,this._getRandomPositionInsideArea.bind(this,30));i?t.setPosition(~~a.floorTo(i.x,G_TILESIZE),~~a.floorTo(i.y,G_TILESIZE)):console.error("BlockArea - randomizeBlocks: failed.")}},isCompleted:function(){var e,t,i,n=null,a=this.blocks[0];for(i in this.blocks){if(e=this.blocks[i],t=i%this.numX,n)if(0==t){if(e.y-a.y!==G_TILESIZE&&e.x-a.x!=0)return!1;a=e}else if(n.x-e.x!==G_TILESIZE&&n.y-e.y!=0)return!1;n=e}return!0},Completed:function(){for(var e in console.warn("BLOCKAREA - COMPLETED."),this.blocks){e=this.blocks[e];e.playerName&&(this.players.hasOwnProperty(e.playerName)?this.players[e.playerName]++:this.players[e.playerName]=1)}},onComplete:function(e){this.complete_callback=e},update:function(){if(this.isCompleted())for(var e in this.Completed(),this.complete_callback&&0<Object.keys(this.players).length&&this.complete_callback(this),this.blocks){e=this.blocks[e];this.map.entities.removeEntity(e),this.map.entities.pushBroadcast(e.despawn())}}})},{"../../shared/js/gametypes":552,"../entity/block.js":23,"../utils":69,"./entityarea.js":4}],3:[function(i,e,t){var n=i("./entityarea"),a=(i("underscore"),i("../message"));i("../utils"),i("../../shared/js/gametypes");e.exports=ChestArea=n.extend({init:function(e,t,i,n,a,r,s,o,c,p){this._super(e,r,s,o,c,p),this.nb=i,this.minLevel=n,this.maxLevel=a,this.respawns=[],this.map=p,this.setNumberOfEntities(this.nb),this.chests=[37]},spawnChests:function(){for(var e=0;e<this.nb;e+=1)this.addToArea(this._createRandomChestInsideArea())},_createRandomChestInsideArea:function(){return this._createChest()},_createChest:function(){var e=this,t=e.map.entities.spaceEntityRandomApart(2,e._getRandomPositionInsideArea.bind(e,20)),t=new(i("./chest"))(++e.map.entities.entityCount+2e4,t.x,t.y,e.map,e,e.minLevel,e.maxLevel);return e.map.entities.addChest(t),e.addToArea(t),t},respawnChest:function(t,e){var i=this;e=t.spawnDelay||e,this.removeFromArea(t),setTimeout(function(){var e=i.map.entities.spaceEntityRandomApart(2,i._getRandomPositionInsideArea.bind(i,20));t.x=e.x,t.y=e.y,i.addToArea(t),i.map.entities.addChest(t),i.map.entities.pushBroadcast(new a.Spawn(t))},e)}}),e.exports=ChestArea},{"../../shared/js/gametypes":552,"../message":48,"../utils":69,"./chest":void 0,"./entityarea":4,underscore:508}],4:[function(e,t,i){var n=e("./area"),e=(e("../utils"),n.extend({init:function(e,t,i,n,a,r,s,o){this._super(e,t,i,n,a,r,s,o),this.entities=[],this.hasCompletelyRespawned=!0},removeFromArea:function(e){e=_.indexOf(_.pluck(this.entities,"id"),e.id);this.entities.splice(e,1),this.isEmpty()&&this.hasCompletelyRespawned&&this.emptyCallback&&(this.hasCompletelyRespawned=!1,this.emptyCallback())},onEmpty:function(e){this.emptyCallback=e},addToArea:function(e){e&&null!==e.kind&&(this.entities.push(e),e.area=this),this.isFull()&&(this.hasCompletelyRespawned=!0)},setNumberOfEntities:function(e){this.nbEntities=e},isEmpty:function(){return!_.any(this.entities,function(e){return!e.isDead})},isFull:function(){return!this.isEmpty()&&this.nbEntities===_.size(this.entities)},respawn:function(i,e){var n=this;e=i.spawnDelay||e,this.removeFromArea(i),setTimeout(function(){var e=n.map.entities.spaceEntityRandomApart(2,n._getRandomPositionInsideArea.bind(n,20),n.entities),t=e.x,e=e.y;i.spawnX=i.x=t,i.spawnY=i.y=e,i.respawn()},e)}}));t.exports=e},{"../utils":69,"./area":1}],5:[function(e,t,i){e=e("../lib/class").Class.extend({init:function(e,t,i,n,a,r){this.map=e,this.elipse=t,this.x=i*G_TILESIZE,this.y=n*G_TILESIZE,this.width=a*G_TILESIZE,this.height=r*G_TILESIZE},contains:function(e){var t,i;return elipse?elipse?!!e&&(t=this.x,i=this.y,i=(t=Math.sqrt(Math.pow(e.x-t,2)+Math.pow(e.y-i,2)))<this.width/2&&t<this.height/2,console.log("this.elipseId="+this.elipseId),i):void 0:!!e&&e.x>=this.x&&e.y>=this.y&&e.x<this.x+this.width&&e.y<this.y+this.height}});t.exports=e},{"../lib/class":42}],6:[function(e,t,i){var n=e("./entityarea"),a=(e("underscore"),e("../data/mobdata")),o=(e("../message"),e("../utils"));e("../../shared/js/gametypes");t.exports=MobArea=n.extend({init:function(e,t,i,n,a,r,s,o,c,p,l,u,d,h,f,m){this._super(e,a,r,s,o,u,d,h),this.nb=t,this.minLevel=i,this.maxLevel=n,this.respawns=[],this.map=u,this.sMinLevel=f,this.sMaxLevel=m,this.include=null,"string"==typeof c&&(this.include=c.split(",")),this.exclude=null,"string"==typeof p&&(this.exclude=p.split(",")),this.setNumberOfEntities(this.nb),this.definite=null,l&&(this.definite=l)},addMobs:function(e){if(this.mobs=[],this.definite)for(var t in this.definite)this.mobs.push(a.Kinds[this.definite[t]]);else{for(var t in e&&(this.minLevel=this.sMinLevel?e+this.sMinLevel:this.minLevel,this.maxLevel=this.sMaxLevel?e+this.sMaxLevel:this.maxLevel),levelMobs=a.getByLevelRange(this.minLevel,this.maxLevel),this.mobs=this.mobs.concat(levelMobs),this.include)this.mobs.push(a.Kinds[this.include[t]]);for(var i=this.mobs.length;0<=--i;)for(var n in this.exclude)if(this.mobs[i].kind==this.exclude[n]){this.mobs.splice(i,1);break}}},spawnMobs:function(){for(var e=0;e<this.nb;++e)this.addToArea(this._createRandomMobInsideArea(),this.exclude)},_createMob:function(e){var t=this,i=t.map.entities.spaceEntityRandomApart(2,t._getRandomPositionInsideArea.bind(t,100));return i?(e=t.map.entities.addMob(e,i.x,i.y,this),t.addToArea(e),e):null},_createRandomMobInsideArea:function(){var e=0;if(!this.mobs||0==this.mobs.length)return null;if(1==this.mobs.length)return this._createMob(this.mobs[0].kind);var t=0,i=this.mobs.length;if(0==i)return console.warn("mobs length == 0 aborting create."),null;for(var n=0;n<i;++n){for(var a=0;a<this.mobs[n].spawnChance;++a)n*i+a,this.mobs[n].kind;t+=this.mobs[n].spawnChance}for(var r,e=0,s=o.randomInt(t-1),n=0;n<this.mobs.length;++n){if(s<=(r=this.mobs[n].spawnChance)){e=this.mobs[n].kind;break}s-=r}return 0==e?(console.info("this.mobs="+JSON.stringify(this.mobs)),console.warn("mob kind == 0 aborting create."),null):this._createMob(e)},respawnMob:function(i,e){var n=this;e=i.spawnDelay||e,this.removeFromArea(i),setTimeout(function(){var e=n.map.entities.spaceEntityRandomApart(1,n._getRandomPositionInsideArea.bind(n,20)),t=e.x,e=e.y;i.spawnX=i.x=t,i.spawnY=i.y=e,i.respawnMob()},e)},isNextTooEntity:function(e,t){t=t||G_TILESIZE;for(var i of this.entities)if(Math.abs(e.x-i.x)<G_TILESIZE&&Math.abs(e.y-i.y)<G_TILESIZE)return!0;return!1}})},{"../../shared/js/gametypes":552,"../data/mobdata":15,"../message":48,"../utils":69,"./entityarea":4,underscore:508}],7:[function(e,t,i){var n=e("./entityarea"),c=e("../timer"),s=e("../trapgroup"),o=e("../utils");e("../../shared/js/gametypes");t.exports=TrapArea=n.extend({init:function(e,t,i,n,a,r,s,o){this._super(e,t,i,n,a,r),this.groups=[],this.checkTimer=new c(500),this.damage=s||0,this.switchInterval=o||1e3},addGroup:function(e){this.groups.push(e)},addRandomGroup:function(e,t,i,n){for(var a=null,n=n||50,r=0;r++<n&&(a=[this.gx+o.randomInt(this.width/G_TILESIZE-t),this.gy+o.randomInt(this.height/G_TILESIZE-i)],!this.isGroupEmptyPositions(a,t,i));)a=null;a?(e=new s(e,a[0],a[1],t,i,this.map,this.damage,this.switchInterval),this.addGroup(e)):console.error("TrapArea - addRandomGroup - failed, threshold reached.")},isGroupEmptyPositions:function(e,t,i){console.info("isGroupEmptyPositions: pos=["+e[0]+","+e[1]+"],w="+t+",h="+i);for(var n=0;n<t;++n)for(var a=0;a<i;++a)if(!this.map.entities.isGridPositionEmpty((e[0]+n)*G_TILESIZE,(e[1]+a)*G_TILESIZE))return!1;return!0},isTouching:function(e){var t=G_TILESIZE>>1,i=this.x*G_TILESIZE-t,n=(this.x+this.width)*G_TILESIZE+t,a=this.y*G_TILESIZE-t,t=(this.y+this.width)*G_TILESIZE+t;return _.inRange(e.x,i,n)&&_.inRange(e.y,a,t)},update:function(e){if(this.checkTimer.isOver()&&this.isTouching(e))for(var t of this.groups)t.update(e)}})},{"../../shared/js/gametypes":552,"../timer":63,"../trapgroup":66,"../utils":69,"./entityarea":4}],8:[function(e,t,i){var n=e("./lib/class"),c=(e("./itemroom"),e("./message")),p=e("../shared/js/itemtypes"),l=e("../shared/js/gametypes");t.exports=AuctionRecord=n.Class.extend({init:function(e,t,i){this.playerName=e,this.price=t,this.item=i},save:function(e){return[this.playerName,this.price].join(",")+","+this.item.save()},toArray:function(e){return[parseInt(e),this.playerName,this.price].concat(this.item.toArray())}}),t.exports=Auction=n.Class.extend({init:function(){this.auctions={},this.load()},load:function(){console.info("AUCTION LOAD"),databaseHandler.loadAuctions(this,this.onLoad)},onLoad:function(e,t){t&&(e.auctions=t)},save:function(){console.info("AUCTION SAVED"),this.auctions&&databaseHandler.saveAuctions(this.auctions)},add:function(e,t,i,n){var a=0;this.auctions&&(a=Object.keys(this.auctions).length),this.auctions[a]=new AuctionRecord(e.name,i,t),e.inventory.setItem(n,null),e.map.entities.pushToPlayer(e,new c.Notify("AUCTION","AUCTION_ADDED"))},remove:function(e){this.auctions[e]=null},list:function(e,t){var i,n=[l.Messages.SC_AUCTIONOPEN,t,0],a=0;for(i in this.auctions){var r,s,o=this.auctions[i];o&&(r=o.item.itemKind,s=e.name===o.playerName,1===t&&!s&&p.isArmor(r)||2===t&&!s&&p.isWeapon(r)||0===t&&s)&&(n=n.concat(o.toArray(i)),++a)}n[2]=a,e.map.entities.pushToPlayer(e,new c.AuctionOpen(n))}})},{"../shared/js/gametypes":552,"../shared/js/itemtypes":553,"./itemroom":40,"./lib/class":42,"./message":48}],9:[function(e,t,i){var n=e("./lib/class"),a=(e("./itemroom"),e("./message")),r=e("../shared/js/itemtypes");e("../shared/js/gametypes");t.exports=Bank=n.Class.extend({init:function(e,t,i){if(this.owner=e,this.number=t,this.maxNumber=96,this.rooms={},console.info("number="+t),i)for(var n=0;n<i.length;n++)this.rooms[i[n].slot]=i[n]},hasItem:function(e){return this.hasItems(e,1)},hasItems:function(e,t){var i,n=0;for(i in this.rooms)if(this.rooms[i]&&this.rooms[i].itemKind===e&&t<=(n+=this.rooms[i].itemNumber))return!0;return!1},hasItemCount:function(e){var t,i=0;for(t in this.rooms)this.rooms[t]&&this.rooms[t].itemKind===e&&(i+=this.rooms[t].itemNumber);return i},makeEmptyItem:function(e){this.rooms[e]=null,delete this.rooms[e],this.setItem(e,null)},getItemCount:function(e){for(var t in this.rooms)if(this.rooms[t]&&this.rooms[t].itemKind==e)return this.rooms[t].itemNumber;return 0},getItemIndex:function(e){for(var t in this.rooms)if(this.rooms[t]&&this.rooms[t].itemKind==e)return t;return-1},getEmptyIndex:function(){for(var e=0;e<this.maxNumber;e++)if(!this.rooms[e])return e;return-1},putItem:function(e){var t=r.isConsumableItem(e.itemKind),i=r.isLootItem(e.itemKind),n=r.isCraftItem(e.itemKind);if(t||i||n)for(var a in this.rooms){a=this.combineItem(e,this.rooms[a]);if(0<=a)return a}return this._putItem(e)},combineItem:function(e,t){var i,n;return console.info(JSON.stringify(e)),console.info(JSON.stringify(t)),!e||!t||e.itemKind!=t.itemKind||r.isEquippable(e.itemKind)||r.isEquippable(t.itemKind)?-1:(i=e.slot,n=t.slot,t.itemNumber<this.maxStack&&(t.itemNumber+=e.itemNumber,t.itemNumber>this.maxStack?(e.itemNumber=t.itemNumber-this.maxStack,t.itemNumber=Math.min(t.itemNumber,this.maxStack)):e=null),t.itemNumber<=0&&(t=null),this.setItem(i,e),this.setItem(n,t),n)},_putItem:function(e){var t;return(t=this.getEmptyIndex(0,this.maxNumber))<0?(this.owner instanceof Player&&this.owner.map.entities.pushToPlayer(this.owner,new a.Notify("BANK","BANK_FULL")),-1):(this.setItem(t,e),t)},checkItem:function(e,t){return!0},setItem:function(e,t){if(t){if(!this.checkItem(e,t))return!1;(this.rooms[e]=t).slot=e}else t={slot:e,itemKind:-1},this.rooms[e]=null;return this.owner.map.entities.pushToPlayer(this.owner,new a.ItemSlot(1,[t])),!0},save:function(){databaseHandler.saveItems(this.owner,1,this.rooms)},takeOutItems:function(e,t){var i=this.rooms[e];return!i||t>i.itemNumber?null:(r.isEquippable(i.itemKind)?this.setItem(e,null):(i.itemNumber-=t,0==i.itemNumber&&(i=null),this.setItem(e,i)),i)},toString:function(){for(var e=0,t=this.maxNumber+",",e=0;e<this.maxNumber;e++){var i=this.rooms[e];t+=(itemArray=[i.itemKind,i.itemNumber,i.itemDurability,i.itemDurabilityMax,i.itemExperience]).join(",")}return t},toStringJSON:function(){for(var e="[",t=!1,i=0;i<this.maxNumber;i++){var n=this.rooms[i];n&&(e+="["+(itemArray=[i,n.itemKind,n.itemNumber,n.itemDurability,n.itemDurabilityMax,n.itemExperience]).join(",")+"],",t=!0)}return e=e.slice(0,-1),e+="]",t?e:"[]"}})},{"../shared/js/gametypes":552,"../shared/js/itemtypes":553,"./itemroom":40,"./lib/class":42,"./message":48}],10:[function(e,t,i){e("./utils");e=e("./area/area").extend({init:function(e,t,i,n,a,r){this._super(e,t,i,n,a,r)},isValidPosition:function(e,t){return this.map&&this.map.isValidPosition(e,t)}});t.exports=e},{"./area/area":1,"./utils":69}],11:[function(e,t,i){var n=e("underscore"),e=e("../../shared/data/appearance.json"),a=[],r={weapon:[],weaponarcher:[],armor:[],armorarcher:[]};n.each(e,function(e,t){a.push({name:e.name,type:e.type,sprite:e.sprite,buy:e.buy}),r[e.type]&&r[e.type].push({key:t,val:e})}),t.exports.ItemGearTypes=r,t.exports.Data=a,t.exports.getSpriteByID=function(e){return a[e].sprite}},{"../../shared/data/appearance.json":535,underscore:508}],12:[function(e,t,i){var n,a=e("underscore"),r=e("../../shared/js/itemtypes"),s=e("../../shared/data/items2.json"),o=e("../../shared/data/craft.json"),c=0;for(n of o)n.id=c++;var p={0:null};a.each(s,function(e,t){p[e.id]={name:e.name,type:e.type||"object",damageType:e.damageType||"none",typemod:e.typemod||"none",modifier:e.modifier||0,hand:e.hand||0,sprite:e.sprite||"",spriteName:e.spriteName||"",offset:e.offset||[0,0],buy:e.buy||0,buycount:e.buycount||1,staticsheet:0<e.staticsheet?e.staticsheet:0,level:e.level||e.modifier,legacy:e.legacy||0,craft:function(e){var t,i=[];for(t of o)t.o==e&&i.push(t);return i}(e.id)}}),r.setKindData(p),t.exports.Kinds=p,t.exports.CraftData=o},{"../../shared/data/craft.json":536,"../../shared/data/items2.json":539,"../../shared/js/itemtypes":553,underscore:508}],13:[function(e,t,i){var n=e("underscore"),e=e("../../shared/data/itemloot.json"),a=[];n.each(e,function(e,t){a[t]={name:e.name,rarity:e.rarity,sprite:e.sprite,offset:e.offset,include:e.include||null}}),t.exports.ItemLoot=a},{"../../shared/data/itemloot.json":538,underscore:508}],14:[function(e,t,i){var n=e("underscore"),e=e("../../shared/data/lang.json"),a={};n.each(e,function(e,t){a[t]=e}),t.exports.Data=a},{"../../shared/data/lang.json":540,underscore:508}],15:[function(e,t,i){var n=e("underscore"),e=e("../../shared/data/mobs.json"),a={},r={};n.each(e,function(e,t){a[t.toLowerCase()]={key:t.toLowerCase(),kind:e.kind,attack:e.attackMod?3*e.attackMod:3,defense:e.defenseMod?3*e.defenseMod:3,hp:e.hpMod?150*e.hpMod:150,xp:e.xpMod?10*e.xpMod:10,level:e.level||0,minLevel:e.minLevel||0,maxLevel:e.maxLevel||0,aggroRange:e.aggroRange?e.aggroRange+1:4,attackRange:e.attackRange||1,isAggressive:1==e.isAggressive,attackRate:e.attackRateMod?1500*e.attackRateMod:1500,reactionDelay:e.reactionMod?256*e.reactionMod:256,moveSpeed:e.moveSpeedMod?~~(300+200*e.moveSpeedMod):500,respawn:e.respawnMod?3e4*e.respawnMod:3e4,dropRate:e.dropRate||1,spawnChance:e.spawnChance||50,dropBonus:e.dropBonus||0,drops:e.drops||null},r[e.kind]=a[t.toLowerCase()]});t.exports.Properties=a,t.exports.Kinds=r,t.exports.isMob=function(e){return!!r[e]},t.exports.forEachMobKind=function(e){for(var t in MobKinds)e(MobKinds[t][0],t)},t.exports.getByLevelRange=function(e,t){for(var i in levelRange=[],r){i=r[i];(0<i.level&&i.level>=e&&i.level<=t||0<i.minLevel&&0<i.maxLevel&&(e>=i.minLevel&&e<=i.maxLevel||t>=i.minLevel&&t<=i.maxLevel))&&levelRange.push(i)}return levelRange}},{"../../shared/data/mobs.json":541,underscore:508}],16:[function(e,t,i){var n=e("underscore"),e=e("../../shared/data/mobs_speech.json"),a={};n.each(e,function(e,t){a[t]=e}),t.exports.Speech=a},{"../../shared/data/mobs_speech.json":542,underscore:508}],17:[function(e,t,i){var n=e("underscore"),e=e("../../shared/data/notifications.json"),a={},r=0;n.each(e,function(e,t){a[r++]={textid:e.textid,interval:e.interval}}),t.exports.Notifications=a},{"../../shared/data/notifications.json":543,underscore:508}],18:[function(e,t,i){var n=e("underscore"),a=e("../../shared/data/npcs.json"),e=(e("../../shared/data/npc_english.json"),e("../../shared/data/npc_names_eng.json")),r={},s=a;n.each(s,function(e,t){r[e.uid]={uid:e.uid,kind:t,name:e.name||e.uid}});t.exports.Properties=r,t.exports.Kinds=s,t.exports.isNpc=function(e){return!!s[e]},t.exports.NPCnames=e},{"../../shared/data/npc_english.json":544,"../../shared/data/npc_names_eng.json":546,"../../shared/data/npcs.json":547,underscore:508}],19:[function(e,t,i){e("../utils");var n,a=e("../quest"),r=e("../../shared/data/quests.json"),s={},o={};for(n in r){var c=r[n],p=(console.info("data:"+JSON.stringify(c)),{}),c=(p.id=n,p.npcQuestId=c.npcKind,p.raw=c,p.npcKind=c.npcKind,p.type=c.type,p.level=c.level,p.data1=c.data1||0,p.data2=c.data2||0,p.count=0,p.status=0,c.object&&(p.object=getQuestObject([c.object.type,c.object.kind,c.object.count||0,c.object.chance||0,c.object.level||[0,99]])),c.object2&&(p.object2=getQuestObject([c.object2.type,c.object2.kind,c.object2.count||0,c.object2.chance||0,c.object2.level||[0,99]])),Object.assign(new a,p));s[p.id]=c,o[p.npcKind]||(o[p.npcKind]=[]),o[p.npcKind].push(c)}console.info(JSON.stringify(o)),t.exports.Data=s,t.exports.NpcData=o},{"../../shared/data/quests.json":549,"../quest":58,"../utils":69}],20:[function(e,t,i){var n,a=e("../../shared/data/skills2.json"),r=(e("../effecthandler"),[]);for(n in a){var s=a[n];console.info(n+"="+JSON.stringify(s)),r.push({skillType:s.skillType,targetType:s.targetType||0,duration:s.duration||0,durationPL:s.durationPL||0,recharge:s.recharge?1e3*s.recharge:0,aoe:s.aoe||0,countTotal:s.countTotal||0,effectTypes:function(e){var t=[];for(rec in e)t.push(new EffectType(1==rec[0],rec[1],rec[2],rec[3]))}(s.effects)})}console.info("skills: "+JSON.stringify(r)),t.exports.Skills=r},{"../../shared/data/skills2.json":550,"../effecthandler":22}],21:[function(t,e,i){t("path");e.exports=function(e){return t("./redis")}},{"./redis":59,path:void 0}],22:[function(e,t,i){e("underscore");var n=e("./lib/class"),o=e("./utils"),a=e("./data/skilldata"),r=(e("../shared/js/gametypes"),EffectType=n.Class.extend({init:function(e,t,i,n){this.entity=null,this.isTarget=e,this.phase=t,this.stat=i,this.modValue=n||0,this.active=!1},apply:function(e,t,i,n){if(this.phase==i&&t!=this.isTarget){var a=0,r=0,s=0;switch(this.stat){case SkillEffects.EffectStat.HP:a=e.stats.hp,s=r=e.stats.hpMax;break;case SkillEffects.EffectStat.EP:a=e.stats.ep,s=r=e.stats.epMax;break;case SkillEffects.EffectStat.ATTACK:r=a=e.stats.attack;break;case SkillEffects.EffectStat.DEFENSE:r=a=e.stats.defense}switch(0<n&&this.stat===SkillEffects.EffectStat.DAMAGE&&(a=e.stats.hp,r=n,s=e.stats.hpMax),0<a&&0<r&&this.getModDiff(a,r,s),this.stat){case SkillEffects.EffectStat.HP:e.stats.hp+=this.diff,o.clamp(0,e.stats.hpMax,e.stats.hp);break;case SkillEffects.EffectStat.EP:e.stats.ep+=this.diff,o.clamp(0,e.stats.epMax,e.stats.ep);break;case SkillEffects.EffectStat.ATTACK:e.stats.mod.attack=this.diff;break;case SkillEffects.EffectStat.DEFENSE:e.stats.mod.defense=this.diff;break;case SkillEffects.EffectStat.DAMAGE:e.stats.mod.damage=this.diff;case SkillEffects.EffectStat.FREEZE:1==this.modVal?e.freeze=!0:e.freeze=!1;break;case SkillEffects.EffectStat.MOVESPEED:e.moveSpeed+=this.modVal}}},getModDiff:function(e,t,i){var n=this.modValue*this.level,t=n=effectType.modValue<1?~~(t*this.modValue*this.level):n;return e+=n,0<i&&i<e&&(t-=e-i),e<0&&(t=e),this.diff=t}}),n.Class.extend({init:function(e,t,i){this.source,this.skillId=t,this.data=a.Skills[t],console.info("SkillEffect - skillId:"+t),this.targetType=this.data.targetType,this.activeTimer=0,this.duration=(this.data.durationPL?this.data.durationPL*this.level:this.data.duration)||0,this.duration*=1e3,this.countTotal=this.data.total||0,this.count=0,this.effectTypes=this.data.effectTypes,this.level=i,this.isActve=!1,this.interval=null,this.targets=[]},getTargets:function(e,t,i){switch(this.targetType){case SkillEffects.TargetType.SELF:return[this.source];case SkillEffects.TargetType.ENEMY:return[this.source,e];case SkillEffects.TargetType.PLAYER_AOE:return(n=e.maps.entities.getPlayerAround(e,this.data.aoe)).unshift(this.source),n;case SkillEffects.TargetType.ENEMY_AOE:var n;return(n=e.maps.entities.getMobsAround(e,this.data.aoe)).unshift(this.source,this.target),n}return[]},apply:function(e,t,i){var n=this;0<this.duration&&(this.activeTimer=0,this.interval&&(clearInterval(this.interval),this.interval=null),this.interval=setInterval(function(){n.activeTimer>n.duration?(n.applyEffects(1,0),n.isActive=!1,clearInterval(n.interval),n.interval=null):(n.applyEffects(2,0),n.activeTimer+=1e3)},1e3)),0<this.countTotal&&(this.count=0),this.targets=this.getTargets(e,t,i),this.isActive=!0,this.applyEffects(0,0)},applyEffects:function(e,t){for(var i of this.targets)for(var n in this.effectTypes)this.isActive&&n.apply(i,this.source!=i,e,t)},onInterval:function(e,t){0<this.countTotal&&this.count==this.countTotal?(this.applyEffects(1,0),this.isActive=!1):(this.applyEffects(e,t),0<this.countTotal&&5==e&&this.count++)}})),e=n.Class.extend({init:function(e){this.entity=e,this.skillEffects=[];for(var t of this.entity.skills)this.skillEffects.push(new r(this.entity,t.skillIndex,t.skillLevel))},interval:function(e,t){t=t||0;for(var i of this.skillEffects)i.onInterval(e,t)},cast:function(e,t,i,n){this.skillEffects[e].apply(t,i,n)}});t.exports=EffectType,t.exports=r,t.exports=e},{"../shared/js/gametypes":552,"./data/skilldata":20,"./lib/class":42,"./utils":69,underscore:508}],23:[function(e,t,i){var n=e("./entitymoving"),l=e("../../shared/js/gametypes");t.exports=Block=n.extend({init:function(e,t,i,n,a,r,s,o,c){var p=this.type=l.EntityTypes.BLOCK;this.parent=r,this.ix=o,this.iy=c,this._super(e,p,t,i,n,a),this.name=s,this.playerName=null},isCompleted:function(e){this.parent.isCompleted()&&this.parent.onComplete()},getState:function(){return this._getBaseState().concat([parseInt(this.ix),parseInt(this.iy)])},update:function(e){this.playerName=e.name,this.parent.update()}})},{"../../shared/js/gametypes":552,"./entitymoving":27}],24:[function(e,t,i){var n=e("./entitymoving"),r=e("../message"),g=e("../utils"),a=e("../data/mobdata"),s=e("../timer"),c=e("../../shared/js/gametypes"),o=e("../transition");t.exports=Character=n.extend({init:function(e,t,i,n,a,r){this._super(e,t,i,n,a,r),this.nextX=-1,this.nextY=-1,this.prevX=-1,this.prevY=-1,this.atkSpeed=100,this.moveSpeed=100,this.setMoveRate(this.moveSpeed),this.walkSpeed=150,this.idleSpeed=g.randomInt(750,1e3),this.setAttackRate(1024),this.target=null,this.unconfirmedTarget=null,this.attackers={},this.isDead=!1,this.isDying=!1,this.attackingMode=!1,this.followingMode=!1,this.engagingPC=!1,this.observeTimer=new s(4096),this.step=0,this.orientation=this.setRandomOrientation(),this.movement=new o,this.path=null,this.newDestination=null,this.adjacentTiles={},this.stats={},this.stats.hp=0,this.stats.hpMax=0,this.stats.ep=0,this.stats.epMax=0,this.attackCooldown=null,this.moveCooldown=null,this.attackerLevel=0,this.defenderLevel=0,this.moveLevel=0,this.armor=null,this.weapon=null,this.freeze=!1,this.effects={},this.invincible=!1,this.mod={accuracy:1,damage:1,defence:1,attack:1,attackTime:1,crit:1,dot:0,dr:0,time:0,daze:0,hate:0},this.neighboursUpdated=!1},setMaxHpMax:function(e){this.stats.hpMax=e,this.stats.hp=e},setAttackRange:function(e){this.attackRange=e*G_TILESIZE},setOrientation:function(e){e&&(this.orientation=e||0)},idle:function(e){this.setOrientation(e)},hit:function(e){this.setOrientation(e),this.stop()},walk:function(e){this.setOrientation(e)},moveTo_:function(e,t,i){this.destination={x:e,y:t},this.adjacentTiles={},this.isMovingPath()?this.continueTo(e,t):(console.warn("requestPathfindingTo"),e=this.requestPathfindingTo(e,t),console.warn("requestPathfindingTo.path: "+JSON.stringify(e)),e&&this.followPath(e))},requestPathfindingTo:function(e,t){if(Array.isArray(this.path)&&0<this.path.length)return this.path;if(this.request_path_callback)return this.request_path_callback(e,t);console.info(this.id+" couldn't request pathfinding to "+e+", "+t),console.info("char x:"+this.x+",y: "+this.y+", x:"+e+"y: "+t);try{throw new Error}catch(e){console.info(e.stack)}return null},onRequestPath:function(e){this.request_path_callback=e},onStartPathing:function(e){this.start_pathing_callback=e},onStopPathing:function(e){this.stop_pathing_callback=e},onAbortPathing:function(e){this.abort_pathing_callback=e},followPath:function(e){e&&(this.path=e,this.step=0,this.followingMode&&e.pop(),this.start_pathing_callback)&&this.start_pathing_callback(e)},continueTo:function(e,t){this.newDestination={x:e,y:t}},onAggro:function(e){this.aggro_callback=e},onCheckAggro:function(e){this.checkaggro_callback=e},checkAggro:function(){this.checkaggro_callback&&this.checkaggro_callback()},aggro:function(e){this.aggro_callback&&this.aggro_callback(e)},onDeath:function(e){this.death_callback=e},lookAt:function(e,t){return this.getOrientationTo({x:e,y:t})},go:function(e,t){this.isAttacking()?this.disengage():this.followingMode&&(this.followingMode=!1,this.target=null),this.moveTo_(e,t)},follow:function(e){e=this.getClosestSpot(e);e&&e.x&&e.y&&this.moveTo_(e.x,e.y)},getLastMove:function(){var e;return this.path?[(e=this.path[this.path.length-1])[0],e[1]]:null},getSpotsAroundFrom:function(e,t,i){t=t||1,i=i||1;for(var n=[],a=Math.min(t,i),r=Math.max(t,i),s=a;s<=r;++s)n=n.concat(this.getSpotsAround(e,s));return n},getSpotsAround:function(e,t){for(var i,n,a=(t=t||1)*G_TILESIZE,r=4*t,t=[e.x,e.y],s=t[0],o=t[1],c=this.x,p=this.y,l=[],u=2*Math.PI/r,d=0,h=0;h<r;++h)d+=u,i=~~(s+Math.sin(d)*a),n=~~(o+Math.cos(d)*a),l.push([i,n]);for(var f,m=[],y=(l=l.filter((t,e,i)=>i.findIndex(e=>e[0]===t[0]&&e[1]===t[1])===e)).length,h=0;h<y;++h)f=l[h],m.push({d:g.realDistance([c,p],f),x:f[0],y:f[1]});return m},getClosestSpot:function(e,t,i){var n=this.getSpotsAroundFrom(e,t=t||1,i=i||1);this.x,this.y;for(s of n)this.map.isColliding(s.x,s.y)&&n.splice(n.indexOf(s),1);var a,r,s,o,c,p=this.map.entities.getCharactersAround(e,i),l=G_TILESIZE>>1;for(s of n){a=s.x,r=s.y;for(var u of p)u&&this!=u&&(o=u.x,c=u.y,u.isMovingPath()&&(u=u.getLastMove())&&(o=u[0],c=u[1]),Math.abs(a-o)<=l)&&Math.abs(r-c)<=l&&n.splice(n.indexOf(s),1)}return 0==n.length?null:(n.sort(function(e,t){return e.d-t.d}),{x:n[0].x,y:n[0].y})},engage:function(e){this.attackingMode=!0,this.setTarget(e)},disengage:function(){this.attackingMode=!1,this.followingMode=!1,this.removeTarget()},isAttacking:function(){return this.attackingMode},getOrientationTo:function(e){return this.getOrientation([this.x,this.y],[e.x,e.y])},isAttackedBy:function(e){return 0!=Object.keys(this.attackers).length&&this.attackers.hasOwnProperty(e.id)&&this.attackers[e.id]===e},isAttacked:function(){return!(0==Object.keys(this.attackers).length)},addAttacker:function(e){this.isAttackedBy(e)||(this.attackers[e.id]=e)},removeAttacker:function(e){this.isAttacked()&&delete this.attackers[e.id]},removeAttackers:function(){this.attackers={}},clearAttackerRefs:function(){var t=this;this.forEachAttacker(function(e){e.removeAttacker(t)})},forEachAttacker:function(t){_.each(this.attackers,function(e){t(e)})},stopInPath:function(e,t){this.isMovingPath()&&this.map.entities.pathfinder.isInPath(this.path,[e,t])&&(this.setPosition(e,t),this.interrupted=!0,this.forceStop())},stop:function(){this.isMovingPath()&&(this.interrupted=!0,this.moving=!1)},forceStop:function(){this.movement.stop(),this.orientation=0,this.moveOrientation=0,this.isMovingPath()&&(this.interrupted&&this.abort_pathing_callback&&this.abort_pathing_callback(this.x,this.y),this.interrupted=!1,this.path=null,this.newDestination=null,this.isReadyToMove=!0,this.followingMode=!1)},forceStopMove:function(){console.info("character - forceStopMove - called"),this.movement.stop(),this.moveOrientation=0,this.freeze=!1,this.movestop_callback&&this.movestop_callback()},setMoveStopCallback:function(e){this.movestop_callback=e},removeTarget:function(){this.target&&(this.target instanceof Character&&this.target.removeAttacker(this),this.removetarget_callback&&this.removetarget_callback(this.target.id),this.target=null)},onRemoveTarget:function(e){this.removetarget_callback=e},hasTarget:function(){return!(null===this.target)},waitToAttack:function(e){this.unconfirmedTarget=e},isWaitingToAttack:function(e){return this.unconfirmedTarget===e},canAttack:function(){return!(0!=this.isDead||!this.attackCooldown.isOver())},canMove:function(){return!(0!=this.isDead||!this.moveCooldown.isOver())},onHasMoved:function(e){this.hasmoved_callback=e},hasMoved:function(){this.setDirty(),this.hasmoved_callback&&this.hasmoved_callback(this)},hurt:function(){this.stopHurting(),this.sprite=this.hurtSprite,this.hurting=setTimeout(this.stopHurting.bind(this),75)},stopHurting:function(){this.sprite=this.normalSprite,clearTimeout(this.hurting)},setAttackRate:function(e){this.attackCooldown=new s(e)},setMoveRate:function(e){this.moveSpeed=e,this.walkSpeed=~~(e/4),this.moveCooldown=new s(e),this.tick=Math.round(1e3/this.moveSpeed)},getState:function(){return this._getBaseState()},modHealthBy:function(e){var t=this.stats.hp,i=this.stats.hpMax;return this.stats.hp=g.clamp(0,i,t+e),this.changePoints(e,0)},modEnergyBy:function(e){var t=this.stats.ep,i=this.stats.epMax;return this.stats.ep=g.clamp(0,i,t+e),this.changePoints(0,e)},hasFullHealth:function(){return this.stats.hp===this.stats.hpMax},hasFullEnergy:function(){return this.stats.ep===this.stats.epMax},clearTarget:function(){this.target=null},changePoints:function(e,t){return new r.ChangePoints(this,e,t)},getPathIndex:function(e){return null===!this.path||0===this.path.length||e<0||e>=this.path.length?null:this.path[e]},isWithinPath:function(e){var t=null;if("Object"==typeof e&&0<e.x&&0<e.y?t=[e.x,e.y]:Array.isArray(e)&&2==e.length&&(t=[e[0],e[1]]),t&&null!==this.path&&0!==this.path.length)for(var i=this.path.length,n=0;n<i;++n)if(this.path[n][0]===t[0]&&this.path[n][1]===t[1])return{x:t[0],y:t[1],step:n};return null},clean:function(){this.forEachAttacker(function(e){e.disengage(),e.idle()})},updateMovement:function(){var e=this.path,t=this.step;!e||t>e.length-1||(this.x<e[t][0]?this.walk(c.Orientations.RIGHT):this.x>e[t][0]?this.walk(c.Orientations.LEFT):this.y<e[t][1]?this.walk(c.Orientations.DOWN):this.y>e[t][1]?this.walk(c.Orientations.UP):this.idle())},nextStepPath:function(){return 0==this.step&&(this.step++,this.updateMovement()),this.step<this.path.length&&this.x==this.path[this.step][0]&&this.y==this.path[this.step][1]&&(this.step++,this.updateMovement(),!0)},nextStep:function(){var e,t,i=!1,n=!1;return(i=this.isMovingPath()&&!this.freeze?i:this.interrupted=!0)||(n=this.nextStepPath(),this.step>=this.path.length&&(i=!0),this.step_callback&&this.step_callback(this.x,this.y)),this.hasChangedItsPath()?(this.setPosition(this.x,this.y),e=this.newDestination.x,t=this.newDestination.y,e=this.requestPathfindingTo(e,t),this.newDestination=null,this.followPath(e),!0):(i&&(this.stop_pathing_callback&&(this.stop_pathing_callback(this.x,this.y),this.forceStop()),n=!0),n)},onBeforeMove:function(e){this.before_move_callback=e},onBeforeStep:function(e){this.before_step_callback=e},onStep:function(e){this.step_callback=e},isMoving:function(){return this.movement.inProgress},isMovingPath:function(){return this.path&&0<this.path.length},hasNextStep:function(){return this.path&&this.path.length-1>this.step},hasChangedItsPath:function(){return!(null===this.newDestination)},isNear:function(e,t){var i=!1,n=Math.abs(this.x-e.x),e=Math.abs(this.y-e.y);return i=n<=t*G_TILESIZE&&e<=t*G_TILESIZE?!0:i},onRemove:function(e){this.remove_callback=e},lookAtEntity:function(e){return e&&(this.orientation=this.getOrientationTo(e)),this.orientation},getOrientation:function(e,t){var i=Math.abs(e[0]-t[0]),n=Math.abs(e[1]-t[1]);return n<i?e[0]>t[0]?c.Orientations.LEFT:c.Orientations.RIGHT:i<n?e[1]>t[1]?c.Orientations.UP:c.Orientations.DOWN:c.Orientations.NONE},setTarget:function(e){var t;null==e?this.removeTarget():this.target!==e?(this.hasTarget()&&this.removeTarget(),this.unconfirmedTarget=null,this.target=e,this.settarget_callback&&(t=this.target.spriteName,a.Kinds[e.kind])&&t&&this.settarget_callback(e,t,e.level)):console.info(e.id+" is already the target of "+this.id)},isInReach:function(e,t,i,n,a){var i=i||this.orientation,r=G_TILESIZE,a=a||r>>1,n=n||r+a,s=a,o=a;switch(i){case c.Orientations.UP:case c.Orientations.DOWN:o=n;break;case c.Orientations.LEFT:case c.Orientations.RIGHT:s=n;break;case c.Orientations.NONE:return!1}return Math.abs(this.x-e)<=s&&Math.abs(this.y-t)<=o},canReach:function(e){G_TILESIZE;return 1===this.attackRange?this.isInReach(e.x,e.y,this.orientation):1<this.attackRange&&~~(g.realDistance([e.x,e.y],[this.x,this.y])/G_TILESIZE)<=this.attackRange},followAttack:function(e){e=this.getClosestSpot(e,1,this.attackRange);e&&e.x&&e.y&&this.moveTo_(e.x,e.y)},dying:function(){this.isDead=!1,this.isDying=!0},die:function(){console.warn("CHARACTER DIED!!!!!!!!!!!!!!!!!!!!!"),this.removeTarget(),this.isDying=!0,this.isDead=!0,this.death_callback&&this.death_callback()},isOverlapping:function(){var e,t=this.map.entities.getCharactersAround(this,1);res=!1,ts=G_TILESIZE;for(e of t)if(e&&this!=e){var i=e.x,n=e.y;if(Math.abs(this.x-i)<ts&&Math.abs(this.y-n)<ts){res=!0;break}}return res},resetHP:function(){var e="function"==typeof this.getHPMax?this.getHPMax():this.stats.hpMax,t=(this.stats.hpMax=e)-this.stats.hp;this.stats.hp=e,msg=new r.ChangePoints(this,t,0),this.map.entities.pushNeighbours(this,msg)},resetEP:function(){var e="function"==typeof this.getEPMax?this.getEPMax():this.stats.epMax;this.stats.epMax=e,this.stats.ep=e},setHP:function(e){e=e||"function"==typeof this.getHPMax?this.getHPMax():this.stats.hpMax,this.stats.hp=e},setEP:function(e){e=e||"function"==typeof this.getEPMax?this.getEPMax():this.stats.epMax,this.stats.ep=e},isFacing:function(e,t){var i=this.x-e,n=this.y-t;switch(this.orientation){case 1:return 0<n;case 2:return n<0;case 3:return 0<i;case 4:return i<0}return!1},isFacingEntity:function(e){return this.isFacing(e.x,e.y)},nextTile:function(e,t){e=e||this.x,t=t||this.y;var i=G_TILESIZE;switch(this.orientation){case 1:return[e,t-i];case 2:return[e,t+i];case 3:return[e-i,t];case 4:return[e+i,t]}return[e,t]},onDamage:function(e,t,i,n,a){i=i||0,n=n||0,a=a||0,0<(t=t||0)&&this.addAttacker(e),0!=t&&(this.stats.hp=g.clamp(0,this.stats.hpMax,this.stats.hp-t)),0!=i&&(this.stats.ep=g.clamp(0,this.stats.epMax,this.stats.ep-i));t=new r.Damage([e,this,-t,-i,n,a]);this.map.entities.pushNeighbours(e,t)}}),t.exports=Character},{"../../shared/js/gametypes":552,"../data/mobdata":15,"../message":48,"../timer":63,"../transition":65,"../utils":69,"./entitymoving":27}],25:[function(e,t,i){var n=e("./item"),a=e("../data/itemdata"),o=e("../../shared/js/gametypes"),c=e("../utils"),e=n.extend({init:function(e,t,i,n,a,r,s){this._super(e,o.EntityTypes.CHEST,t,i),this.map=n,this.level=c.randomRangeInt(r,s),this.setDrops(),this.area=a,this.spawnDelay=3e4},handleRespawn:function(){this.droppedItem=!1,this.area&&this.area instanceof ChestArea&&this.area.respawnChest(this,this.spawnDelay)},setDrops:function(){this.drops={};var e,t=10*Math.ceil(this.level/10);for(e in a.Kinds){var i=a.Kinds[e];if(i){if("attack"==i.typemod||"defense"==i.typemod)switch(t){case i.modifier+10:this.drops[e]=20;break;case i.modifier:this.drops[e]=10;break;case i.modifier-10:this.drops[e]=5;break;case i.modifier-20:this.drops[e]=2}if("craft"==i.typemod)switch(t){case i.modifier+10:this.drops[e]=400;break;case i.modifier:this.drops[e]=200;break;case i.modifier-10:this.drops[e]=100;break;case i.modifier-20:this.drops[e]=50}}}}});t.exports=e},{"../../shared/js/gametypes":552,"../data/itemdata":12,"../utils":69,"./item":28}],26:[function(e,t,i){var n=e("../lib/class"),a=e("../message"),s=e("../utils"),o=e("../data/appearancedata");t.exports=Entity=n.Class.extend({init:function(e,t,i,n,a,r){this.type=t,this.id=e,this.kind=i,this.map=r,this.mapIndex=r.index,this.shadowOffsetY=0,this.isLoaded=!1,this.isHighlighted=!1,this.visible=!0,this.isFading=!1,this.prevX=0,this.prevY=0,this.prevOrientation=null,this.name="",this.nameOffsetY=-10,this.isCritical=!1,this.isHeal=!1,this.shadowOffsetY=0,this.setPosition(Number(n),Number(a)),this.orientation=s.randomOrientation()},setName:function(e){this.name=e},setPosition:function(e,t){var i=G_TILESIZE,n=(this.x=e)>>4,a=(this.y=t)>>4,e=(void 0===this.gx&&(this.gx=n),void 0===this.gy&&(this.gy=a),e%i==0&&(this.gx=n),t%i==0&&(this.gy=a),~~(n/G_SPATIAL_SIZE)),t=~~(a/G_SPATIAL_SIZE);this.hasOwnProperty("sx")||(this.spx=e),this.hasOwnProperty("sy")||(this.spy=t),this.spatialMapid==this.map.id&&this.map.entities.spatial[this.spy][this.spx].hasOwnProperty(this.id)&&(this.map.entities.spatial[this.spy][this.spx][this.id]=null),(this.map.entities.spatial[t][e][this.id]=this).spx=e,this.spy=t,this.spatialMapId=this.map.id},ready:function(e){this.ready_func=e},clean:function(){},log_info:function(e){console.info("["+this.id+"] "+e)},log_error:function(e){console.error("["+this.id+"] "+e)},getDistanceToEntity:function(e){var t=Math.abs(e.x-this.x),e=Math.abs(e.y-this.y);return e<t?t:e},isAdjacent:function(e){var t=!1;return t=e?!(1<this.getDistanceToEntity(e)):t},isAdjacentNonDiagonal:function(e){var t=!1;return t=!this.isAdjacent(e)||this.x!==e.x&&this.y!==e.y?t:!0},isDiagonallyAdjacent:function(e){return this.isAdjacent(e)&&!this.isAdjacentNonDiagonal(e)},forEachAdjacentNonDiagonalPosition:function(e){e(this.x-1,this.y,Types.Orientations.LEFT),e(this.x,this.y-1,Types.Orientations.UP),e(this.x+1,this.y,Types.Orientations.RIGHT),e(this.x,this.y+1,Types.Orientations.DOWN)},_getBaseState:function(){return[parseInt(this.id,10),parseInt(this.type),parseInt(this.kind),this.name,parseInt(this.map.index),parseInt(this.x),parseInt(this.y),parseInt(this.orientation||0)]},getMapIndex:function(){return this.map.index},getState:function(){return this._getBaseState()},spawn:function(){return new a.Spawn(this)},despawn:function(){return new a.Despawn(this)},getPositionNextTo:function(e){var t,i=null;return e&&(i={},t=s.random(4),i.x=e.x,i.y=e.y,0===t&&(i.y-=16),1===t&&(i.y+=16),2===t&&(i.x-=16),3===t)&&(i.x+=16),i},setRandomOrientation:function(){0===(r=s.random(4))&&(this.orientation=Types.Orientations.LEFT),1===r&&(this.orientation=Types.Orientations.RIGHT),2===r&&(this.orientation=Types.Orientations.UP),3===r&&(this.orientation=Types.Orientations.DOWN)},isNextTooEntity:function(e){return this.isNextToo(e.x,e.y)},isNextToo:function(e,t,i){i=i||this.orientation,i=G_TILESIZE;return Math.abs(this.x-e)<=i&&Math.abs(this.y-t)<=i},isWithin:function(e){return Math.abs(e.x-this.x)<G_TILESIZE>>1&&Math.abs(e.y-this.y)<G_TILESIZE>>1},isTouching:function(e){return Math.abs(e.x-this.x)<G_TILESIZE&&Math.abs(e.y-this.y)<G_TILESIZE},getSpriteName:function(e){return o.getSpriteByID(e)},destroy:function(){}}),t.exports=Entity},{"../data/appearancedata":11,"../lib/class":42,"../message":48,"../utils":69}],27:[function(e,t,i){var n=e("./entity"),s=(e("../message"),e("../utils")),a=e("../timer"),c=e("../../shared/js/gametypes"),o=e("../transition");t.exports=EntityMoving=n.extend({init:function(e,t,i,n,a,r){this._super(e,t,i,n,a,r),this.nextX=-1,this.nextY=-1,this.prevX=-1,this.prevY=-1,this.moveSpeed=100,this.setMoveRate(this.moveSpeed),this.walkSpeed=150,this.idleSpeed=s.randomInt(750,1e3),this.followingMode=!1,this.engagingPC=!1,this.step=0,this.orientation=this.setRandomOrientation(),this.movement=new o,this.path=null,this.newDestination=null,this.adjacentTiles={},this.moveCooldown=null,this.freeze=!1},setOrientation:function(e){e&&(this.orientation=e||0)},idle:function(e){this.setOrientation(e)},walk:function(e){this.setOrientation(e)},moveTo_:function(e,t,i){this.destination={x:e,y:t},this.adjacentTiles={},this.isMovingPath()?this.continueTo(e,t):(e=this.requestPathfindingTo(e,t))&&this.followPath(e)},requestPathfindingTo:function(e,t){if(Array.isArray(this.path)&&0<this.path.length)return this.path;if(this.request_path_callback)return this.request_path_callback(e,t);console.info(this.id+" couldn't request pathfinding to "+e+", "+t),console.info("char x:"+this.x+",y: "+this.y+", x:"+e+"y: "+t);try{throw new Error}catch(e){console.info(e.stack)}return null},onRequestPath:function(e){this.request_path_callback=e},onStartPathing:function(e){this.start_pathing_callback=e},onStopPathing:function(e){this.stop_pathing_callback=e},onAbortPathing:function(e){this.abort_pathing_callback=e},followPath:function(e){e&&(this.path=e,this.step=0,this.followingMode&&e.pop(),this.start_pathing_callback)&&this.start_pathing_callback(e)},continueTo:function(e,t){this.newDestination={x:e,y:t}},lookAt:function(e,t){return this.getOrientationTo([e,t])},go:function(e,t){this.isAttacking()?this.disengage():this.followingMode&&(this.followingMode=!1,this.target=null),this.moveTo_(e,t)},follow:function(e){e=this.getClosestSpot(e);e&&e.x&&e.y&&this.moveTo_(e.x,e.y)},getLastMove:function(){var e;return this.path?[(e=this.path[this.path.length-1])[0],e[1]]:null},getOrientationTo:function(e){return this.getOrientation([this.x,this.y],[e.x,e.y])},stopInPath:function(e,t){this.isMovingPath()&&this.map.entities.pathfinder.isInPath(this.path,[e,t])&&(this.setPosition(e,t),this.interrupted=!0,this.forceStop())},stop:function(){this.isMovingPath()&&(this.interrupted=!0,this.moving=!1)},forceStop:function(){this.movement.stop(),this.orientation=0,this.moveOrientation=0,this.isMovingPath()&&(this.interrupted&&this.abort_pathing_callback&&this.abort_pathing_callback(this.x,this.y),this.interrupted=!1,this.path=null,this.newDestination=null,this.isReadyToMove=!0,this.followingMode=!1)},forceStopMove:function(){console.info("character - forceStopMove - called"),this.movement.stop(),this.moveOrientation=0,this.freeze=!1,this.movestop_callback&&this.movestop_callback()},setMoveStopCallback:function(e){this.movestop_callback=e},canMove:function(){return!(0!=this.isDead||!this.moveCooldown.isOver())},onHasMoved:function(e){this.hasmoved_callback=e},hasMoved:function(){this.setDirty(),this.hasmoved_callback&&this.hasmoved_callback(this)},setMoveRate:function(e){this.moveSpeed=e,this.walkSpeed=~~(e/4),this.moveCooldown=new a(e),this.tick=Math.round(1e3/this.moveSpeed)},getState:function(){return this._getBaseState()},setFreeze:function(e,t){var i=this;e<=0?i.freeze=!1:(this.freeze=!0,this.freeze_callback=setTimeout(function(){i.freeze=!1,t&&t(i)},e))},getPathIndex:function(e){return null===!this.path||0===this.path.length||e<0||e>=this.path.length?null:this.path[e]},isWithinPath:function(e){var t=null;if("Object"==typeof e&&0<e.x&&0<e.y?t=[e.x,e.y]:Array.isArray(e)&&2==e.length&&(t=[e[0],e[1]]),t&&null!==this.path&&0!==this.path.length)for(var i=this.path.length,n=0;n<i;++n)if(this.path[n][0]===t[0]&&this.path[n][1]===t[1])return{x:t[0],y:t[1],step:n};return null},updateMovement:function(){var e=this.path,t=this.step;!e||t>e.length-1||(this.x<e[t][0]?this.walk(c.Orientations.RIGHT):this.x>e[t][0]?this.walk(c.Orientations.LEFT):this.y<e[t][1]?this.walk(c.Orientations.DOWN):this.y>e[t][1]?this.walk(c.Orientations.UP):this.idle())},nextStepPath:function(){return 0==this.step&&(this.step++,this.updateMovement()),this.step<this.path.length&&this.x==this.path[this.step][0]&&this.y==this.path[this.step][1]&&(this.step++,this.updateMovement(),!0)},nextStep:function(){var e,t,i=!1,n=!1;return(i=this.isMovingPath()&&!this.freeze?i:this.interrupted=!0)||(n=this.nextStepPath(),this.step>=this.path.length&&(i=!0),this.step_callback&&this.step_callback()),this.hasChangedItsPath()?(this.setPosition(this.x,this.y),e=this.newDestination.x,t=this.newDestination.y,e=this.requestPathfindingTo(e,t),this.newDestination=null,this.followPath(e),!0):(i&&(this.stop_pathing_callback&&(this.stop_pathing_callback(this.x,this.y),this.forceStop()),n=!0),n)},onBeforeMove:function(e){this.before_move_callback=e},onBeforeStep:function(e){this.before_step_callback=e},onStep:function(e){this.step_callback=e},isMoving:function(){return this.movement.inProgress},isMovingPath:function(){return this.path&&0<this.path.length},hasNextStep:function(){return this.path&&this.path.length-1>this.step},hasChangedItsPath:function(){return!(null===this.newDestination)},isNear:function(e,t){var i=!1,n=Math.abs(this.x-e.x),e=Math.abs(this.y-e.y);return i=n<=t*G_TILESIZE&&e<=t*G_TILESIZE?!0:i},onRemove:function(e){this.remove_callback=e},lookAtEntity:function(e){return e&&(this.orientation=this.getOrientationTo(e)),this.orientation},getOrientation:function(e,t){var i=Math.abs(e[0]-t[0]),n=Math.abs(e[1]-t[1]);return n<i?e[0]>t[0]?c.Orientations.LEFT:c.Orientations.RIGHT:i<n?e[1]>t[1]?c.Orientations.UP:c.Orientations.DOWN:c.Orientations.NONE},isInReach:function(e,t,i,n,a){var i=i||this.orientation,r=G_TILESIZE,a=a||r>>1,n=n||r+a,s=a,o=a;switch(i){case c.Orientations.UP:case c.Orientations.DOWN:o=n;break;case c.Orientations.LEFT:case c.Orientations.RIGHT:s=n;break;case c.Orientations.NONE:return!1}return Math.abs(this.x-e)<=s&&Math.abs(this.y-t)<=o},isOverlapping:function(){var e,t=this.map.entities.getCharactersAround(this,1);res=!1,ts=G_TILESIZE;for(e of t)if(e&&this!=e){var i=e.x,n=e.y;if(Math.abs(this.x-i)<ts&&Math.abs(this.y-n)<ts){res=!0;break}}return res}}),t.exports=EntityMoving},{"../../shared/js/gametypes":552,"../message":48,"../timer":63,"../transition":65,"../utils":69,"./entity":26}],28:[function(e,t,i){var n=e("./entity"),o=(e("../../shared/js/itemtypes"),e("../data/itemdata"));t.exports=Item=n.extend({init:function(e,t,i,n,a,r){var s=i.itemKind;this._super(t,e,s,n,a,r),this.isStatic=!1,this.isFromChest=!1,this.orientation=Types.Orientations.DOWN,this.experience=0,this.data=o.Kinds[s],this.room=i},handleDespawn:function(e){var t=this;this.blinkTimeout=setTimeout(function(){e.blinkCallback(),t.despawnTimeout=setTimeout(e.despawnCallback,e.blinkingDuration)},e.beforeBlinkDelay)},destroy:function(){this.blinkTimeout&&clearTimeout(this.blinkTimeout),this.despawnTimeout&&clearTimeout(this.despawnTimeout),this.isStatic&&this.scheduleRespawn(3e4)},scheduleRespawn:function(e){var t=this;setTimeout(function(){t.respawnCallback&&t.respawnCallback()},e)},onRespawn:function(e){this.respawnCallback=e},getState:function(){return[parseInt(this.id,10),parseInt(this.type),parseInt(this.room.itemKind),this.data&&this.data.hasOwnProperty("name")?this.data.name:"",parseInt(this.map.index),parseInt(this.x),parseInt(this.y),parseInt(this.orientation),parseInt(this.room.itemNumber)]},getName:function(){return this.data.name},toString:function(){return this.room.itemKind+" "+this.room.itemNumber+" "+this.room.itemDurability+" "+this.room.itemDurabilityMax+" "+this.room.itemExperience+" "+this.x+" "+this.y}})},{"../../shared/js/itemtypes":553,"../data/itemdata":12,"./entity":26}],29:[function(e,t,i){var n=e("./character"),a=e("../message"),r=e("../area/mobarea"),s=e("../data/mobdata"),o=(e("../data/mobspeech"),e("../data/itemdata")),c=e("../data/itemlootdata"),p=e("../utils"),l=e("../../shared/js/itemtypes");t.exports=Mob=n.extend({init:function(e,t,i,n,a,r){this._super(e,Types.EntityTypes.MOB,t,i,n,a),this.data=s.Kinds[this.kind],0<this.data.level?this.level=this.data.level:this.level=r?p.randomRangeInt(Math.max(this.data.minLevel,r.minLevel),Math.min(this.data.maxLevel,r.maxLevel)):p.randomRangeInt(this.data.minLevel,this.data.maxLevel);e=Number(i),t=Number(n);this.spawnX=e,this.spawnY=t,this.stats.attack=this.data.attack*this.level,this.stats.defense=this.data.defense*this.level,this.stats.hp=Math.max(this.data.hp*this.level-40,1),this.stats.hpMax=this.stats.hp,this.stats.ep=this.data.ep*this.level,this.stats.epMax=this.stats.ep,this.stats.xp=this.data.xp*this.level,this.mod={attack:0,defense:0,damage:0,health:0},this.hatelist=[],this.hateCount=0,this.damageCount={},this.dealtCount={},this.respawnTimeout=null,this.returnTimeout=null,this.isDead=!1,this.aggroRange=this.data.aggroRange,this.attackRange=this.data.attackRange,this.isAggressive=this.data.isAggressive,this.moveSpeed=this.data.moveSpeed,this.setMoveRate(this.moveSpeed),this.setAttackRate(this.data.attackRate),this.setAggroRate(this.data.reactionDelay>>2),this.setMoveAI(p.randomRangeInt(50,150)),this.setItemLoot(),this.drops={},this.questDrops={},this.setDrops(),this.spawnDelay=this.data.respawn,this.canCall=!0,this.orientation=p.randomOrientation(),this.isReturning=!1,this.target=null,this.droppedItem=!1,this.isBlocking=!1,this.freeze=!1,this.aiState=mobState.IDLE,this.effects={}},setMoveAI:function(e){this.moveAICooldown=new Timer(e)},canMoveAI:function(){return this.moveAICooldown.isOver()},resetMoveAI:function(e){this.moveAICooldown.lastTime=e},setAggroRate:function(e){this.aggroCooldown=new Timer(e)},canAggro:function(){return this.aggroCooldown.isOver()},resetAggro:function(e){this.aggroCooldown.lastTime=e},onKilled:function(e){this.on_killed_callback=e},onDamage:function(e,t,i,n,a){var r=this.stats.hp,s=t/this.stats.hpMax,s=(log.info("dmgRatio: "+s),!this.isMoving()&&.25<=s&&(this.forceStop(),this.setFreeze(2e3,function(e){e.attackTimer=Date.now()})),this._super(e,t,i,n,a),r-this.stats.hp);0<s&&(console.info("onDamage hpMod:"+t),e.onHitEntity(this,s),this.onHitByEntity(e,s))},onHitEntity:function(e,t){this.dealtCount.hasOwnProperty(e.id)||(this.dealtCount[e.id]=0),this.dealtCount[e.id]+=t},onHitByEntity:function(e,t){this.damageCount.hasOwnProperty(e.id)||(this.damageCount[e.id]=0),this.damageCount[e.id]+=t},destroy:function(){this.isDead=!0,this.forgetEveryone(),this.clearTarget(),this.resetBars(),this.resetPosition(),this.handleRespawn()},resetBars:function(){this.stats.hp=this.stats.hpMax,this.stats.ep=this.stats.epMax},hates:function(t){return _.any(this.hatelist,function(e){return e.entity===t})},increaseHateFor:function(t,e){this.hates(t)?_.detect(this.hatelist,function(e){return e.entity===t}).hate+=e:this.hatelist.push({entity:t,hate:e}),this.returnTimeout&&(clearTimeout(this.returnTimeout),this.returnTimeout=null)},getMostHated:function(e){var t=_.sortBy(this.hatelist,function(e){return e.hate});_.size(this.hatelist);return t&&t[0]?t[0].entity:null},forgetPlayer:function(t){this.hatelist=_.reject(this.hatelist,function(e){return e.entity.id===t}),0===this.hatelist.length&&this.returnToSpawn()},forgetEveryone:function(){this.hatelist=[],this.damageCount={},this.dealtCount={},this.clearAttackerRefs(),this.removeAttackers()},handleRespawn:function(){var e=this;this.area&&this.area instanceof r?this.area.respawnMob(this,this.spawnDelay):setTimeout(function(){e.respawnMob(),e.respawnCallback&&e.respawnCallback()},this.spawnDelay)},onRespawn:function(e){this.respawnCallback=e,this.hasTalked=!1},respawnMob:function(){this.forceStop(),this.forgetEveryone(),this.disengage(),this.removeAttackers(),this.isDead=!1,this.droppedItem=!1,this.setAiState(mobState.IDLE),this.map.entities.pushNeighbours(this,new a.Spawn(this))},resetPosition:function(){this.setPosition(this.spawnX,this.spawnY)},returnToSpawn:function(){if(this.aiState!=mobState.RETURNING)if(this.setAiState(mobState.RETURNING),this.forceStop(),this.hasTarget()&&this.clearTarget(),this.forgetEveryone(),this.freeze=!1,this.x==this.spawnX&&this.y==this.spawnY)this.returnedToSpawn();else if(this.go(this.spawnX,this.spawnY),console.warn("returnToSpawn - Path: "+JSON.stringify(this.path)),this.path&&0!=this.path.length){var e=this.map.entities.pathfinder.getPathTicks(this.path,this.spawnX,this.spawnY),e=Math.max(0,~~(e/(this.tick/G_FRAME_INTERVAL_EXACT)));console.info("returnToSpawn.delay = "+e),console.info("id="+this.id+",x="+this.spawnX+",y="+this.spawnY),setTimeout(function(){console.info("st - id="+this.id+",x="+this.spawnX+",y="+this.spawnY),this.returnedToSpawn()}.bind(this),e)}else{try{throw new Error}catch(e){console.error(e.stack)}this.returnedToSpawn()}},onMove:function(e){this.moveCallback=e},move:function(e,t){this.setPosition(e,t),this.orientation=p.getOrientationFromLastMove(this),this.moveCallback&&this.moveCallback(this)},distanceToPos:function(e,t){return p.distanceTo(this.x,this.y,e,t)},setItemLoot:function(){for(var e in this.loot={},this.lootTotal=0,c.ItemLoot){var t=c.ItemLoot[e],t=~~(1e3/t.rarity*t.rarity);0<t&&(this.loot[e]=t),this.lootTotal+=this.loot[e]}this.lootTotal=~~this.lootTotal},setDrops:function(){Math.ceil(this.level/10);for(var e in o.Kinds){var t=o.Kinds[e];t&&1!=t.legacy&&(t=t.level-this.level,l.isEquipment(e))&&(0<=t&&t<5&&(this.drops[e]=1),-5<=t&&t<0&&(this.drops[e]=2),-10<=t)&&t<-5&&(this.drops[e]=5)}15<=this.level&&this.level<25&&(this.drops[310]=250),25<=this.level&&this.level<35&&(this.drops[311]=250),35<=this.level&&this.level<45&&(this.drops[312]=250),45<=this.level&&(this.drops[313]=250),this.level<20?this.drops[34]=250:this.drops[36]=250},Speech:function(e,t){return null},getState:function(){return this._getBaseState().concat([this.level,this.stats.hp,this.stats.hpMax])},setAiState:function(e){this.aiState=e},die:function(){var t=this;console.info("Entity is dead"),this.isDead=!0,this.map.entities.pushBroadcast(this.despawn()),_.each(this.attackers,function(e){t.on_killed_callback(e,t.damageCount[e.id]),e.onKillEntity(t)}),this.damageCount={},this.dealtCount={},this.destroy()},baseCrit:function(){var e=this.stats.attack+this.mod.attack;return~~p.clamp(5,500,~~(e+0))},baseCritDef:function(){var e=this.stats.defense+this.mod.defense;return~~p.clamp(5,500,~~(e+0))},baseDamage:function(){var e=~~(6*this.level);return~~(e+=(this.stats.attack+this.mod.attack)*(6-Math.min(3,.1*this.level)))},baseDamageDef:function(){var e=~~(2*this.level);return~~(e+=2*(this.stats.defense+this.mod.defense))},canReach:function(e){var t=this.orientation,e=(this.lookAtEntity(e),this._super(e));return this.orientation=t,e},dropGold:function(){return p.randomRangeInt(2*this.level,3*this.level)},returnedToSpawn:function(){console.info("mob.returnedToSpawn"),this.forceStop(),this.resetHP(),this.setAiState(mobState.IDLE),this.resetPosition()}}),t.exports=Mob},{"../../shared/js/itemtypes":553,"../area/mobarea":6,"../data/itemdata":12,"../data/itemlootdata":13,"../data/mobdata":15,"../data/mobspeech":16,"../message":48,"../utils":69,"./character":24}],30:[function(e,t,i){var n=e("./entity"),a=(e("../utils"),e("../message")),e=n.extend({init:function(e,t,i,n,a,r,s){this._super(e,Types.EntityTypes.NODE,t,i,n,a),this.stats={},this.level=r,this.setDrops(),this.spawnDelay=6e4,this.spriteName="nodeset"+t,this.animName="node"+s},getState:function(){return this._getBaseState().concat([this.level,this.spriteName,this.animName,this.weaponType])},onDeath:function(e){this.death_callback=e},die:function(){this.isDead=!0,this.map.entities.pushNeighbours(this,new a.Despawn(this)),this.handleRespawn(),this.death_callback&&this.death_callback()},setDrops:function(){this.drops={},2==this.kind&&(1==this.level&&(this.drops[301]=2e3),2==this.level&&(this.drops[302]=2e3),3==this.level?this.drops[303]=2e3:this.drops[304]=2e3)},respawn:function(){this.isDead=!1,this.map.entities.pushNeighbours(this,new a.Spawn(this))},handleRespawn:function(){var e=this;this.area&&this.area instanceof Area?this.area.respawn(this,this.spawnDelay):setTimeout(function(){e.respawn(),e.respawnCallback&&e.respawnCallback()},this.spawnDelay)}});t.exports=e},{"../message":48,"../utils":69,"./entity":26}],31:[function(e,t,i){var n=e("./character"),l=(e("../data/appearancedata"),e("../../shared/js/gametypes")),u=(e("../../shared/js/itemtypes"),e("../utils")),d=e("../data/mobdata"),h=(e("../data/npcdata"),e("../data/itemlootdata")),r=e("../message"),s=e("../npcmovecontroller"),f=(e("../data/langdata"),e("../quest")),o=e("../data/questdata"),c=e("../../shared/data/npc_names.json"),e=n.extend({init:function(e,t,i,n,a){if(this._super(e,l.EntityTypes.NPCMOVE,t,i+=8,n+=8,a),this.armor=0,this.weapon=0,this.gender=t%2,this.setMoveRate(350),this.name=c[t%41],this.activeController=new s(this),this.scriptQuests=!1,this.questCount=0,this.quests={},this.questId=this.kind,o.NpcData.hasOwnProperty(this.kind)){e=o.NpcData[this.kind];if(e&&0<e.length){var r;for(r of e)this.quests[r.id]=r}}},getState:function(){return this._getBaseState().concat([this.questId])},acceptQuest:function(e,t){var i;this.quests.hasOwnProperty(t)&&(i=this.quests[t],(pQuest=e.getQuestById(parseInt(t)))&&pQuest.status<QuestStatus.COMPLETE?(pQuest.status=QuestStatus.INPROGRESS,e.progessQuest(pQuest)):(pQuest=Object.assign(new f,i),e.foundQuest(pQuest)))},rejectQuest:function(e,t){},hasQuest:function(e){for(var t of e.quests)if(this.questId==t.npcQuestId)return e.progressQuest(t),!0;for(var i in this.quests){t=this.quests[i];if(e.hasNpcCompleteQuest(t.npcQuestId))return this.sendNoQuest(e),!0}return!1},dynamicQuests:function(e){this.hasQuest(e)||this.createQuest(e)},sendNoQuest:function(e){var t="QUESTS_NONE";0<Object.keys(this.quests).length&&(t="QUESTS_NONE_"+this.kind),this.map.entities.pushToPlayer(e,new r.Dialogue(this,t))},talk:function(e){for(var t of e.quests)if(t.type==QuestType.GETITEMKIND&&e.questAboutItemComplete(t,null))return;if(0==Object.keys(this.quests).length)this.dynamicQuests(e);else{var i=-1;if(!this.hasQuest(e)){for(var n in this.quests){var a=e.getQuestById(n);if(!a){i=n;break}}-1==i?this.sendNoQuest(e):this.map.entities.pushToPlayer(e,new r.Dialogue(this,"DIALOGUE_"+i))}}},createQuest:function(e){function t(){var e=n.map.entities.getMobsAround(n,35);if(0!=e.length){var t=u.GetGroupCountArray(e,"kind");if(console.warn("entitycount="+JSON.stringify(t)),0==t.length)return null;log.info("entitycount="+JSON.stringify(t)),t.sort(function(e,t){return t[1]-e[1]}),log.info("entitycount="+JSON.stringify(t));var i=parseInt(t[0][0]),e=e.filter(function(e){return e.kind==i}),e=u.minProp(e,"level").level,t=parseInt(t[0][1]);return t<=0?null:d.Kinds[i]?getQuestObject([l.EntityTypes.MOB,i,t,0,e,100]):null}}var i=[1,2],i=i[u.randomInt(i.length-1)],n=(e.level.base,this);if(i==QuestType.GETITEMKIND){console.info("GETITEMKIND");var a,r,s=u.randomInt(h.ItemLoot.length-1),o="02"+u.pad(this.kind,6)+u.pad(this.questCount++,4);if(a=e.getQuestById(o))a.status=QuestStatus.INPROGRESS,e.questAboutItem(a);else{if(!(r=t()))return;r.count=0;var c=u.randomRangeInt(1,5),p=30*c/(e.level.base+2),s=getQuestObject([l.EntityTypes.ITEMLOOT,s,c,p]);a=new f([o,QuestType.GETITEMKIND,this.questId,0,0,0,0,r,s]),e.foundQuest(a)}}i==QuestType.KILLMOBKIND&&(console.info("KILLMOBKIND"),o="01"+u.pad(this.kind,6)+u.pad(this.questCount++,4),(a=e.getQuestById(o))?(a.status=QuestStatus.INPROGRESS,e.progressQuest(a)):(r=t())&&(c=Math.max(e.level.base-10,10),r.count=u.clamp(5,c,r.count/2),r.count=5*Math.ceil(r.count/5),a=new f([o,QuestType.KILLMOBKIND,this.questId,0,0,0,0,r]),e.foundQuest(a)))}});t.exports=e},{"../../shared/data/npc_names.json":545,"../../shared/js/gametypes":552,"../../shared/js/itemtypes":553,"../data/appearancedata":11,"../data/itemlootdata":13,"../data/langdata":14,"../data/mobdata":15,"../data/npcdata":18,"../data/questdata":19,"../message":48,"../npcmovecontroller":52,"../quest":58,"../utils":69,"./character":24}],32:[function(e,t,i){var n=e("./entity"),e=(e("./player"),e("../data/questdata"),e("../data/npcdata"),e("../utils"),e("../message"),n.extend({init:function(e,t,i,n,a){i+=8,n+=8,this._super(e,Types.EntityTypes.NPCSTATIC,t,i,n,a),this.map=a},talk:function(e){if(console.info("talk"),console.info("kind: "+this.kind),44==this.kind){if(console.info("THIS IS FOR COLLECTING ITEMS NPC."),e.questStatus)for(var[t,i]of Object.entries(e.questStatus))console.info("questStatus"+JSON.stringify(i)),1==i.type&&i.count<=i.objectCount&&e.questAboutItem(i,null)}else for(var n in e.quests)if(n.npcKind==this.kind)return}}));t.exports=e},{"../data/npcdata":18,"../data/questdata":19,"../message":48,"../utils":69,"./entity":26,"./player":33}],33:[function(e,t,i){e("body-parser");var n=e("./character"),p=(e("./chest"),e("./mob"),e("../message")),l=e("../utils"),a=(e("../data/mobdata"),e("../formulas"),e("../party"),e("../data/appearancedata"),e("../bank")),f=e("../../shared/js/gametypes"),o=e("../../shared/js/itemtypes"),r=e("../equipment"),s=e("../inventory"),c=(e("../main"),e("../skillhandler")),m=e("../effecthandler"),u=(e("../trade"),e("../entityspawn"),e("../packethandler"));e("../data/itemlootdata"),e("../quest");t.exports=Player=n.extend({init:function(e,t,i,n){this.user=e,this.main=t,this.server=n,this.connection=i,this.map=this.server.maps[0],this._super(this.connection.id,f.EntityTypes.PLAYER,1,0,0,this.map,0),this.mapStatus=0,this.mapIndex=0,this.quests=[],this.gold=new Array(2),this.skillSlots=[],this.hasLoggedIn=!1,this.hasEnteredGame=!1,this.isDead=!1,this.inventory=null,this.bank=null,this.equipment=null,this.itemStore=new Array(3),this.exp={base:0,attack:0,defense:0,move:0},this.level={base:0,attack:0,defense:0,move:0},this.stats={attack:0,defense:0,health:0,energy:0,luck:0,free:0,hp:0,hpMax:0,ep:0,epMax:0},this.mod={attack:0,defense:0,damage:0,health:0},this.cooltimeTimeout=null,this.consumeTimeout=null,this.skillHandler=new c(this),this.moveSpeed=500,this.setMoveRate(this.moveSpeed),this.attackedTime=new Timer(1e3),this.attackQueue=[],this.moveQueue=[],this.stopQueue=[],this.attackSkill=[],this.attackTimer=0,this.idleTimer=new Timer(3e4),this.packetHandler=new u(e,t,this,i,n,this.map),this.playerController=new PlayerController(this),this.onWelcomeReady=!1,this.tut={},this.tut.move=!1,this.tut.portal=!1,this.tut.attack=!1,this.tut.attack2=!1,this.tut.buy=!1,this.tut.buy2=!1,this.tut.equip=!1,this.tut.stats=!1,this.spawnsList={},this.lastAction=Date.now(),this.knownIds=[],this.sx=0,this.sy=0,this.ex=-1,this.ey=-1,this.moveOrientation=0,this.savedPlayer=!1,this.savedQuests=!1,this.savedInventory=!1,this.savedEquipment=!1,this.savedBank=!1,this.savedAll=!1,this.achievements=[],this.completeQuests={},this.damageCount={},this.dealtCount={},this.pStats=[],this.sprites=[],this.colors=[]},destroy:function(){},getState:function(){var e=this._getBaseState(),t=this.sprites[0],i=this.getWeaponSprite(),t=(this.isArcher()&&(t=this.sprites[2]),[this.level.base,this.stats.hp,this.stats.hpMax,0,t,i,this.colors[0],this.colors[1]]);return e.concat(t)},send:function(e){this.connection.send(e)},resetBars:function(){this.resetHP(),this.resetEP(),this.map.entities.pushNeighbours(this,new p.ChangePoints(this,0,0))},questAboutKill:function(e,t){var i=e.kind,n=(e.level,t.count<t.object.count),i=t.type==QuestType.KILLMOBKIND&&n&&i==t.object.kind,n=t.type==QuestType.KILLMOBS&&n,a=e.level>=t.object.level[0]&&e.level<=t.object.level[1];(i||n)&&a&&(console.info("_questAboutKill - conditions met."),t.data1+=~~(e.stats.xp/3),++t.count==t.object.count?this.questAboutKillComplete(t):this.progressQuest(t))},questAboutUseNode:function(e){var t;e.count++,e.count>=e.object.count?(e.count=e.object.count,t=10*e.object.count*this.level.base,this.pushToPlayer(new p.Kill({id:0},this.level.base,t)),this.completeQuest(e)):this.progressQuest(e)},questAboutItem:function(e){console.info(JSON.stringify(e));var t=e.object2.kind+1e3,t=this.inventory.hasItemCount(t);e.count=t,this.progressQuest(e)},questAboutFind:function(e){var t;e.count++>=e.object.count&&e.status==QuestStatus.INPROGRESS&&(e.count=e.object.count,t=10*e.object.count*this.level.base,this.pushToPlayer(new p.Kill({id:0},this.level.base,t)),this.completeQuest(e))},questAboutItemComplete:function(e,t){if(e.count>=e.object2.count&&e.status==QuestStatus.INPROGRESS){var i=e.object2.kind+1e3;if(!this.inventory.hasItemCount(i))return;this.inventory.removeItemKind(i,e.object2.count);i=10*e.object2.count*this.level.base;return this.pushToPlayer(new p.Kill({id:0},this.level.base,i)),this.completeQuest(e),t&&t(e),!0}return!1},questAboutKillComplete:function(e){console.info("_questAboutKill - completed.");var t=e.data1;this.incExp(t),e.status=QuestStatus.COMPLETE,this.pushToPlayer(new p.Kill({id:0},this.level.base,t)),this.completeQuest(e)},progressQuest:function(e){e.status=QuestStatus.INPROGRESS,this.pushToPlayer(new p.Quest(e))},completeQuest:function(e){e.status=QuestStatus.COMPLETE,this.pushToPlayer(new p.Quest(e)),this.completeQuests[e.id]=e.npcQuestId,this.quests.splice(this.quests.indexOf(e),1),delete e},foundQuest:function(e){this.quests.push(e),e.status=QuestStatus.STARTED,this.pushToPlayer(new p.Quest(e))},hasNpcCompleteQuest:function(e){for(var t in this.completeQuests)if(this.completeQuests[t]==e)return!0;return!1},getQuestById:function(e){for(var t of this.quests)if(t.id==e)return t;return null},hasQuest:function(e){for(var t of this.quests)if(t.id==e)return!0;return!1},onKillEntity:function(e){var t,i=e.damageCount.hasOwnProperty(this.id)?e.damageCount[this.id]:0,n=e.dealtCount.hasOwnProperty(this.id)?e.dealtCount[this.id]:0,a=i/e.stats.hpMax,a=~~(e.stats.xp*a),r=1.1+.1*l.clamp(-10,10,e.level-this.level.base),s=(this.incExp(a=~~(a*r)),this.incWeaponExp(~~(a/10)),this.map.entities.pushToPlayer(this,new p.Kill(e,this.level.base,a)),Math.min(5,Math.ceil(n/1e3)));for(t in log.warn("armorDamage:"+s),this.equipment.rooms)4!=t&&this.equipment.rooms[t]&&0<s&&this.equipment.degradeItem(t,1)&&this.equipment.addExperience(t,s);this.armorDamage=0;r=Math.min(5,Math.ceil(i/1e3));0<r&&this.equipment.degradeItem(4,1)&&this.equipment.addExperience(4,r),this.weaponDamage=0,this.damageCount[e.id]=0,this.dealtCount[e.id]=0},onDamage:function(e,t,i,n,a){var r=this.stats.hp,s=t/this.stats.hpMax,s=(log.info("dmgRatio: "+s),this._super(e,t,i,n,a),r-this.stats.hp);0<s&&(console.info("onDamage hpMod:"+t),e.onHitEntity(this,s),this.onHitByEntity(e,s))},onHitEntity:function(e,t){this.dealtCount.hasOwnProperty(e.id)||(this.dealtCount[e.id]=0),this.dealtCount[e.id]+=t},onHitByEntity:function(e,t){this.damageCount.hasOwnProperty(e.id)||(this.damageCount[e.id]=0),this.damageCount[e.id]+=t},incExp:function(e){var e=parseInt(e),e=Math.ceil(e*this.getExpBonus()),t=(this.exp.base=parseInt(this.exp.base)+parseInt(e),this.level.base);return this.level.base=f.getLevel(this.exp.base),t!==this.level.base&&this.levelUp(),e},incAttackExp:function(e){var e=parseInt(e),e=Math.ceil(e*this.getExpBonus()*.25),t=(this.exp.attack=parseInt(this.exp.attack)+parseInt(e),this.level.attack);return this.level.attack=f.getAttackLevel(this.exp.attack),t!==this.level.attack&&this.pushToPlayer(new p.LevelUp(2,this.level.attack,this.exp.attack)),e},incDefenseExp:function(e){var e=parseInt(e),e=Math.ceil(e*this.getExpBonus()),t=(this.exp.defense=parseInt(this.exp.defense)+parseInt(e),this.level.defense);return this.level.defense=f.getDefenseLevel(this.exp.defense),t!==this.level.defense&&this.pushToPlayer(new p.LevelUp(3,this.level.defense,this.exp.defense)),e},incMoveExp:function(e){var e=parseInt(e),e=Math.ceil(e*this.getExpBonus()),t=(this.exp.move=parseInt(this.exp.move)+parseInt(e),this.level.move);return this.level.move=f.getMoveLevel(this.exp.move),t!==this.level.move&&this.pushToPlayer(new p.LevelUp(4,this.level.move,this.exp.move)),e},incWeaponExp:function(e){var t,i,n,e=parseInt(e),e=Math.ceil(e*this.getExpBonus()*.25),a=this.getWeaponType();return this.exp.hasOwnProperty(a)?(t=parseInt(this.exp[a]),i=f.getWeaponLevel(t),n=f.getWeaponLevel(t+=e),this.exp[a]=t,i!==n&&this.pushToPlayer(new p.LevelUp({10:"sword",11:"bow",12:"hammer",13:"axe"}[a],n,t)),e):null},getExpBonus:function(){var e=1;if(this.party)for(var t of this.party.players)this.isInScreen([t.x,t.y])&&(e+=.1*this.players.length);return e},levelUp:function(){this.level.base<10?(this.stats.attack+=2,this.stats.defense+=2,this.stats.health+=2,this.stats.energy+=2,this.stats.luck+=2):this.stats.free+=5,this.pushToPlayer(new p.StatInfo(this)),this.resetBars(),this.pushToPlayer(new p.ChangePoints(this,0,0)),this.pushToPlayer(new p.LevelUp(1,this.level.base,this.exp.base)),10==this.level.base&&(this.tutChat("TUTORIAL_SHOPBUY",4,"buy"),this.tutChat("TUTORIAL_SHOPBUY2",6,"buy2")),20==this.level.base&&this.tutChat("TUTORIAL_STATS",2,"stats")},sendPlayer:function(d){var e,h=this;h.mapIndex=parseInt(d.map[0]),h.map=h.server.maps[h.mapIndex],h.x=parseInt(d.map[1]),h.y=parseInt(d.map[2]),h.orientation=parseInt(d.map[3]),h.sprites=d.sprites.parseInt(),h.colors=d.colors,h.exp.base=parseInt(d.exps[0]),h.exp.attack=parseInt(d.exps[1]),h.exp.defense=parseInt(d.exps[2]),h.exp.move=parseInt(d.exps[3]),8<=d.exps.length?(h.exp.sword=parseInt(d.exps[4]),h.exp.bow=parseInt(d.exps[5]),h.exp.hammer=parseInt(d.exps[6]),h.exp.axe=parseInt(d.exps[7])):(h.exp.sword=0,h.exp.bow=0,h.exp.hammer=0,h.exp.axe=0),10==d.exps.length?(h.exp.logging=parseInt(d.exps[8]),h.exp.mining=parseInt(d.exps[9])):(h.exp.logging=0,h.exp.mining=0),h.level.base=f.getLevel(h.exp.base),h.level.attack=f.getAttackLevel(h.exp.attack),h.level.defense=f.getDefenseLevel(h.exp.defense),h.level.move=f.getMoveLevel(h.exp.move),h.gold[0]=parseInt(d.gold[0]),h.gold[1]=parseInt(d.gold[1]),h.isDead=!1,h.pStats=d.pStats.parseInt(),h.level.base<10?(e=parseInt(h.level.base),h.stats.attack=2*e,h.stats.defense=2*e,h.stats.health=2*e,h.stats.energy=2*e,h.stats.luck=2*e,h.stats.free=0):(d.stats=d.stats.parseInt(),h.stats.attack=d.stats[0],h.stats.defense=d.stats[1],h.stats.health=d.stats[2],h.stats.energy=d.stats[3],h.stats.luck=d.stats[4],h.stats.free=d.stats[5]),d.completeQuests&&(h.completeQuests=d.completeQuests),h.setHP(),h.setEP(),h.resetBars(),h.setMoveRate(500-h.level.move),h.attackTimer=Date.now(),h.server.connect_callback(h),DBH.getItems(h,2,function(e){h.equipment=new r(h,2,e),h.itemStore[2]=h.equipment,DBH.getItems(h,1,function(e){h.bank=new a(h,48,e),h.itemStore[1]=h.bank,DBH.getItems(h,0,function(e){h.inventory=new s(h,48,e),h.itemStore[0]=h.inventory,DBH.loadAchievements(h,function(e){DBH.loadQuests(h,function(e){console.info("loaded quest"),console.info("sendMessage");var t,i,n,a=0,r=[f.Messages.SC_PLAYER,0,Date.now(),h.id,h.name,h.mapIndex,h.x,h.y,h.stats.hp,h.stats.ep,h.exp.base,h.exp.attack,h.exp.defense,h.exp.move,h.exp.sword,h.exp.bow,h.exp.hammer,h.exp.axe,h.exp.logging,h.exp.mining,h.colors[0],h.colors[1],h.gold[0],h.gold[1],h.user.gems,h.stats.attack,h.stats.defense,h.stats.health,h.stats.energy,h.stats.luck,h.stats.free];for(t in console.info("sendMessage - Equipment"),r.push(Object.keys(h.equipment.rooms).length),h.equipment.rooms)var s=h.equipment.rooms[t],r=r.concat(s.toArray());for(i in h.setRange(),r.push(h.isArcher()?h.sprites[2]:h.sprites[0]),r.push(h.getWeaponSprite()),console.info("sendMessage - Inventory"),r.push(Object.keys(h.inventory.rooms).length),h.inventory.rooms){s=h.inventory.rooms[i];r=r.concat(s.toArray())}for(n in console.info("sendMessage - Bank"),r.push(Object.keys(h.bank.rooms).length),h.bank.rooms){s=h.bank.rooms[n];r=r.concat(s.toArray())}e=h.quests.filter(function(e){return e.status!==QuestStatus.COMPLETE});r.push(e.length);for(var o=0;o<e.length;++o){var c=e[o];console.info(JSON.stringify(c)),r=r.concat(c.toClient())}var p=h.achievements;r.push(p.length);for(var l=0;l<p.length;++l){var u=p[l];console.info(JSON.stringify(u)),r=r.concat(u.toClient(u))}h.skillHandler.setSkills(h,d.skills),h.effectHandler=new m(h),r.push(h.skills.length);for(a=0;a<h.skills.length;++a)r.push(parseInt(h.skills[a].skillXP));h.skillSlots=d.skillSlots,r.push(h.skillSlots.length);for(a=0;a<h.skillSlots.length;++a)r.push(parseInt(h.skillSlots[a]));h.server.enter_callback&&(h.map.entities.addPlayer(h),h.server.enter_callback(h),h.connection.sendUTF8(r.join(",")),h.hasEnteredGame=!0)})})})})})},tutChat:function(e,t,i){var n=this,a=i;setTimeout(function(){n.map&&n.map.entities&&2<=n.mapStatus&&0==n.tut[a]&&(n.pushToPlayer(new p.Notify("TUTORIAL",e)),n.tut[a]=!0)},5e3*t)},handleInventoryEat:function(e,t){var i,n=this,e=e.itemKind;this.consumeTimeout||(this.consumeTimeout=setTimeout(function(){n.consumeTimeout=null},4e3),"health"==(e=o.KindData[e]).typemod?(i=e.modifier,this.hasFullHealth()||this.modHealthBy(i)):"healthpercent"==e.typemod&&(i=~~(this.stats.hpMax*e.modifier/100),this.hasFullHealth()||this.modHealthBy(i)),"energy"==e.typemod&&(i=e.modifier,this.hasFullEnergy()||this.modEnergyBy(i)),this.inventory.takeOutItems(t,1))},modHealthBy:function(e){var t;if(!this.isDead)return t=this._super(e),this.sendChangePoints(e,0),t},modEnergyBy:function(e){var t=this._super(e);return this.sendChangePoints(0,e),t},sendChangePoints:function(e,t){this.map.entities.pushNeighbours(this,new p.ChangePoints(this,e,t))},getHPMax:function(){return 300+50*this.stats.health+this.stats.health*this.stats.health},getEPMax:function(){return 500+50*this.stats.energy},getWeaponLevel:function(){var e=this.equipment.rooms[4];return e?(e=o.KindData[e.itemKind],f.getWeaponLevel(this.exp[e.type])):0},baseCrit:function(){var e=2*this.level.base,t=this.equipment.rooms[4],t=(t&&(e=3*o.getData(t.itemKind).modifier+2*t.itemNumber),this.stats.attack+2*this.stats.luck),t=l.clamp(0,500,~~(t+e));return console.info("player - baseCrit: "+t),t},baseCritDef:function(){var e,t,i=2*this.level.base;for(e in this.equipment.rooms)4!=e&&(t=this.equipment.rooms[e])&&(i+=3*o.getData(t.itemKind).modifier+2*t.itemNumber);var n=this.stats.defense+2*this.stats.luck,n=l.clamp(0,500,~~(n+i));return console.info("player - baseCritDef: "+n),n},baseDamage:function(){var e=this.equipment.rooms[4],t=this.level.base,i=~~(e?3*o.getData(e.itemKind).modifier+2*e.itemNumber:t),n=this.level.attack/50+1,e=(n*=this.getWeaponLevel()/50+1,e&&(i=~~(i*(e.itemDurability/e.itemDurabilityMax*.5+.5))),this.mod?this.mod.attack:0);i+=3*(this.stats.attack+e)+this.stats.luck;var t=l.randomRangeInt(e=~~(t*n),~~(3*e))+i,n=1.15+Math.max(0,.05*(10-this.level.base)),a=this.isArcher()?.85:1,e=~~((e+i)*n*a);return~~(t*n*a)},baseDamageDef:function(){var e,t=0,i=this.level.base+3;for(e in console.info("baseDamageDef:"),t=i,this.equipment.rooms){var n,a=this.equipment.rooms[e];a&&(n=1==e?4:2,t+=~~((o.getData(a.itemKind).modifier*n+a.itemNumber*n)*(a.itemDurability/a.itemDurabilityMax*.5+.5)))}console.info("dealt="+t);var r=this.level.defense/50+1,i=(console.info("power="+r),~~(i*r)),r=~~(2*i),s=(console.info("dealtrange="+t),this.mod?this.mod.defense:0);return t+=~~(3*(this.stats.defense+s))+this.stats.luck,console.info("dealtstats="+t),s=l.randomRangeInt(i,r)+t,s},modifyGold:function(e,t){return!(this.gold[t=t||0]+e<0||(this.gold[t]+=parseInt(e),this.pushToPlayer(new p.Gold(this)),0<e?this.pushToPlayer(new p.Notify("CHAT","GOLD_ADDED",[e])):this.pushToPlayer(new p.Notify("CHAT","GOLD_REMOVED",[e*=-1])),0))},save:function(){var e=this;console.info("SAVING PLAYER: "+this.name),DBH.savePlayer(this),DBH.saveQuests(this,this.quests),DBH.saveAchievements(this),this.inventory&&this.inventory.save(this),this.equipment&&this.equipment.save(this),this.bank&&this.bank.save(this),e.playerSaved=setInterval(function(){e.savedPlayer&&e.savedQuests&&e.savedAchievements&&e.savedInventory&&e.savedEquipment&&e.savedBank&&(e.savedAll=!0,clearInterval(e.playerSaved))},G_UPDATE_INTERVAL),SAVING_SERVER||(e.playerSaveReset=setInterval(function(){e.savedAll&&(e.savedPlayer=!1,e.savedQuests=!1,e.savedInventory=!1,e.savedEquipment=!1,e.savedBank=!1,e.savedAchievements=!1,e.savedAll=!1,clearInterval(e.playerSaveReset))},G_ROUNDTRIP))},isArcher:function(){var e=this.equipment.rooms[4];return!(!e||!o.isArcherWeapon(e.itemKind))},setRange:function(){this.setAttackRange(1),this.isArcher()&&this.setAttackRange(10)},setHP:function(e){this._super(e)},setEP:function(e){this._super(e)},movePath:function(e,t){var i=t[0][0],n=t[0][1],a=(t[t.length-1][0],t[t.length-1][1],e[0]),e=e[1],i=(console.info("set path"),this.keyMove&&this.move(this.orientation,0,this.ex,this.ey),this.sx=this.x,this.sy=this.y,this.ex=this.x2,this.ey=this.y2,this.x==i&&this.y==n||(console.error("movePath - Start Position not correct!"),console.info("movePath - x:"+i+",y:"+n+",p.x:"+this.x+",p.y:"+this.y)),this.forceStop(),orientation=this.getOrientationTo({x:t[1][0],y:t[1][1]}),this.setOrientation(orientation),this.path=this.fullpath=t,this.step=0,this.interrupted=e,~~(Date.now()+G_UPDATE_INTERVAL-(G_LATENCY+a)));this.unclampedDelay=i,i=l.clamp(0,G_LATENCY,i),this.latencyDiff=Date.now()-a,this.startMovePathTime=a+i,console.warn("movePath: delay:"+i),0<i&&this.setFreeze(i)},move:function(e){var t,i,n,a,r,s;self=this;e&&(r=e[0],s=e[1],t=e[2],i=e[3],n=e[4],console.info("nm:"+JSON.stringify(e)),this.isMovingPath()||(this.moving_callback&&(clearTimeout(this.moving_callback),this.moving_callback=null),3==s?(this.moveOrientation=0,this.sx=i,this.sy=n,this.ex=-1,this.ey=-1,this.keyMove=!1,this.setPosition(i,n),this.nextMove=null):(1==s&&(a=Math.max(~~(G_LATENCY+r-(Date.now()+G_UPDATE_INTERVAL)),0),console.warn("unclamped delay="+a),this.unclampedDelay=a,a=l.clamp(0,G_LATENCY,a),console.warn("delay="+a),this.latencyDiff=Date.now()-r,this.startMoveTime=r+a,this.sx=this.x,this.sy=this.y,this.ex=-1,this.ey=-1,e=function(){self.movement.inProgress&&self.forceStop(),self.moving_timeout=null,self.startMoving=!0,self.moveOrientation=t,self.keyMove=!0,self.startMoveTime=Date.now(),self.startMoveSysTime=Date.now()+a},a<=0?e():this.moving_timeout=setTimeout(e,a),this.nextMove=null),0==s&&(console.info("move - x: "+i+", y: "+n),this.ex=i,this.ey=n,r=i==this.x&&n==this.y,e=this.sx==i&&this.sy==n,console.info("move: x="+i+",y="+n),console.info("move: this.x="+this.x+",this.y="+this.y),console.info("move: this.sx="+this.sx+",this.sy="+this.sy),r||e?(clearTimeout(this.moving_timeout),this.setPosition(i,n),this.forceStopMove()):(s=[[this.sx,this.sy],[i,n]],this.map.entities.pathfinder.isValidPath(this.map.grid,s)||(console.warn("INVALID PATH."),console.warn("invalidPath: "+JSON.stringify(s)),this.setPosition(this.x,this.y),this.forceStopMove()),this.map.entities.pathfinder.isPathTicksTooFast(this,s,this.startMoveSysTime)?this.setPosition(this.sx,this.sy):this.setPosition(i,n),this.forceStopMove(),this.keyMove=!1,this.nextMove=null)))))},getStoredItem:function(e,t,i){var n,e=this.itemStore[e],a=e.rooms;return t<0||t>=a.length?null:(n=a[t])?(a=a[t].itemNumber,(o.isLootItem(n.itemKind)||o.isConsumableItem(n.itemKind))&&0<i&&0<a&&a<i?e.takeOutItems(t,a):n):void 0},swapItem:function(e,t){console.info(JSON.stringify(e)),console.info(JSON.stringify(t));var i,n,a=this.itemStore[e[0]],r=this.itemStore[t[0]],s=a.rooms[e[1]];!s||!o.isConsumableItem(s.itemKind)&&0==t[0]&&0<=t[1]&&t[1]<6||o.isConsumableItem(s.itemKind)&&0==t[0]&&t[1]<0&&6<=t[1]||(i=r.rooms,n=null,s!=(n=0<=t[1]?i[t[1]]:n)&&(n?-1==this.inventory.combineItem(s,n)&&r.checkItem(t[1],s)&&a.checkItem(e[1],n)&&(r.setItem(t[1],s),a.setItem(e[1],n)):0<=t[1]?r.setItem(t[1],s)&&a.setItem(e[1],null):2!=t[1]&&(r.putItem(s),a.setItem(e[1],null))))},storeItem:function(e,t){this.swapItem(e,t)},handleEquip:function(e,t){console.info("handleEquip"),this.swapItem(e,t)},handleStoreEmpty:function(e,t){var i,n=t.itemKind,a=this.itemStore[e[0]],r=e[1],s=e[2];2==e[0]?console.error("handleStoreEmpty - Cannot empty equipment store."):(e=a.rooms[e[1]],i=Object.assign(new ItemRoom,e),t=this.map.entities.createItem(i,this.x,this.y),s=l.clamp(1,e.itemNumber,s),o.isEquippable(n)?a.makeEmptyItem(r):(t.room.itemNumber=s,a.takeOutItems(r,s)),this.map.entities.pushNeighbours(this,t.spawn()),this.knownIds.push(t.id),this.server.handleItemDespawn(t))},sendCurrentMove:function(){var e=new p.Move(this,this.moveOrientation,0,this.x,this.y);this.map.entities.pushNeighbours(this,e)},dropGold:function(){var e=Math.ceil(Math.random()*this.level.base*5+this.level.base),e=Math.min(e,this.gold[0]);return this.modifyGold(-e),e},revive:function(){this.isDead=!1,this.isDying=!1,this.hasEnteredGame=!0,this.resetBars()},setPosition:function(e,t){var i;this._super(e,t),this.holdingBlock&&(e=[[e,t],[e,t-(i=G_TILESIZE)],[e,t+i],[e-i,t],[e+i,t]][this.orientation],this.holdingBlock.setPosition(e[0],e[1]))},isInScreen:function(e){return~~(Math.abs(this.x-e[0])/G_TILESIZE)<=~~(G_SCREEN_WIDTH/2)&&~~(Math.abs(this.y-e[1])/G_TILESIZE)<=~~(G_SCREEN_HEIGHT/2)},getWeapon:function(){return this.equipment.rooms[4]},hasWeaponType:function(e){var t,i;return"any"==(e=e||"any")||!!(t=this.getWeapon())&&(i=o.KindData[t.itemKind],e?i.type==e:o.isHarvestWeapon(t.itemKind))},getWeaponType:function(){var e=this.getWeapon();return e?o.KindData[e.itemKind].type:null},getWeaponSprite:function(){var e=this.getWeaponType();return e?"sword"==e?1:"axe"==e?2:"hammer"==e?12:"bow"==e?50:0:0},_harvest:function(t,i,n,e){var a,r,s,o,c=this;c._checkHarvest(t,i)?(a=c.x,r=c.y,s=c.getWeaponType(),c.isHarvesting=!0,o=this.exp.logging,"hammer"==s&&(o=this.exp.mining),e=~~(e*l.clamp(.1,1,1-f.getSkillLevel(o)/20)),clearTimeout(c.harvestTimeout),c.harvestTimeout=setTimeout(function(){var e=!0;c.isHarvesting||(e=!1),c.x==a&&c.y==r||(e=!1),(e=!!c.hasWeaponType(s)&&e)?(n&&n(c),c.map.entities.pushNeighbours(c,new p.Harvest(c,2,t,i))):c._abortHarvest(t,i)},e),c.map.entities.pushNeighbours(c,new p.Harvest(c,1,t,i),c),c.pushToPlayer(new p.Harvest(c,1,t,i,e))):c._abortHarvest(t,i)},_checkHarvest:function(e,t){return!!this.isNextToo(e,t)&&!!this.hasWeaponType()},onHarvestEntity:function(i){var e=!0,n=(this.hasWeaponType(i.weaponType)||(this.pushToPlayer(new p.Notify("CHAT","HARVEST_WRONG_TYPE",type)),e=!1),i.x),a=i.y;e?(e=5e3+1e3*i.level,this._harvest(n,a,function(e){e.server.taskHandler.processEvent(e,PlayerEvent(EventType.USE_NODE,i,1)),"hammer"==i.weaponType&&(e.exp.mining+=10),i.die();var t=e.server.getDrop(e,i,!1);t&&t instanceof Item&&(t.x=n,t.y=a,e.server.handleItemDespawn(t))},e)):this._abortHarvest(n,a)},_abortHarvest:function(e,t){this.map.entities.pushNeighbours(this,new p.Harvest(this,2,e,t)),this.pushToPlayer(new p.Notify("CHAT","HARVEST_INVALID"))},onHarvest:function(e,t){var i=l.getGridPosition(e,t),n=(time=this.map.entities.harvest[i.gx+"_"+i.gy],!0),a=this.getWeaponType();a||(n=!1),this.map.isHarvestTile(i,a)||(this.pushToPlayer(new p.Notify("CHAT","HARVEST_WRONG_TYPE",a)),n=!1),(n=!(time&&Date.now()-time<6e4)&&n)?this._harvest(e,t,function(e){var t;e.server.taskHandler.processEvent(e,PlayerEvent(EventType.HARVEST,e,1)),"axe"==e.getWeaponType()&&(e.exp.logging+=10),e.map.entities.harvest[i.gx+"_"+i.gy]=Date.now(),e.inventory.hasRoom()&&("axe"==e.getWeaponType()&&(t=320),t=new ItemRoom(t,1,0,0),-1!=self.inventory.putItem(t))&&(t=o.getData(t.itemKind),e.pushToPlayer(new p.Notify("CHAT","HARVEST_ADDED",t.name)))},6e3):this._abortHarvest(e,t)},pushToPlayer:function(e){this.map.entities.pushToPlayer(this,e)}})},{"../../shared/js/gametypes":552,"../../shared/js/itemtypes":553,"../bank":9,"../data/appearancedata":11,"../data/itemlootdata":13,"../data/mobdata":15,"../effecthandler":22,"../entityspawn":35,"../equipment":36,"../formulas":38,"../inventory":39,"../main":44,"../message":48,"../packethandler":53,"../party":54,"../quest":58,"../skillhandler":61,"../trade":64,"../utils":69,"./character":24,"./chest":25,"./mob":29,"body-parser":95}],34:[function(e,t,i){var n=e("./entitymoving"),l=e("../../shared/js/gametypes");t.exports=Block=n.extend({init:function(e,t,i,n,a,r,s,o,c){var p=this.type=l.EntityTypes.TRAP;this.parent=r,this.ix=o,this.iy=c,this._super(e,p,t,i,n,a),this.name=s,this.active=!0},getState:function(){return this._getBaseState().concat([parseInt(this.ix),parseInt(this.iy),parseInt(this.active?1:0)])},on:function(){this.active=!0,this.map.entities.pushNeighbours(this,new Messages.SwapSprite(this.id,1))},off:function(){this.active=!1,this.map.entities.pushNeighbours(this,new Messages.SwapSprite(this.id,0))}})},{"../../shared/js/gametypes":552,"./entitymoving":27}],35:[function(e,t,i){var n=e("underscore"),a=e("../shared/data/entity_spawn.json"),r=e("fs"),s=[],o=0;n.each(a,function(e,t){s[o++]=e});t.exports.EntitySpawnData=s,t.exports.addSpawn=function(e,t,i){s.push({id:e,x:t,y:i})},t.exports.saveSpawns=function(){r.writeFile("./shared/data/entity_spawn.json",JSON.stringify(s),function(e,t){if(e)return console.info(e)})}},{"../shared/data/entity_spawn.json":537,fs:void 0,underscore:508}],36:[function(e,t,i){var n=e("./lib/class"),a=(e("./itemroom"),e("./message")),r=e("../shared/js/itemtypes"),s=(e("../shared/js/gametypes"),e("./data/itemdata"));t.exports=Equipment=n.Class.extend({init:function(e,t,i){if(this.owner=e,this.number=t,this.maxNumber=5,this.weaponSlot=4,this.rooms={},console.info("number="+t),console.info("itemSlots="+JSON.stringify(i)),i)for(var n=0;n<i.length;n++){var a=i[n].slot;this.rooms[a]=i[n]}},makeEmptyItem:function(e){this.rooms[e]=null,delete this.rooms[e],this.setItem(e,null)},getItemIndex:function(e){for(var t in this.rooms)if(this.rooms[t]&&this.rooms[t].itemKind==e)return t;return-1},combineItem:function(e,t){return-1},checkItem:function(e,t){var i,n;return!(t&&(i=t.itemKind,n=s.Kinds[i],!r.isEquipment(i)||!(0!=e||"helm"===n.type&&this.canEquip(t,n.level))||!((1!=e||"chest"===n.type&&this.canEquip(t,n.level))&&(2!=e||"gloves"===n.type&&this.canEquip(t,n.level))&&(3!=e||"boots"===n.type&&this.canEquip(t,n.level))&&(4!=e||r.isWeapon(i)&&this.canEquip(t,r.getWeaponLevel(i))))))},setItem:function(e,t){function i(e){e.setRange();var t=e.isArcher()?e.sprites[2]:e.sprites[0],i=e.sprites[1];e.map.entities.pushNeighbours(e,new a.setSprite(e,t,i))}var n=this.owner;if(t){if(!this.checkItem(e,t))return!1;((this.rooms[e]=t).slot=e)==this.weaponSlot&&i(n)}else this.rooms[e]=null,t={slot:e,itemKind:-1},e==this.weaponSlot&&i(n);return n.map.entities.pushToPlayer(n,new a.ItemSlot(2,[t])),!0},canEquip:function(e,t){var i=this.owner;e.itemKind;return!(t>i.level.base&&(i.map.entities.pushToPlayer(i,new a.Notify("EQUIP","EQUIPMENT_LEVEL",[t])),1))},save:function(){databaseHandler.saveItems(this.owner,2,this.rooms)},degradeItem:function(e,t){var i=this.rooms[e];if(i)return i.itemDurability-=t,i.itemDurability=Math.max(0,i.itemDurability),0==i.itemDurability&&i.itemDurabilityMax<=30?(this.makeEmptyEquipment(e),!1):(this.owner.map.entities.pushToPlayer(this.owner,new a.ItemSlot(2,[i])),!0)},addExperience:function(e,t){var i=this.rooms[e];i&&(i.itemExperience+=t,i.itemNumber<r.getItemLevel(i.itemExperience)&&(i.itemNumber++,this.owner.map.entities.pushToPlayer(this.owner,new a.ItemLevelUp(e,i))),i.slot=e,this.owner.map.entities.pushToPlayer(this.owner,new a.ItemSlot(2,[i])))},toString:function(){for(var e=0,t=this.maxNumber+",",e=0;e<this.maxNumber;e++){var i=this.rooms[e];t+=(itemArray=[i.itemKind,i.itemNumber,i.itemDurability,i.itemDurabilityMax,i.itemExperience]).join(",")}return t},toStringJSON:function(){for(var e="[",t=!1,i=0;i<this.maxNumber;i++){var n=this.rooms[i];n&&(e+="["+(itemArray=[i,n.itemKind,n.itemNumber,n.itemDurability,n.itemDurabilityMax,n.itemExperience]).join(",")+"],",t=!0)}return e=e.slice(0,-1),e+="]",t?e:"[]"}})},{"../shared/js/gametypes":552,"../shared/js/itemtypes":553,"./data/itemdata":12,"./itemroom":40,"./lib/class":42,"./message":48}],37:[function(e,t,i){var c=e("underscore"),p=e("../shared/js/gametypes");e=new(FormatChecker=Class.extend({init:function(){this.formats=[],this.usernameMax=16,this.playerMax=16,this.dateMin=167e10,this.dateMax=2e12,this.hashLen=120,this.entityIdMax=99999,this.coordMax=16384,this.bankMax=47,this.inventoryMax=47,this.goldMax=99999999,this.gemMax=9999,this.itemCountMax=100,this.itemKindMax=999,this.questMax=999,this.formats[p.Messages.BI_SYNCTIME]=[["n",this.dateMin,this.dateMax]],this.formats[p.Messages.CS_CREATE_USER]=[["s",2,this.usernameMax],["s",this.hashLen,this.hashLen]],this.formats[p.Messages.CS_LOGIN_USER]=[["s",2,this.usernameMax],["s",this.hashLen,this.hashLen]],this.formats[p.Messages.CS_REMOVE_USER]=[["s",2,this.usernameMax],["s",this.hashLen,this.hashLen]],this.formats[p.Messages.CS_CREATE_PLAYER]=[["n",0,9],["s",2,this.playerMax]],this.formats[p.Messages.CS_LOGIN_PLAYER]=[["n",0,9],["n",0,16]],this.formats[p.Messages.CS_APPEARANCEUNLOCK]=[["n",-1,255],["n",0,this.gemMax]],this.formats[p.Messages.CS_ATTACK]=[["n",this.dateMin,this.dateMax],["n",0,this.entityIdMax],["n",0,4],["n",-1,50]],this.formats[p.Messages.CS_AUCTIONBUY]=[["n",0,1e3],["n",0,3]],this.formats[p.Messages.CS_AUCTIONDELETE]=[["n",0,1e3],["n",0,3]],this.formats[p.Messages.CS_AUCTIONOPEN]=[["n",0,3]],this.formats[p.Messages.CS_AUCTIONSELL]=[["n",0,this.inventoryMax],["n",0,this.goldMax]],this.formats[p.Messages.CS_BANKRETRIEVE]=[["n",0,this.bankMax]],this.formats[p.Messages.CS_BANKSTORE]=[["n",0,this.inventoryMax]],this.formats[p.Messages.CS_CHAT]=[["s",1,256]],this.formats[p.Messages.CS_COLOR_TINT]=[["n",0,1],["s",6,6]],this.formats[p.Messages.BI_BLOCK_MODIFY]=[["n",0,1],["n",0,this.entityIdMax],["n",0,this.coordMax],["n",0,this.coordMax]],this.formats[p.Messages.CS_INVENTORY]=[["n",0,3],["n",-1,1],["n",-1,this.inventoryMax],["n",0,1]],this.formats[p.Messages.CS_LOADLOOKS]=[],this.formats[p.Messages.CS_LOOKUPDATE]=[["n",0,1],["n",0,999]],this.formats[p.Messages.CS_LOOT]=[["n",0,this.entityIdMax],["n",0,this.coordMax],["n",0,this.coordMax]],this.formats[p.Messages.CS_MOVE]=[["n",this.dateMin,this.dateMax],["n",0,this.entityIdMax],["n",0,2],["n",0,4],["n",0,this.coordMax],["n",0,this.coordMax]],this.formats[p.Messages.CS_PLAYER_REVIVE]=[],this.formats[p.Messages.BI_SEND_BANK]=[],this.formats[p.Messages.BI_SEND_INVENTORY]=[],this.formats[p.Messages.CS_GOLD]=[["n",0,1],["n",0,this.goldMax],["n",0,1]],this.formats[p.Messages.CS_STATADD]=[["n",1,5],["n",1,1]],this.formats[p.Messages.CS_STOREBUY]=[["n",1,3],["n",0,this.itemKindMax],["n",0,10]],this.formats[p.Messages.CS_CRAFT]=[["n",0,this.itemKindMax],["n",0,10]],this.formats[p.Messages.CS_STOREENCHANT]=[["n",0,2],["n",0,this.inventoryMax]],this.formats[p.Messages.CS_STOREREPAIR]=[["n",0,2],["n",0,this.inventoryMax]],this.formats[p.Messages.CS_STORESELL]=[["n",0,2],["n",0,this.inventoryMax]],this.formats[p.Messages.CS_TALKTONPC]=[["n",5,6],["n",0,this.entityIdMax]],this.formats[p.Messages.CS_TELEPORT_MAP]=[["n",0,9],["n",0,1],["n",-1,this.coordMax],["n",-1,this.coordMax]],this.formats[p.Messages.CS_SKILL]=[["n",0,50],["n",0,this.entityIdMax]],this.formats[p.Messages.CS_SKILLINSTALL]=[["n",0,6],["n",0,50]],this.formats[p.Messages.CS_PARTY]=[["n",0,4],["so",0,this.playerMax],["no",0,3]],this.formats[p.Messages.BI_PLAYERINFO]=[],this.formats[p.Messages.BI_HARVEST]=[["n",0,this.coordMax],["n",0,this.coordMax]],this.formats[p.Messages.CS_USE_NODE]=[["n",0,this.entityIdMax]],this.formats[p.Messages.CS_QUEST]=[["n",0,this.entityIdMax],["n",0,this.questMax],["n",0,2]]},checkFormat:function(e,t,i,n){n=n||!1;if(i=i||this.formats[e]){if(!n&&t.length!==i.length)return!1;for(var a=0,r=i.length;a<r;a+=1){var s=i[a],o=t[a];if(Array.isArray(s)){if("n"===s[0]&&(!c.isNumber(o)||o<s[1]||o>s[2]))return!1;if("s"===s[0]&&(!c.isString(o)||o.length<s[1]||o.length>s[2]))return!1}else{if("n"===s&&!c.isNumber(o))return!1;if("s"===s&&!c.isString(o))return!1}}return!0}return console.error("Unknown message type: "+e),!1},check:function(e){var t=e.slice(0),i=t.shift(),n=n||this.formats[i];if(this.formats[i])return this.checkFormat(i,t,this.formats[i],!1);if(i===p.Messages.CS_MOVEPATH){var n=[["n",this.dateMin,this.dateMax],["n",0,this.entityIdMax],["n",0,4],["n",0,1]];if(!this.checkFormat(i,t,n,!0))return!1;var a,r=t.splice(n.length,t.length);if(!r)return!1;if(r.length<2||16<r.length)return!1;for(a of r){if(!Array.isArray(a)||2!=a.length)return!1;for(var s,o=0;o<2;++o)if(s=a[o],!c.isNumber(s)||s<0||s>this.coordMax)return!1}return!0}if(i===p.Messages.CS_WHO){try{JSON.parse(t)}catch(e){return!1}return 0<t.length&&c.all(t,function(e){return c.isNumber(e)&&0<e&&e<99999})}if(i===p.Messages.CS_ITEMSLOT)return i=(t=e.slice(0)).shift(),n=[["n",0,3],["n",0,2],["n",-1,this.inventoryMax],["n",0,this.itemCountMax]],7==t.length&&(n=n.concat([["n",0,2],["n",-1,this.inventoryMax],["n",0,this.itemCountMax]])),this.checkFormat(i,t,n,!0);try{throw new Error}catch(e){console.info(e.stack)}return console.error("Unknown message type: "+i),console.warn("message="+t),!1}})),i.check=e.check.bind(e)},{"../shared/js/gametypes":552,underscore:508}],38:[function(e,t,i){var a=e("./utils"),e=(e("../shared/js/itemtypes"),{crit:function(e,t){return a.randomRangeInt(0,200)<=a.clamp(5,195,~~(25+e.baseCrit()-t.baseCritDef()))},dmg:function(e,t,i){var n=1,i=(e.attackTimer&&(n=a.clamp(ATTACK_INTERVAL,ATTACK_MAX,i-e.attackTimer)/ATTACK_INTERVAL),console.info("attacker baseDamage="+e.baseDamage()),console.info("defender baseDamageDef="+t.baseDamageDef()),~~(e.baseDamage()*n)),i=a.clamp(1,5e3,~~(i-t.baseDamageDef()));return e instanceof Player&&0<i&&e.incAttackExp(i),t instanceof Player&&0<i&&t.incDefenseExp(i),~~i},pickPocket:function(e,t,i){return t.level-e.level+~~a.randomRange(0,100)<=i},mindControl:function(e,t){return t.level<=e.level&&0==~~a.randomRange(0,~~(50*t.level/e.level))},hp:function(e){return 100+40*e},energy:function(e){return 100+30*e},getExpArray:function(){}});void 0!==i&&(t.exports=e)},{"../shared/js/itemtypes":553,"./utils":69}],39:[function(e,t,i){var n=e("./lib/class"),a=(e("./itemroom"),e("./message")),r=e("../shared/js/itemtypes");e("../shared/js/gametypes");t.exports=Inventory=n.Class.extend({init:function(e,t,i){if(this.owner=e,this.number=t,this.maxNumber=48,this.maxStack=100,this.rooms={},console.info("number="+t),i)for(var n=0;n<i.length;n++)this.rooms[i[n].slot]=i[n]},hasItem:function(e){return this.hasItems(e,1)},hasItems:function(e,t){var i,n=0;for(i in this.rooms)if(this.rooms[i]&&this.rooms[i].itemKind===e&&t<=(n+=this.rooms[i].itemNumber))return!0;return!1},hasItemCount:function(e){var t,i=0;for(t in this.rooms)this.rooms[t]&&this.rooms[t].itemKind===e&&(i+=this.rooms[t].itemNumber);return i},hasRoomConsumable:function(){return this.hasRoom(0,6)},hasRoom:function(e,t){t=t||this.maxNumber;for(var i=e=void 0===e?6:e;i<t;i++)if(!this.rooms[i])return!0;return!1},makeEmptyItem:function(e){this.rooms[e]=null,delete this.rooms[e],this.setItem(e,null)},getItemCount:function(e){for(var t in this.rooms)if(this.rooms[t]&&this.rooms[t].itemKind==e)return this.rooms[t].itemNumber;return 0},getItemIndex:function(e){for(var t in this.rooms)if(this.rooms[t]&&this.rooms[t].itemKind==e)return t;return-1},getEmptyIndex:function(e,t){t=t||this.maxNumber;for(var i=e=void 0===e?6:e;i<t;i++)if(!this.rooms[i])return i;return-1},putItem:function(e){var t=r.isConsumableItem(e.itemKind),i=r.isLootItem(e.itemKind),n=r.isCraftItem(e.itemKind);if(t||i||n)for(var a in this.rooms){a=this.combineItem(e,this.rooms[a]);if(0<=a)return a}return this._putItem(e)},combineItem:function(e,t){var i,n;return console.info(JSON.stringify(e)),console.info(JSON.stringify(t)),!e||!t||e.itemKind!=t.itemKind||r.isEquippable(e.itemKind)||r.isEquippable(t.itemKind)?-1:(i=e.slot,n=t.slot,t.itemNumber<this.maxStack&&(t.itemNumber+=e.itemNumber,t.itemNumber>this.maxStack?(e.itemNumber=t.itemNumber-this.maxStack,t.itemNumber=Math.min(t.itemNumber,this.maxStack)):e=null),t.itemNumber<=0&&(t=null),this.setItem(i,e),this.setItem(n,t),n)},_putItem:function(e){var t=0,i=48;return r.isConsumableItem(e.itemKind)?i=6:t=6,(t=this.getEmptyIndex(t,i))<0?(this.owner instanceof Player&&this.owner.map.entities.pushToPlayer(this.owner,new a.Notify("INVENTORY","INVENTORY_FULL")),-1):(this.setItem(t,e),t)},checkItem:function(e,t){return!t||!(e<6&&!r.isConsumableItem(t.itemKind))},setItem:function(e,t){if(t){if(!this.checkItem(e,t))return!1;(this.rooms[e]=t).slot=e}else this.rooms[e]=null,t={slot:e,itemKind:-1};return this.owner.map.entities.pushToPlayer(this.owner,new a.ItemSlot(0,[t])),!0},save:function(){databaseHandler.saveItems(this.owner,0,this.rooms)},removeItemKind:function(e,t){var i,n=t;for(i in this.rooms){var a=this.rooms[i];if(a&&a.itemKind==e){if(a.itemNumber>n)return a.itemNumber-=n,this.setItem(i,a),!0;n-=a.itemNumber,this.setItem(i,a=null)}}return!1},takeOutItems:function(e,t){var i=this.rooms[e];return!i||t>i.itemNumber?null:(r.isEquippable(i.itemKind)?this.setItem(e,null):(i.itemNumber-=t,0==i.itemNumber&&(i=null),this.setItem(e,i)),i)},getRandomItemNumber:function(){for(var e,t,i=0,n=this.rooms.length;i<n;){if(e=~~Utils.randomRange(0,n-1),(t=this.rooms[e])&&0<t.itemKind)return e;++i}return-1},toString:function(){for(var e=0,t=this.maxNumber+",",e=0;e<this.maxNumber;e++){var i=this.rooms[e];i&&(t+=(itemArray=[i.itemKind,i.itemNumber,i.itemDurability,i.itemDurabilityMax,i.itemExperience]).join(","))}return t},toStringJSON:function(){for(var e="[",t=!1,i=0;i<this.maxNumber;i++){var n=this.rooms[i];n&&(e+="["+(itemArray=[i,n.itemKind,n.itemNumber,n.itemDurability,n.itemDurabilityMax,n.itemExperience]).join(",")+"],",t=!0)}return e=e.slice(0,-1),e+="]",t?e:"[]"}})},{"../shared/js/gametypes":552,"../shared/js/itemtypes":553,"./itemroom":40,"./lib/class":42,"./message":48}],40:[function(e,t,i){var n=e("./lib/class"),r=(e("../shared/js/gametypes"),e("../shared/js/itemtypes"));t.exports=ItemRoom=n.Class.extend({init:function(e,t,i,n,a){this.set(e,t,i,n,a)},assign:function(e){this.set(e.itemKind,e.itemNumber,e.itemDurability,e.itemDurabilityMax,e.itemExperience)},set:function(e,t,i,n,a){this.slot=-1,this.itemKind=e,this.itemNumber=t,this.itemDurability=i||(r.isConsumableItem(e)||r.isCraftItem(e)?0:900),this.itemDurabilityMax=n||(r.isConsumableItem(e)||r.isCraftItem(e)?0:900),this.itemExperience=a||0},addNumber:function(e){this.itemNumber+=e},save:function(){return[this.itemKind,this.itemNumber,this.itemDurability,this.itemDurabilityMax,this.itemExperience].join(",")},toArray:function(){return[parseInt(this.slot),this.itemKind,this.itemNumber,this.itemDurability,this.itemDurabilityMax,this.itemExperience]}})},{"../shared/js/gametypes":552,"../shared/js/itemtypes":553,"./lib/class":42}],41:[function(e,t,i){var z;e(".././utils");function G(e,t,i,n,a,r,s,o,c,p,l,u,d){return e&&(i&&!c[a][s]&&(u[d++]={x:s,y:a}),n)&&!c[a][o]&&(u[d++]={x:o,y:a}),t&&(i&&!c[r][s]&&(u[d++]={x:s,y:r}),n)&&!c[r][o]&&(u[d++]={x:o,y:r}),u}function W(e,t,i,n,a,r,s,o,c,p,l,u,d){return e=-1<a,t=r<p,n=-1<o,s<l&&(e&&!c[a][s]&&(u[d++]={x:s,y:a}),t)&&!c[r][s]&&(u[d++]={x:s,y:r}),n&&(e&&!c[a][o]&&(u[d++]={x:o,y:a}),t)&&!c[r][o]&&(u[d++]={x:o,y:r}),u}function K(e,t,i,n,a,r,s,o,c,p,l,u,d){return u}function $(e){return z[~~e[0]][~~e[1]]}function V(e,t,i,n){return n(i(e.x-t.x),i(e.y-t.y))}function Y(e,t,i,n){var a=e.x-t.x,e=e.y-t.y;return n(a*a+e*e)}function Q(e,t,i,n){return i(e.x-t.x)+i(e.y-t.y)}return t.exports=AStar=(z=null,{AStar:function(e,t,i,n){var a,r,s,o,c,p,l,u,d,h,f,m,y,g,M,v,b,x,_,w,k,E,S,D,C,T,A,O=(z=e)[0].length,L=e.length,B=O*L,F=Math.abs,I=Math.max,q={},P=[],R=[{x:~~t[0],y:~~t[1],f:0,g:0,v:t[0]+t[1]*O}],j=1,U={x:~~i[0],y:~~i[1],v:~~i[0]+~~i[1]*O};switch(n){case"Diagonal":s=G;case"DiagonalFree":r=V;break;case"Euclidean":s=G;case"EuclideanFree":I=Math.sqrt,r=Y;break;default:r=Q,s=K}s=s||W;do{for(c=B,N=p=0;N<j;++N)(n=R[N].f)<c&&(c=n,p=N);if((l=R.splice(p,1)[0]).v!=U.v)for(--j,m=s,y=l.x,g=l.y,M=e,v=L,b=O,A=T=C=D=S=E=k=w=_=x=void 0,x=(g=.5+~~g)-1,_=g+1,w=(y=.5+~~y)+1,k=y-1,E=0<x&&!$([x,y]),S=_<v+1&&!$([_,y]),D=w<b+1&&!$([g,w]),C=0<k&&!$([g,k]),T=[],A=0,E&&(T[A++]={x:y,y:x}),D&&(T[A++]={x:w,y:g}),S&&(T[A++]={x:y,y:_}),C&&(T[A++]={x:k,y:g}),N=0,o=(u=m(E,S,D,C,x,_,w,k,M,v,b,T,A)).length;N<o;++N)(a=u[N]).p=l,a.f=a.g=0,a.v=~~a.x+~~a.y*O,a.v in q||(d=0,a.p&&(a.dir=(f=(h=a).p,h.x<f.x?1:h.x>f.x?2:h.y<f.y?3:h.y>f.y?4:0),a.p.dir)&&a.p.dir!=a.dir&&(d=2),a.f=(a.g=l.g+r(a,l,F,I))+r(a,U,F,I)+d,q[(R[j++]=a).v]=1);else{for(N=j=0;P[N++]=[l.x,l.y],l=l.p;);function H(e,t){t.shift(),t.unshift([e[0],e[1]]);var i,n=null;for(i of t){if(n)if(~~n[0]==~~i[0])i[0]=n[0];else{if(~~n[1]!=~~i[1])break;i[1]=n[1]}n=i}}H(i,P),P.reverse(),H(t,P)}}while(j);for(var N=2;N<P.length;++N)(0<Math.abs(P[N-2][0]-P[N][0])&&0==Math.abs(P[N-2][1]-P[N][1])||0<Math.abs(P[N-2][1]-P[N][1])&&0==Math.abs(P[N-2][0]-P[N][0]))&&P.splice(--N,1);return P}}),AStar},{".././utils":69}],42:[function(e,t,i){var n=!1,r=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;(Class=function(){}).extend=function(e){var t,a=this.prototype,i=(n=!0,new this);for(t in n=!1,e)i[t]="function"==typeof e[t]&&"function"==typeof a[t]&&r.test(e[t])?function(i,n){return function(){var e=this._super,t=(this._super=a[i],n.apply(this,arguments));return this._super=e,t}}(t,e[t]):e[t];return(Class=function(){!n&&this.init&&this.init.apply(this,arguments)}).prototype=i,(Class.constructor=Class).extend=arguments.callee,Class},void 0!==i&&(i.Class=Class)},{}],43:[function(e,t,i){var n=e("./lib/class"),a=e("./message"),r=e("./data/appearancedata");t.exports=Looks=n.Class.extend({init:function(){var e=r.Data.length;this.prices=new Array(e),this.load();for(var t=0;t<e;t++)this.prices[t]=500;this.prices[0]=0,this.prices[50]=0,this.prices[77]=0,this.prices[151]=0},load:function(){console.info("LOOKS LOAD"),databaseHandler.loadLooks(this.prices)},save:function(){console.info("LOOKS SAVED"),this.prices&&databaseHandler.saveLooks(this.prices)},modPrice:function(e,t){this.prices[e]+=t},pricesToString:function(){return this.prices.join(",")},sendLooks:function(e){e.map.entities.pushToPlayer(e,new a.AppearanceList(e.user,this))}})},{"./data/appearancedata":11,"./lib/class":42,"./message":48}],44:[function(g,e,t){!function(r){!function(){var t=g("fs"),c=g("crypto"),p=g("./metrics"),l=g("./productionconfig"),u=g("./user"),d=(g("./utils"),g("./redis"),g("underscore")),h=g("readline").createInterface({input:process.stdin,output:process.stdout}),t=(G_LATENCY=100,G_ROUNDTRIP=2*G_LATENCY,G_TILESIZE=16,G_FRAME_INTERVALS=4,G_FRAME_INTERVAL_EXACT=1e3/60,G_FRAME_INTERVAL=~~G_FRAME_INTERVAL_EXACT,G_UPDATE_INTERVAL=~~(G_FRAME_INTERVAL*G_FRAME_INTERVALS),G_INTERVAL=G_UPDATE_INTERVAL*G_FRAME_INTERVALS,G_SPATIAL_SIZE=32,G_SCREEN_WIDTH=34,G_SCREEN_HEIGHT=18,ATTACK_INTERVAL=1e3,ATTACK_MAX=4e3,PLAYER_SAVE_INTERVAL=18e5,mobState={IDLE:1,ROAMING:2,AGGRO:3,CHASING:4,FIRSTATTACK:5,ATTACKING:6,RETURNING:7,STUCK:8},SAVING_SERVER=!1,AUCTION_SAVED=!1,PLAYERS_SAVED=!1,worlds=[],users={},players=[],Log=g("log"),g("fs")),f=g("util"),c=g("crypto");t.createWriteStream(r+"/../console.log",{flags:"w"}),process.stdout;function i(s){log=new Log(Log.INFO||Log.DEBUG||Log.ERROR),console.isEnabled=!0,Object.defineProperty(log,"log",{value:void 0,writable:!0,enumerable:!0}),Object.defineProperty(log,"info",{value:void 0,writable:!0,enumerable:!0}),Object.defineProperty(log,"warn",{value:void 0,writable:!0,enumerable:!0}),Object.defineProperty(log,"error",{value:void 0,writable:!0,enumerable:!0}),log.log=function(e){e="LOG: "+f.format(e)+"\n";console.info(e)},log.info=function(e){e="INFO: "+f.format(e)+"\n";console.info(e)},log.warn=function(e){e="WARN: "+f.format(e)+"\n";console.warn(e)},log.error=function(e){e="ERROR: "+f.format(e)+"\n";console.error(e)};function e(){var t,e;m(),t=250,new Promise(e=>setTimeout(e,t)),e=setInterval(function(){PLAYERS_SAVED&&AUCTION_SAVED&&(clearInterval(e),process.exit(1))},500),process.exit()}var t=new l(s),t=(t.inProduction()&&d.extend(s,t.getProductionSettings()),s.world_id),i=g("./ws"),n=g("./worldserver"),a=new i.WebsocketServer(s),r=(s.metrics_enabled&&new p(s),this),i=g("./databaseselector"),t=(console.info("Initializing RRO2 GameServer - World "+t),i(s)),o=(t(s),DBH=databaseHandler=new t(s),loadWorlds=function(){d.each(d.range(s.nb_worlds),function(e){var t=new n("world"+e,s.nb_players_per_world,a,databaseHandler);t.run(),t.name=s.world_name[e],worlds.push(t)})},console.log("REDIS SERVER CREATED!!!!!!!!!!!!!"),loadWorlds(),a.onConnect(function(e){for(var t=(new Date).valueOf().toString(),i=Math.random().toString(),t=c.createHash("sha1").update(t+i).digest("hex"),n=(e.hash=t,console.warn("onConnect: hash="+t),s),i=g("../shared/js/gametypes"),a=(console.info(JSON.stringify(n)),console.info("version sent"),console.info(i.Messages.SC_VERSION),e.sendUTF8(i.Messages.SC_VERSION+","+n.version+","+e.hash),i.Messages.SC_WORLDS),r=0;r<n.nb_worlds;++r)a+=","+r+","+worlds[r].name+","+worlds[r].getPopulation()+","+n.nb_players_per_world;e.sendUTF8(a),this.enterWorld(e)}),a.enterWorld=function(e){new u(r,e).hashChallenge=e.hash},a.onError(function(){console.error(Array.prototype.join.call(arguments,", "))}),a.onRequestStatus(function(){return JSON.stringify((e=worlds,t=[],d.each(e,function(e){t.push(e.playerCount)}),t));var e,t}),process.on("uncaughtException",function(e){console.info(JSON.stringify(e)),console.error("uncaughtException: "+e.stack)}),a._ioServer.on("connection",e=>{console.log("connected"),e.on("disconnect",function(){console.log("disconnected")}),a._ioServer.on("msg",e=>{console.log("msg="+JSON.stringify(e))})}),process.on("SIGINT",e),process.on("SIGTERM",e),process.on("SIGQUIT",e),function(){"win32"===process.platform&&h.on("SIGINT",function(){process.emit("SIGINT")}),h.question("Command:",function(e){switch(args=e.split(" "),cmdarg=args[0],args.shift(),console.info("cmd: "+e),cmdarg){case"modgems":!function(e){var t=worlds[0],i=e[0],e=e[1],t=t.getPlayerByName(i);t&&t.user?t.user.modifyGems(e):databaseHandler.modifyGems(i,e)}(args);break;case"modgold":!function(e){var t=worlds[0],i=e[0],e=e[1],t=t.getPlayerByName(i);t?t.modifyGold(e):databaseHandler.modifyGold(i,e)}(args);break;case"setpass":!function(e){worlds[0];var t=e[0],e=e[1],e=c.createHash("sha1").update(t+e).digest("hex");DBH.savePassword(t,e)}(args);break;case"exit":case"quit":case"q":case"x":m(),process.exit(1);break;case"s":case"save":y();break;case"forcequit":process.exit(1);break;case"reloadauction":d.each(worlds,function(e){e.auction.load()});break;default:console.info("Unknown command.")}setTimeout(o,100)})});o()}var e=!1;function m(){e||(e=!0,h.close(),y())}function y(){console.log("saving server!"),SAVING_SERVER=!0,d.each(worlds,function(e){e.save()})}function n(e,i){t.readFile(e,"utf8",function(e,t){i(e?null:JSON.parse(t))})}var a="./config_local.json";process.argv.forEach(function(e,t,i){2===t&&(a=e)}),n("./config.json",function(t){n(a,function(e){e?i(e):t?i(t):(console.error("Server cannot start without any configuration file."),process.exit(1))})})}.call(this)}.call(this,g("path").join(__dirname,"js"))},{"../shared/js/gametypes":552,"./databaseselector":21,"./metrics":49,"./productionconfig":57,"./redis":59,"./user":68,"./utils":69,"./worldserver":70,"./ws":71,crypto:void 0,fs:void 0,log:339,path:void 0,readline:void 0,underscore:508,util:void 0}],45:[function(e,t,i){var n=e("./lib/class"),r=(_=e("underscore"),e("fs")),s=e("../shared/js/file"),o=(e("path"),e("./utils")),a=e("./checkpoint"),c=e("./area/area"),p=e("./area/maparea"),e=n.Class.extend({init:function(e,t,i,n){this.id=this.index=e,console.info("filepath: "+i+",filenameCollision: "+n);var a=this;this.name=t,this.isLoaded=!1;s.exists(i,function(e){e?r.readFile(i,function(e,t){t=JSON.parse(t);a.initMap(t,n)}):console.error(i+" doesn't exist.")}),this.tilesize=G_TILESIZE},initMap:function(e,t){this.width=e.width,this.height=e.height,this.chunkWidth=e.chunkWidth,this.chunkHeight=e.chunkHeight,this.chunkIndexes=e.chunkIndexes,this.collisions=e.collisions,this.mobAreas=e.roamingAreas,this.chestAreas=e.chestAreas,this.staticChests=e.staticChests,this.staticEntities=e.staticEntities,this.generateCollisions=!0,this.zoneWidth=e.chunkWidth,this.zoneHeight=e.chunkHeight,this.groupWidth=Math.ceil(this.width/this.zoneWidth),this.groupHeight=Math.ceil(this.height/this.zoneHeight),this.initConnectedGroups(e.doors),this.loadTileGrid(e.data),this.loadCollisionGrid(e.collision),this.initCheckpoints(e.checkpoints),this.doors=this._getDoors(e),this.isLoaded=!0,this.ready=!0,this.readyFunc(this)},ready:function(e){this.readyFunc=e},tileIndexToGridPosition:function(e){var t=e%this.width,e=Math.floor(e/this.width);return{x:t*G_TILESIZE,y:e*G_TILESIZE}},GridPositionToTileIndex:function(e,t){return t*this.width+e+1},loadTileGrid:function(e){this.tile=[];for(var t,i=0;i<this.height;i++)for(this.tile[i]=[],t=0;t<this.width;t++)this.tile[i][t]=e[i*this.width+t]},loadCollisionGrid:function(e){this.grid=[];for(var t,i=0;i<this.height;i++)for(this.grid[i]=[],t=0;t<this.width;t++)this.grid[i][t]=1==e[i*this.width+t]},GroupIdToGroupPosition:function(e){e=e.split("-");return l(parseInt(e[0],10),parseInt(e[1],10))},forEachGroup:function(e){for(var t=this.groupWidth,i=this.groupHeight,n=0;n<t;n+=1)for(var a=0;a<i;a+=1)e(n+"-"+a)},getGroupIdFromPosition:function(e,t){var i=this.zoneWidth,n=this.zoneHeight;return Math.floor(e/i)+"-"+Math.floor(t/n)},getAdjacentGroupPositions:function(e){var t=this,i=this.GroupIdToGroupPosition(e),n=i.x,i=i.y,a=[l(n-1,i-1),l(n,i-1),l(n+1,i-1),l(n-1,i),l(n,i),l(n+1,i),l(n-1,i+1),l(n,i+1),l(n+1,i+1)];return _.each(this.connectedGroups[e],function(t){_.any(a,function(e){return u(e,t)})||a.push(t)}),_.reject(a,function(e){return e.x<0||e.y<0||e.x>=t.groupWidth||e.y>=t.groupHeight})},forEachAdjacentGroup:function(e,t){e&&_.each(this.getAdjacentGroupPositions(e),function(e){t(e.x+"-"+e.y)})},initConnectedGroups:function(e){var i=this;this.connectedGroups={},_.each(e,function(e){var t=i.getGroupIdFromPosition(e.x,e.y),e=i.getGroupIdFromPosition(e.tx,e.ty),e=i.GroupIdToGroupPosition(e);t in i.connectedGroups?i.connectedGroups[t].push(e):i.connectedGroups[t]=[e]})},initCheckpoints:function(e){var i=this;this.checkpoints={},this.startingAreas=[],_.each(e,function(e){var t=new a(e.id,e.x,e.y,e.w,e.h,i);i.checkpoints[t.id]=t,1===e.s&&i.startingAreas.push(t)})},getCheckpoint:function(e){return this.checkpoints[e]},getRandomStartingPosition:function(e){var t=_.size(this.startingAreas),t=o.randomInt(t-1);return e=e||this.startingAreas[t],1==this.index?(e=new c(0,512,512,30,30,this,!0,-1),t=this.entities.spaceEntityRandomApart(2,e._getRandomPositionInsideArea.bind(e,100)),console.info("getRandomStartingPosition - x:"+t.x+",y:"+t.y),t):e?this.entities.spaceEntityRandomApart(2,e._getRandomPositionInsideArea.bind(e,100)):null},isColliding:function(e,t){var e=~~(e>>4),t=~~(t>>4),i=~~(.5+e),n=~~(.5+t),e=[[e,t],[e,n],[i,t],[i,n]],a=e[0];if(this.isOutOfBounds(a[0],a[1]))return!0;if(this.isOutOfBounds((a=e[3])[0],a[1]))return!0;a=null;for(a of e)if(this.isCollidingGrid(a[0],a[1]))return!0;return!1},isCollidingGrid:function(e,t){return!0===this.grid[t][e]},isOutOfBounds:function(e,t){return!_.isNumber(e)||!_.isNumber(t)||e<0||e>=this.width||t<0||t>=this.height},isValidPosition:function(e,t){return _.isNumber(e)&&_.isNumber(t)&&!this.isOutOfBounds(e,t)&&!this.isColliding(e,t)},getRandomPositionCollide:function(e){for(var t=this,i={},n=(i.x=o.randomRangeInt(0-(e=e||[0,0,0,0])[0],t.width-1-e[2]),i.y=o.randomRangeInt(0-e[1],t.height-1-e[3]),0);n<25&&!t.isValidPosition(i.x+e[0],i.y+e[1],i.x+e[2],i.y+e[3]);)++n,i.x=o.randomRangeInt(0-e[0],t.width-1-e[2]),i.y=o.randomRangeInt(0-e[1],t.height-1-e[3]);return 25<=n&&(i.x=-1,i.y=-1,console.log("getRandomPosition()-tries="+n)),i},getRandomPositionArea:function(e,t,i,n){for(var a={},r=this.tilesize,s=(e=o.clamp(0,this.width*r,e),t=o.clamp(0,this.width*r,t),i=o.clamp(0,this.height*r,i),n=o.clamp(0,this.height*r,n),a.x=o.randomRangeInt(e,t),a.y=o.randomRangeInt(i,n),0);s<20&&this.isColliding(a.x,a.y);)++s,a.x=o.randomRangeInt(e,t),a.y=o.randomRangeInt(i,n);return 20<=s&&(a.x=-1,a.y=-1,console.log("getRandomPosition()-tries="+s)),a},getRandomPosition:function(){for(var e=this,t={},i=(t.x=o.randomRangeInt(0,e.width*e.tilesize),t.y=o.randomRangeInt(0,e.height*e.tilesize),0);i<20&&!e.isColliding(t.x,t.y);)++i,t.x=o.randomRangeInt(0,e.width*e.tilesize),t.y=o.randomRangeInt(0,e.height*e.tilesize);return 20<=i&&(t.x=-1,t.y=-1,console.log("getRandomPosition()-tries="+i)),t},_getDoors:function(i){console.info(JSON.stringify(i.doors));var n=[];return _.each(i.doors,function(e){e.width=e.width||1,e.height=e.height||1,console.info("door.tmap="+e.tmap);var t=new p(i,!1,e.x,e.y,e.width,e.height,-1);switch(t.minLevel=e.tminLevel||0,t.maxLevel=e.tmaxLevel||200,t.map=e.tmap||1,t.portal=1===e.p,t.quest=e.tq,t.admin=e.a,e.to){case"u":t.orientation=Types.Orientations.UP;break;case"d":t.orientation=Types.Orientations.DOWN;break;case"l":t.orientation=Types.Orientations.LEFT;break;case"r":t.orientation=Types.Orientations.RIGHT;break;default:t.orientation=Types.Orientations.DOWN}n.push(t)}),console.info("return doors"),n},isDoor:function(t,i){return _.detect(this.doors,function(e){return null!=e.contains({x:t,y:i})})},getDoor:function(t){return _.detect(this.doors,function(e){return e.contains(t)})},getSubCoordinate:function(e,t){return[e%=this.chunkWidth*this.tilesize,t%=this.chunkHeight*this.tilesize]},getSubIndex:function(e,t){return~~(t/(this.chunkHeight*this.tilesize)*this.chunkHeight+e/(this.chunkWidth*this.tilesize))},isHarvestTile:function(e,t){if(console.info("isHarvestTile"),this.isOutOfBounds(e.gx,e.gy))return!1;var i=this.getTiles(e.gx,e.gy);if(console.info("tiles: "+JSON.stringify(i)),!i||0==i.length)return!1;log.info("tiles="+JSON.stringify(i));e={axe:[678,679,698,699,855,875,274,275,294,295]};return!!e.hasOwnProperty(t)&&e[t].some(function(e){return i.includes(e)})},getTiles:function(e,t){return this.tile[t][e]}}),l=function(e,t){return{x:e,y:t}},u=function(e,t){return e.x===t.x&&t.y==t.y};t.exports=e},{"../shared/js/file":551,"./area/area":1,"./area/maparea":5,"./checkpoint":10,"./lib/class":42,"./utils":69,fs:void 0,path:void 0,underscore:508}],46:[function(e,t,i){var n=e("./lib/class"),s=(_=e("underscore"),e("path"),e("./utils")),a=(e("./entity/chest"),e("./entity/npcstatic")),o=e("./message"),r=e("./data/mobdata"),c=e("./data/npcdata"),p=e("../shared/js/itemtypes"),l=(e("./data/skilldata"),e("./mobcallback")),u=e("./mobai"),e=n.Class.extend({init:function(e,t,i,n){for(var a=this,r=(a.id=e,a.map=i,a.server=t,a.database=n,a.entities={},a.players={},a.characters={},a.npcplayers={},a.mobs={},a.items={},a.equipping={},a.hurt={},a.npcs={},a.chests={},a.blocks={},a.spatial=[],Math.ceil(a.map.width/G_SPATIAL_SIZE)),s=Math.ceil(a.map.height/G_SPATIAL_SIZE),o=0;o<s;o++){a.spatial[o]=[];for(var c=0;c<r;c++)a.spatial[o][c]={}}a.packets={},a.mobAreas=[],a.chestAreas=[],a.groups={},a.pathfinder=null,a.pathingGrid=null,a.zoneGroupsReady=!1,a.maxPackets=8,a.entityCount=0,this.mobCallback=null,this.mobAI=null,this.cellsize=G_TILESIZE,this.harvest={}},getSpatialEntities:function(e){for(var t=~~(Math.max(e[0],0)/G_SPATIAL_SIZE),i=~~(Math.max(e[1],0)/G_SPATIAL_SIZE),n=~~(Math.min(e[2],this.map.width)/G_SPATIAL_SIZE),a=~~(Math.min(e[3],this.map.height)/G_SPATIAL_SIZE),r={},s=i;s<=a;++s)for(var o=t;o<=n;++o)if(!(s<0||s>=this.spatial.length||o<0||o>=this.spatial[s].length))for(var[c,p]of Object.entries(this.spatial[s][o]))p&&(r[c]=p);return r},mapready:function(){this.initPathFinder(),this.initPathingGrid(),this.mobCallback=new l(this.server,this.map),this.mobAI=new u(this.server,this.map)},initPathFinder:function(){this.pathfinder=new Pathfinder(this.map.width,this.map.height)},spawnNpcs:function(e){for(var t=0;t<e;++t)this._createNpc("Npc"+t)},_createNpc:function(e){var t=this,i=(pos=t.spaceEntityRandomApart(2,function(){return t.map.getRandomPosition()}),new NpcMove(++t.entityCount,0,16*pos.x,16*pos.y,t.map));return t.addNpcPlayer(i),i},initPathingGrid:function(){for(var e=this.map,t=(console.info("pathinggrid height:"+e.height+", width:"+e.width),new Array(e.height)),i=0;i<e.height;i+=1){t[i]=new Array(e.width);for(var n=0;n<e.width;n+=1)e.grid[i][n]?t[i][n]=1:t[i][n]=0}this.entitygrid=t.slice(0),this.pathingGrid=t.slice(0),console.info("Initialized the pathing grid with static colliding cells.")},processWho:function(t){var i=this,n=[],e=[],a=(e=(e=t.knownIds).parseInt(),~~(t.x/G_TILESIZE)),r=~~(t.y/G_TILESIZE),a=this.getSpatialEntities([a-64,r-32,64+a,32+r]),r=(_.each(a,function(e){e&&e!=t&&i.isOffset(t,e)&&n.push(e.id)}),e&&0<e.length?_.difference(n,e):n);_.each(r,function(e){var e=i.getEntityById(e);e&&e!=t&&(t.knownIds.push(e.id),i.pushToPlayer(t,e.spawn()),e.path)&&(e=new o.MovePath(e,e.path),i.pushToPlayer(t,e))})},isOffset:function(e,t,i,n,a){i=(i||0)*G_TILESIZE,n=(n||32)*G_TILESIZE,a=(a||18)*G_TILESIZE;var a=Math.max(0,e.x-n-i),r=Math.max(0,e.y-n-i),s=Math.min(this.map.width*G_TILESIZE,e.x+n+i),e=Math.min(this.map.height*G_TILESIZE,e.y+n+i);return t.y>=r&&t.y<=e&&t.x>=a&&t.x<=s},processPackets:function(){var e,t=this;for(e in 0<t.packets.length&&console.info(JSON.stringify(t.packets)),t.packets)if(null!=e&&void 0!==e&&t.packets.hasOwnProperty(e)&&0<t.packets[e].length&&void 0!==t.packets[e]&&null!=t.packets[e]){var i=t.getEntityById(e);if(i&&2<=i.mapStatus&&null!=t.server.socket.getConnection(e)&&void 0!==t.server.socket.getConnection(e)){for(var i=t.server.socket.getConnection(e),n=(t.packets[e].length,[]),a=0;a<t.maxPackets&&0!=t.packets[e].length;++a)n.push(t.packets[e].shift());i.send(n)}else t.server.socket.getConnection(e)}},pushToPlayer:function(e,t){t&&e&&e.id in this.packets&&this.packets[e.id].push(t.serialize())},pushBroadcast:function(e,t){if(e)for(var i in this.packets)this.packets.hasOwnProperty(i)&&i!=t&&this.packets[i].push(e.serialize())},pushNeighbours:function(e,t,i,n){var a,r=this.getPlayerAround(e,n=n||48);for(a in e instanceof Player&&r.push(e),r){var s=r[a];s instanceof Player&&(this.packets.hasOwnProperty(s.id)&&!i||i&&s!=i)&&this.packets[s.id].push(t.serialize())}},isMobsOnSameTile:function(t){var i=t.x,n=t.y,a=!1,r=0,s=0;return t.path&&0<t.path.length&&(i=t.path[t.path.length-1][0],n=t.path[t.path.length-1][1]),_.each(self.mobs,function(e){s=e.isMoving()?(r=e.path[e.path.length-1][0],e.path[e.path.length-1][1]):(r=e.x,e.y),e.id!=t.id&&i==r&&n==s&&(a=!0)}),a},getFreeAdjacentNonDiagonalPosition:function(e){var n=this,a=null;return e.forEachAdjacentNonDiagonalPosition(function(e,t,i){a||n.map.isColliding(e,t)||n.isCharacterAt(e,t)||(a={x:e,y:t,o:i})}),a},getFreeFutureAdjacentNonDiagonalPosition:function(e){var n=this,a=[];return e.forEachFutureAdjacentNonDiagonalPosition(function(e,t,i){n.map.isColliding(e,t)||n.isMobAt(e,t)||a.push({x:e,y:t,o:i})}),a},getRandomPosition:function(e,t){var i=[],n=0;for(t*=G_TILESIZE;n++<10&&i.y!=e.y&&i.x!=e.x;){var a=s.randomRangeInt(-t,t),r=s.randomRangeInt(-t,t);if(i[0]=e.x+a,i[1]=e.y+r,!this.map.isColliding(i[0],i[1])&&(-1!=i[0]||-1!=i[1]))return{x:i[0],y:i[1]}}return console.info("getRandomPosition - failed"),null},handleOpenedChest:function(e,t){this.pushToAdjacentGroups(e.group,e.despawn()),this.removeEntity(e);t=this.server.getDroppedOrStolenItem(t,e,!1);t&&t instanceof Item&&(t.x=e.x,t.y=e.y,e.map.entities.pushBroadcast(new o.Spawn(t)),this.server.handleItemDespawn(t)),e.handleRespawn()},spawnStaticEntities:function(i){var n=this;console.info(JSON.stringify(n.map.staticEntities)),_.each(n.map.staticEntities,function(e,t){t=i.tileIndexToGridPosition(t);console.info("kind:"+e),c.isNpc(e)&&(console.info("npc:"+e+",x:"+t.x+",y:"+t.y),n.addNpc(e,t.x,t.y))})},spawnEntity:function(e,t,i,n){var a;return c.isNpc(e)?a=this.addNpc(e,t,i,n):r.isMob(e)&&(a=this.addMob(e,t,i)),a},addEntity:function(e){(this.entities[e.id]=e)instanceof Character&&(this.characters[e.id]=e)},addPlayer:function(e){console.info("addPlayer - player id: "+e.id),this.addEntity(e),this.players[e.id]=e,this.packets[e.id]=[]},addChest:function(e){this.addEntity(e),this.chests[e.id]=e},addBlock:function(e){return this.addEntity(e),this.blocks[e.id]=e},addMob:function(e,t,i,n){e=new Mob(++this.entityCount,e,t,i,this.map,n);return e.mobAI=this.mobAI,e.onMove(this.server.onMobMoveCallback.bind(this.server)),this.mobCallback.setCallbacks(e),this.addEntity(e),this.mobs[e.id]=e},addNpc:function(e,t,i){e=new a(++this.entityCount,e,t,i,this.map);return this.addEntity(e),this.npcs[e.id]=e},addNpcPlayer:function(e){return this.addEntity(e),this.npcplayers[e.id]=e},addItem:function(e){return this.addEntity(e),this.items[e.id]=e},removeEntity:function(e){e.id in this.mobs&&delete this.mobs[e.id],e.id in this.items&&delete this.items[e.id],e.id in this.players&&delete this.players[e.id],e.id in this.chests&&delete this.chests[e.id],e.id in this.blocks&&delete this.blocks[e.id],e.id in this.characters&&delete this.characters[e.id],e.id in this.entities&&delete this.entities[e.id],e.destroy()},removePlayer:function(e){console.info("removePlayer-called");e instanceof Player&&e.packetHandler.broadcast(e.despawn()),console.info("deleting player traces.."),delete this.packets[e.id],this.removeEntity(e),delete e},removeNpcPlayer:function(e){console.info("removePlayer-called");this.pushBroadcast(e.despawn(0)),this.removeEntity(e),delete this.npcplayers[e.id]},createItem:function(e,t,i){var n=++this.entityCount,a=Types.EntityTypes.ITEM;return p.isEquippable(e.itemKind)||(a=Types.EntityTypes.ITEMLOOT),a=new Item(a,n,e,t,i,this.map),this.addItem(a),a},addStaticItem:function(e,t){return t.isStatic=!0,t.onRespawn(this.addStaticItem.bind(this,t)),this.addItem(t)},addItemFromChest:function(e,t,i){e=this.createItem(e,t,i);return e.isFromChest=!0,this.addItem(e)},getNpcByQuestId:function(e){var t;for(e in this.npcs)if((t=this.npcs[e]).questId==e)return t;return null},getEntityById:function(e){if(this.entities.hasOwnProperty(e))return this.entities[e]},getPlayerByName:function(e){for(var t in this.players){t=this.players[t];if(t.name===e)return t}return null},setModifyGoldByName:function(e,t){var i=this.getPlayerByName(e);i?i.modifyGold(t):this.database.modifyGold(e,t)},getEntitiesByPosition:function(t,i){return entities=[],this.forEachEntity(function(e){e.x==t&&e.y==i&&entities.push(e)}),entities},isCharacterAt:function(e,t){return 1===this.entitygrid[t][e]},isMobAt:function(n,a){var r=!1;return this.forEachMob(function(e){var t=e.x,i=e.y;e.path&&0<e.path.length&&(t=e.path[e.path.length-1][0],i=e.path[e.path.length-1][1]),n==t&&a==i&&(r=!0)}),r},forEachEntity:function(e){for(var t in this.entities)this.entities.hasOwnProperty(t)&&e(this.entities[t])},forEachPlayer:function(e){for(var t in this.players)this.players.hasOwnProperty(t)&&e(this.players[t])},forEachPartyPlayer:function(e){for(var t in this.players)this.players.hasOwnProperty(t)&&e(this.players[t])},forEachMob:function(e){for(var t in this.mobs)this.mobs.hasOwnProperty(t)&&e(this.mobs[t])},forEachCharacter:function(e){for(var t in this.entities)this.entities.hasOwnProperty(t)&&this.entities[t]instanceof Character&&e(this.entities[t])},forEachNpcPlayer:function(e){for(var t in this.npcplayers)this.npcplayers.hasOwnProperty(t)&&e(this.npcplayers[t])},getEntityCount:function(e,t,i,n){i*=G_TILESIZE;var a,r,s=t.x,o=t.y,c=0;n=n||function(e,t){return e!==t};for(r in e)e.hasOwnProperty(r)&&(a=e[r],Math.abs(a.x-s)<=i)&&Math.abs(a.y-o)<=i&&n(t,a)&&c++;return c},getEntitySpatialCount:function(e,t,i){t*=G_TILESIZE;var n,a=e.x,r=e.y,t=t>>1,s=0;for(n in i=i||function(e,t){return e!==t},this.getSpatialEntities([a-t,r-t,a+t,r+t]))i(e,n)&&s++;return s},getEntityAroundSpatial:function(e,t,i){var n,a,t=(t*=G_TILESIZE)>>1,r=e.x,s=e.y,o=[],c=(i=i||function(e,t){return e!==t},this.getSpatialEntities([r-t,s-t,r+t,s+t]));for(a in c)(n=c[a])&&i(e,n)&&o.push(n);return o},getEntityAround:function(e,t,i,n){i*=G_TILESIZE;var a,r,s=t.x,o=t.y,c=[];for(r in n=n||function(e,t){return e!==t},e)(a=e[r])&&Math.abs(a.x-s)<=i&&Math.abs(a.y-o)<=i&&n(t,a)&&c.push(a);return c},getEachEntityAround:function(e,t,i){var e=~~(e/G_TILESIZE),t=~~(t/G_TILESIZE),n=this.getSpatialEntities([e-i,t-i,e+i,t+i]);return this.getEntityAround(n,{x:e,y:t},i)},getEntitiesAround:function(e,t){var i=~~(e.x/G_TILESIZE),n=~~(e.y/G_TILESIZE),t=t*G_TILESIZE>>1,i=this.getSpatialEntities([i-t,n-t,i+t,n+t]);return this.getEntityAround(i,e,t)},getCharactersAround:function(e,t){return this.getEntityAround(this.getEntitiesAround(e,t),e,t,function(e,t){return e!==t&&t instanceof Character})},getMobsAround:function(e,t){return this.getEntityAround(this.mobs,e,t)},getPlayerAround:function(e,t){return this.getEntityAround(this.players,e,t)},getAroundCount:function(e,t,i){return this.getEntityCount(e,t,i)},getEntityAroundCount:function(e,t){return this.getEntityCount(this.getEntitiesAround(e,t),e,t)},getPlayerAroundCount:function(e,t){return this.getEntityCount(this.players,e,t)},getPartyAround:function(e,t){return this.getEntityAround(e.party.players,e,t)},itemDespawn:function(e){this.pushNeighbours(e,new o.Despawn(e)),this.removeEntity(e)},handleEmptyChestArea:function(e){e&&this.handleItemDespawn(chest)},tryAddingMobToChestArea:function(t){_.each(this.chestAreas,function(e){e.contains(t)&&e.addToArea(t)})},findPath:function(e,t,i,n){var a=[];if(this.pathfinder&&e){var r=this.map.grid,a=null,s=[e.x,e.y];G_TILESIZE;if(this.map.isColliding(e.x,e.y))return console.warn("findPath - isColliding start."),null;var o=[t,i];if(this.map.isColliding(t,i))return console.warn("findPath - isColliding end."),null;if(s[0]==o[0]&&s[1]==o[1]){try{throw new Error}catch(e){console.info(e.stack)}return console.warn("findPath - path coordinates are the same."),null}if(!a||0==a.length){if((s[0]==o[0]||s[1]==o[1])&&this.pathfinder.isValidPath(r,c=[s,o]))return c;var c=[s,[s[0],o[1]],o];if(console.info("mp:"+JSON.stringify(c)),this.pathfinder.isValidPath(r,c))return c;if(c=[s,[o[0],s[1]],o],console.info("mp:"+JSON.stringify(c)),this.pathfinder.isValidPath(r,c))return c}a&&0!=a.length||(c=this.pathfinder.getShortGrid(r,s,o,3),a=this.pathfinder.findShortPath(c.crop,c.minX,c.minY,c.substart,c.subend)),a&&0!=a.length||(console.warn("findPath - DANGER - findPath LONGGG"),a=this.pathfinder.findPath(r,s,o,!1)),a||console.error("findPath - Error while finding the path to "+t+", "+i+" for "+e.id)}else console.error("findPath - Error while finding the path to "+t+", "+i+" for "+e.id);return a},spaceEntityRandomApart:function(e,t,i,n,a){i=i||this.entities,a=a||50;for(var r=null,s=1,o=n&&n.collision?n.collision:null,c=0;0<s&&c<a;)t&&(s=(r=t(o))?this.getAroundCount(i,{x:r.x,y:r.y},e):0),c++;return r},isGridPositionEmpty:function(e,t){if(console.info("isGridPositionEmpty: x="+e+",y="+t),this.map.isColliding(e,t))return!1;var i={x:e,y:t},e=this.getEntitiesAround(i,1);if(0!=e.length)for(var n of e)if(n.isWithin(i))return!1;return!0}});t.exports=e},{"../shared/js/itemtypes":553,"./data/mobdata":15,"./data/npcdata":18,"./data/skilldata":20,"./entity/chest":25,"./entity/npcstatic":32,"./lib/class":42,"./message":48,"./mobai":50,"./mobcallback":51,"./utils":69,path:void 0,underscore:508}],47:[function(e,t,i){var n=e("./lib/class"),r=e("./map"),v=e("./mapentities"),b=(e("./message"),e("./utils")),x=e("./entity/npcmove"),_=(e("./area/blockarea"),e("./area/traparea"),e("./area/mobarea")),w=e("./area/entityarea"),k=(e("./trapgroup"),e("./data/mobdata")),E=e("./entity/node");t.exports=MapManager=n.Class.extend({storeMobAreas:function(e){e.mobArea=[];for(var t=0;t<e.mobAreas.length;++t){(i=e.mobAreas[t]).sMinLevel=i.sMinLevel||0,i.sMaxLevel=i.sMaxLevel||0;var i=new _(i.id,i.nb,i.minLevel,i.maxLevel,i.x,i.y,i.width,i.height,i.include,i.exclude,i.definite,e,i.ellipse,i.excludeId,i.sMinLevel,i.sMaxLevel);e.mobArea.push(i)}return e.mobArea},spawnMobs:function(e){for(a of e.mobArea)a.addMobs(),a.spawnMobs()},init:function(e){var g=this;this.server=e,this.maps={},this.mapCount=0,this.id=0,this.mapInstances={},this.loaded=!1,this.maps[0]=new r(0,"map0","./maps/map0.json",""),this.maps[0].ready(function(){var t=g.maps[0];t.entities=new v(g.id,g.server,t,g.server.database),t.entities.mapready(),t.entities.spawnStaticEntities(t),t.enterCallback=function(e){return t.getRandomStartingPosition()},g.MapsReady()}),this.maps[1]=new r(1,"map1","./maps/map1.json",""),this.maps[1].ready(function(){for(var t=g.maps[1],e=(t.entities=new v(g.id,g.server,t,g.server.database),t.entities.mapready(),t.mobArea=[],new _(0,25,0,1,512,512,40,40,[1],null,null,t,!0,-1,null,null)),i=(t.mobArea.push(e),0),n=0,a=512,r=512,s=0,o=0,c=0,p=0;p<40;p++){o+=p%2==0?1:0;for(var l=p%4,s=1;s<=o;s++){switch(l){case n=i=0:i=40;break;case 1:n=40;break;case 2:i=-40;break;case 3:n=-40}e=new _(++c,12,1+c,1+c,a+=i,r+=n,40,40,[c%Object.keys(k.Kinds).length],null,null,t,!0,-1,null,null),t.mobArea.push(e);var u=new w(0,a,r,30,30,t,!0,-1),d=u._getRandomPositionInsideArea(35),h=new x(++t.entities.entityCount,c,d.x,d.y,t);if(t.entities.addNpcPlayer(h),0<c){var f=1;if(5==c)for(var m=0;m<6;++m){d=t.entities.spaceEntityRandomApart(2,u._getRandomPositionInsideArea.bind(u,100));(y=new E(++t.entities.entityCount,3,d.x,d.y,t,f,f)).name="node1",y.weaponType="any",u.addToArea(y),t.entities.addEntity(y)}else if(6==c)for(f=2,m=0;m<6;++m){d=t.entities.spaceEntityRandomApart(2,u._getRandomPositionInsideArea.bind(u,100));(y=new E(++t.entities.entityCount,3,d.x,d.y,t,f,f)).name="node2",y.weaponType="any",u.addToArea(y),t.entities.addEntity(y)}else{f=b.clamp(1,4,1+~~(c/10));for(m=0;m<10;++m){var y,d=t.entities.spaceEntityRandomApart(2,u._getRandomPositionInsideArea.bind(u,100));(y=new E(++t.entities.entityCount,2,d.x,d.y,t,f,f)).name="node"+f,y.weaponType="hammer",u.addToArea(y),t.entities.addEntity(y)}}}}}(h=new x(++t.entities.entityCount,0,8160,8160,t)).name="Old Man",h.scriptQuests=!1,t.entities.addNpcPlayer(h),g.spawnMobs(t),t.enterCallback=function(e){return t.getRandomStartingPosition()},g.MapsReady()})},MapsReady:function(){this.mapCount++,console.info("mapCount="+this.mapCount),this.isMapsReady()&&!this.loaded&&(console.info("maps ready"),this.readyFunc(),this.loaded=!0)},isMapsReady:function(){return console.info("Maps Length: "+Object.keys(this.maps).length),this.mapCount==Object.keys(this.maps).length},onMapsReady:function(e){this.readyFunc=e}})},{"./area/blockarea":2,"./area/entityarea":4,"./area/mobarea":6,"./area/traparea":7,"./data/mobdata":15,"./entity/node":30,"./entity/npcmove":31,"./lib/class":42,"./map":45,"./mapentities":46,"./message":48,"./trapgroup":66,"./utils":69}],48:[function(e,t,i){e("underscore");var n=e("./lib/class"),a=e("../shared/js/gametypes"),r=e("./utils"),e={},t=(t.exports=e,n.Class.extend({}));e.Spawn=t.extend({init:function(e){this.entity=e},serialize:function(){return[a.Messages.SC_SPAWN].concat(this.entity.getState())}}),e.Despawn=t.extend({init:function(e){this.id=e.id,this.mapIndex=e.map.index,this.x=e.x,this.y=e.y},serialize:function(){return[a.Messages.SC_DESPAWN,this.id,this.mapIndex,this.x,this.y]}}),e.SwapSprite=t.extend({init:function(e,t){this.entity=e,this.animId=t},serialize:function(){return[a.Messages.SC_SWAPSPRITE,this.entity.id,this.entity.kind,this.animId]}}),e.Move=t.extend({init:function(e,t,i,n,a){this.time=Date.now(),this.entity=e,this.orientation=t,this.state=i,this.x=n||this.entity.x,this.y=a||this.entity.y},serialize:function(){return[a.Messages.SC_MOVE,this.time,this.entity.map.index,this.entity.id,parseInt(this.orientation),this.state,this.entity.moveSpeed,this.x,this.y]}}),e.MovePath=t.extend({init:function(e,t){this.time=Date.now(),this.entity=e,this.path=t,this.orientation=e.orientation},serialize:function(){return[a.Messages.SC_MOVEPATH,this.time,this.entity.map.index,this.entity.id,parseInt(this.orientation),this.entity.interrupted=this.entity.interrupted?1:0,this.entity.moveSpeed].concat(this.path)}}),e.ChangePoints=t.extend({init:function(e,t,i){this.id=e.id,this.hp=e.stats.hp,this.hpMax=e.stats.hpMax,this.ep=e.stats.ep||0,this.epMax=e.stats.epMax||0,this.modhp=t,this.modep=i},serialize:function(){return[a.Messages.SC_CHANGEPOINTS,this.id,this.hp,this.hpMax,this.modhp,this.ep,this.epMax,this.modep]}}),e.Error=t.extend({init:function(e){this.message=e},serialize:function(){return[a.Messages.SC_ERROR,this.message]}}),e.Notify=t.extend({init:function(e,t,i){this.group=e,this.message=t,this.vars=i||[]},serialize:function(){return[a.Messages.SC_NOTIFY,this.group,this.message].concat(this.vars)}}),e.Quest=t.extend({init:function(e){this.quest=e},serialize:function(){var e=this.quest.toClient();return[a.Messages.SC_QUEST].concat(e)}}),e.Achievement=t.extend({init:function(e){this.achievement=e},serialize:function(){var e=this.achievement.toClient(this.achievement);return[a.Messages.SC_ACHIEVEMENT].concat(e)}}),e.Log=t.extend({init:function(e){this.message=e,this.message.unshift(a.Messages.SC_LOG)},serialize:function(){return this.message}}),e.SkillLoad=t.extend({init:function(e,t){this.index=e,this.exp=t},serialize:function(){return[a.Messages.SC_SKILLLOAD,this.index,this.exp]}}),e.SkillEffects=t.extend({init:function(e,t){this.id=e.id,this.effects=t},serialize:function(){return[a.Messages.SC_SKILLEFFECTS,this.id].concat(this.effects)}}),e.SkillXP=t.extend({init:function(e){this.skillXPs=e},serialize:function(){var e=[a.Messages.SC_SKILLXP];return e.push(skillXPs.length),e.concat(skillXPs),e}}),e.Chat=t.extend({init:function(e,t,i){this.playerId=e.id,this.group=t,this.message=i},serialize:function(){return[a.Messages.SC_CHAT,this.playerId,this.group,this.message]}}),e.TeleportMap=t.extend({init:function(e,t,i){this.entity=e,this.subIndex=t,this.status=i},serialize:function(){return[a.Messages.SC_TELEPORT_MAP,this.entity.getMapIndex(),this.subIndex,this.status,this.entity.x,this.entity.y]}}),e.Damage=t.extend({init:function(e){var t=e[0],i=e[1];this.entity1=t,this.entity2=i,this.hpMod=e[2],this.hp=i.stats.hp,this.hpMax=i.stats.hpMax,this.epMod=e[3],this.ep=i.stats.ep||0,this.epMax=i.stats.epMax||0,this.crit=e[4]?1:0,this.effects=e[5]},serialize:function(){var e=[a.Messages.SC_DAMAGE,this.entity1.id,this.entity2.id,this.entity1.orientation,this.hpMod,this.hp,this.hpMax,this.epMod,this.ep,this.epMax,this.crit];return Array.isArray(this.effects)&&0<this.effects.length&&e.concat(this.effects),e}}),e.StatInfo=t.extend({init:function(e){this.player=e},serialize:function(){return[a.Messages.SC_STATINFO,this.player.stats.attack,this.player.stats.defense,this.player.stats.health,this.player.stats.energy,this.player.stats.luck,this.player.stats.free]}}),e.UpdateLook=t.extend({init:function(e){this.player=e},serialize:function(){return[a.Messages.SC_LOOKUPDATE,this.player.id,this.player.sprites[0],this.player.sprites[1],this.player.colors[0],this.player.colors[1]]}}),e.AppearanceList=t.extend({init:function(e,t){this.looks=r.BinToHex(e.looks),this.prices=t.prices},serialize:function(){return[a.Messages.SC_APPEARANCE,this.looks].concat(this.prices)}}),e.ItemSlot=t.extend({init:function(e,t){this.type=e,this.items=t},serialize:function(){var e,t=[a.Messages.SC_ITEMSLOT,this.type,this.items.length];for(e of this.items)var i=null,i=-1==e.itemKind?[e.slot,e.itemKind]:e.toArray(),t=t.concat(i);return t}}),e.ItemLevelUp=t.extend({init:function(e,t){this.index=e,this.item=t},serialize:function(){if(this.item)return[a.Messages.SC_ITEMLEVELUP,this.index,this.item.itemNumber,this.item.itemExperience]}}),e.Kill=t.extend({init:function(e,t,i){this.entity=e,this.level=t,this.exp=i},serialize:function(){return[a.Messages.SC_KILL,this.entity?this.entity.id:-1,this.level,this.exp]}}),e.LevelUp=t.extend({init:function(e,t,i){this.type=e,this.level=t,this.exp=i},serialize:function(){return[a.Messages.SC_LEVELUP,this.type,this.level,this.exp]}}),e.List=t.extend({init:function(e){this.ids=e},serialize:function(){var e=this.ids;return e.unshift(a.Messages.SC_LIST),e}}),e.AuctionOpen=t.extend({init:function(e){this.itemData=e},serialize:function(){return this.itemData}}),e.Speech=t.extend({init:function(e,t,i){this.entityid=e.id,this.kind=t,this.value=i},serialize:function(){return[a.Messages.SC_SPEECH,this.entityid,this.kind,this.value]}}),e.Gold=t.extend({init:function(e){this.invgold=e.gold[0],this.bankgold=e.gold[1],this.gems=e.user.gems},serialize:function(){return[a.Messages.SC_GOLD,this.invgold,this.bankgold,this.gems]}}),e.BlockModify=t.extend({init:function(e,t,i){this.entity=e,this.id=t,this.state=i},serialize:function(){return[a.Messages.SC_SPAWN,this.id,this.state].concat(this.entity.getState())}}),e.PartyInvite=t.extend({init:function(e){this.id=e},serialize:function(){return[a.Messages.SC_PARTY,2,this.id]}}),e.Party=t.extend({init:function(e){this.members=e},serialize:function(){return[a.Messages.SC_PARTY,1].concat(this.members)}}),e.PlayerInfo=t.extend({init:function(e){this.player=e},serialize:function(){return[a.Messages.BI_PLAYERINFO,this.player.exp.base,this.player.exp.attack,this.player.exp.defense,this.player.exp.sword,this.player.exp.bow,this.player.exp.hammer,this.player.exp.axe,this.player.exp.logging,this.player.exp.mining]}}),e.Looks=t.extend({init:function(e){this.player=e,this.sprite1=e.sprites[0],this.sprite2=e.getWeaponSprite(),e.isArcher()&&(this.sprite1=e.sprites[2])},serialize:function(){return[a.Messages.SC_LOOKS,this.player.id,this.player.isArcher()?1:0,this.sprite1,this.sprite2]}}),e.setSprite=t.extend({init:function(e,t,i){this.id=e.id,this.sprite1=t,this.sprite2=i||0},serialize:function(){return[a.Messages.SC_SET_SPRITE,this.id,this.sprite1,this.sprite2]}}),e.setAnimation=t.extend({init:function(e,t){this.id=e.id,this.animation=t},serialize:function(){return[a.Messages.SC_SET_ANIMATION,this.id,this.animation]}}),e.Harvest=t.extend({init:function(e,t,i,n,a){this.duration=a||0,this.id=e.id,this.action=t,this.gx=i,this.gy=n},serialize:function(){var e=[a.Messages.BI_HARVEST,this.id,this.action,this.gx,this.gy];return 0<this.duration&&e.push(this.duration),e}}),e.Dialogue=t.extend({init:function(e,t){this.id=e.id,this.langcode=t},serialize:function(){return[a.Messages.SC_DIALOGUE,this.id,this.langcode]}})},{"../shared/js/gametypes":552,"./lib/class":42,"./utils":69,underscore:508}],49:[function(i,e,t){var s=i("underscore"),n=i("./lib/class").Class.extend({init:function(e){var t=this;this.config=e,this.client=new(i("memcache").Client)(e.memcached_port,e.memcached_host),this.client.connect(),this.isReady=!1,this.client.on("connect",function(){console.info("Metrics enabled: memcached client connected to "+e.memcached_host+":"+e.memcached_port),t.isReady=!0,t.readyCallback&&t.readyCallback()})},ready:function(e){this.readyCallback=e},updatePlayerCounters:function(e,n){var a=this,t=this.config,r=s.size(t.game_servers),e=s.reduce(e,function(e,t){return e+t.playerCount},0);this.isReady?this.client.set("player_count_"+t.server_name,e,function(){var i=0;s.each(t.game_servers,function(e){a.client.get("player_count_"+e.name,function(e,t){t=t?parseInt(t,10):0;i+=t,0===--r&&a.client.set("total_players",i,function(){n&&n(i)})})})}):console.error("Memcached client not connected")},updateWorldDistribution:function(e){this.client.set("world_distribution_"+this.config.server_name,e)},updateWorldCount:function(){this.client.set("world_count_"+this.config.server_name,this.config.nb_worlds)},getOpenWorldCount:function(i){this.client.get("world_count_"+this.config.server_name,function(e,t){i(t)})},getTotalPlayers:function(i){this.client.get("total_players",function(e,t){i(t)})}});e.exports=n},{"./lib/class":42,memcache:void 0,underscore:508}],50:[function(e,t,i){e("./message"),e("underscore");var r=e("./utils"),n=e("./formulas");t.exports=MobAI=Class.extend({init:function(e,t){this.world=this.server=this.worldServer=e,this.map=t},checkHitAggro:function(e,t){e.isDead||e.isStunned||e.isAttacking()||e.aiState!==mobState.IDLE||e.hasTarget()||e.isAttackedBy(t)&&this.aggroPlayer(e,t)},checkAggro:function(e){if(!(e.isDead||e.isStunned||e.isAttacking())&&e.isAggressive&&e.aiState==mobState.IDLE&&!e.hasTarget()&&e.canMoveAI()){var t,i=this.map.entities.getPlayerAround(e,e.aggroRange),n=2*e.level;for(t of i)t.isDead||t.freeze||n>=t.level.base&&this.aggroPlayer(e,t)}},aggroPlayer:function(e,t,i){var n=this.worldServer;e.resetAggro(0),e.attackingMode=!0,n.handleMobHate(e,t,1),n.createAttackLink(e,t),e.setAiState(mobState.AGGRO),e.attackTimer=Date.now(),e.freeze=!1},checkHit:function(e){e.isStunned||!e.target||e.freeze||(e.aiState===mobState.FIRSTATTACK?e.setFreeze(e.data.reactionDelay,function(){e.setAiState(mobState.ATTACKING)}):e.canReach(e.target)?e.aiState===mobState.ATTACKING&&e.canAttack()&&(console.info("mob - Is Attacking"),this.handleHurt(e)):e.setAiState(mobState.CHASING))},update:function(){var e,t=this.map.entities.mobs;for(e in t){var i=t[e];if(!i.isDead&&!i.freeze){if(i.aiState==mobState.RETURNING)return;i.canAggro()&&this.checkAggro(i),i.hasTarget()&&(this.checkChase(i),this.checkHit(i))}}},checkChase:function(e){var t=e.target;e.freeze||t.isDead||t.isDying||(e.aiState===mobState.IDLE&&e.setAiState(mobState.AGGRO),e.aiState!==mobState.AGGRO&&e.aiState!==mobState.CHASING)||(e.canReach(t)?e.isMovingPath()||e.isOverlapping()&&(e.forceStop(),e.follow(e.target),e.path)||(e.forceStop(),console.info(e.id+" within range"),e.setAiState(mobState.FIRSTATTACK)):e.isMovingPath()||!t.isMoving()&&e.ptx==e.target.x&&e.pty==e.target.y||(e.isMoving()&&t.isMoving()?console.info(e.id+" monster and target is moving so abort."):e.canMoveAI()&&!this.checkReturn(e)&&(e.setMoveAI(r.randomRangeInt(25,50)),e.ptx=t.x,e.pty=t.y,e.followAttack(t),e.path?e.setAiState(mobState.CHASING):e.returnToSpawn())))},handleHurt:function(e){var t;!e.target||e.freeze||e.target.isInvincible||(console.info("handleHurt."),e&&0<e.target.stats.hp&&e instanceof Mob&&(e.lookAt(e.target),console.info("handleHurt - mob"),t=n.dmg(e,e.target,e.attackTimer),n.crit(e,e.target)&&(t*=2,e.criticalHit=!1),e.target.stats.hp-=t,e.target.stats.hp<=0&&(e.target.isDead=!0),console.info("handleHurtEntity"),this.server.handleDamage(e.target,e,-t,e.criticalHit),this.server.handleHurtEntity(e.target,e),e.attackTimer=Date.now()))},checkReturn:function(e){var t;return(e.aiState===mobState.CHASING||e.aiState===mobState.STUCK||e.aiState===mobState.ROAMING)&&((t=e.target)&&(t.isDying||t.isDead)?(e.returnToSpawn(),!0):e.distanceToPos(e.spawnX,e.spawnY)>=24*G_TILESIZE||t&&e.distanceToPos(t.x,t.y)>=12*G_TILESIZE?(console.info("RETURN TO SPAWN!"),e.returnToSpawn(),!0):void 0)},Roaming:function(e){var t,i,n=5*G_TILESIZE,a=this.map.entities.getMobsAround(e,32);for(t of a)!t||0!==r.randomInt(10)||!t||t.hasTarget()||t.isDead||t.isReturning||t.isMoving()||t.aiState!=mobState.IDLE||(i=t.area,!(i=t.map.entities.spaceEntityRandomApart(2,i._getRandomPositionForEntity.bind(i,t,n),a)))||i.x==t.x&&i.y==t.y||(t.go(i.x,i.y),!t.path)||(t.aiState=mobState.ROAMING,t.spawnX=i.x,t.spawnY=i.y)}})},{"./formulas":38,"./message":48,"./utils":69,underscore:508}],51:[function(e,t,i){var r=e("./message"),s=(e("underscore"),e("./utils"),e("./formulas"),e("./area/chestarea"));t.exports=MobCallback=Class.extend({init:function(e,t){this.world=this.worldServer=e,this.map=t},setCallbacks:function(n){var a=this;n.onRespawn(function(){n.setFreeze(2e3),n.isDead=!1,n.droppedItem=!1,a.addMob(mob),n.area&&n.area instanceof s&&mob.area.addToArea(n)}),n.onStep(function(e,t){}),n.onRequestPath(function(e,t){var i=[n],e=(n.target&&i.push(n.target),a.map.entities.findPath(n,e,t,i));return e&&1==e.length&&console.error(n.id+" "+JSON.stringify(e)),e&&1<e.length?(n.orientation=n.getOrientationTo({x:e[1][0],y:e[1][1]}),t=new r.MovePath(n,e),a.map.entities.pushNeighbours(n,t),e):null}),n.onStopPathing(function(e,t){n.hasTarget()||n.setAiState(mobState.IDLE),n.aiState==mobState.CHASING&&n.mobAI.checkReturn(n,e,t)}),n.onStartPathing(function(){}),n.onAbortPathing(function(){msg=new r.Move(n,n.orientation,2,n.x,n.y),a.map.entities.pushNeighbours(n,msg),n.target||n.setAiState(mobState.IDLE)})}})},{"./area/chestarea":3,"./formulas":38,"./message":48,"./utils":69,underscore:508}],52:[function(e,t,i){var n=e("./message"),a=(e("underscore"),e("./utils"));t.exports=NpcMoveController=Class.extend({init:function(e){this.entity=e,this.setCallbacks()},setCallbacks:function(){var i=this;i.entity.onStep(function(t,i,n){try{t.map.entities.entitygrid[t.y][t.x]=0,t.map.entities.entitygrid[n][i]=1}catch(e){console.info(e.stack),console.info(t.x+","+t.y+","+i+","+n),console.info(t.id),console.info(t.path),console.info(t.step)}}),i.entity.onRequestPath(function(e,t){e=i.entity.map.entities.findPath(i.entity,e,t);return e&&0<e.length?(t=new n.MovePath(i.entity,e),i.entity.map.entities.pushNeighbours(i.entity,t),e):null})},randomMove:function(){var e,t=this.entity;!t||t.hasTarget()||t.isDead||t.isMoving()||1!==a.randomRangeInt(0,100)||0==t.map.entities.getPlayerAroundCount(t,20)||!(e=t.map.entities.getRandomPosition(t,2))||e.x==t.x&&e.y==t.y||t.go(e.x,e.y)},checkMove:function(e){var t=this.entity;t.isDead||!t.freeze&&t.isMoving()&&t.canMove()&&t.nextStep()}})},{"./message":48,"./utils":69,underscore:508}],53:[function(e,t,i){e("./lib/class"),e("underscore"),e("./entity/character"),e("./entity/chest");var c=e("./entity/mob"),p=(e("./entity/node"),e("./message")),s=e("./utils"),r=(e("./data/mobdata"),e("./formulas")),o=e("./format").check,l=(e("./party"),e("./data/itemdata")),u=(e("./bank"),e("../shared/js/gametypes")),d=e("../shared/js/itemtypes"),n=(e("bcrypt"),e("./inventory"),e("./skillhandler"),e("./trade"),e("express")),a=(e("body-parser"),n(),e("./data/questdata"),e("./data/skilldata")),h=(e("./entityspawn"),e("./data/appearancedata"));e("./taskhandler");t.exports=PacketHandler=Class.extend({init:function(e,t,i,n,a,r){this.user=e,this.main=t,this.player=i,this.connection=n,this.server=a,this.map=i.map,this.entities=i.map.entities;var s=this;this.connection.listen(function(e){console.info("recv="+JSON.stringify(e));var t=parseInt(e[0]);if(o(e))switch(e.shift(),t){case u.Messages.BI_PLAYERINFO:s.handlePlayerInfo(e);break;case u.Messages.CS_WHO:s.handleWho(e);break;case u.Messages.CS_CHAT:s.handleChat(e);break;case u.Messages.CS_MOVE:s.handleMoveEntity(e);break;case u.Messages.CS_MOVEPATH:s.handleMovePath(e);break;case u.Messages.CS_ATTACK:s.handleAttack(e);break;case u.Messages.CS_ITEMSLOT:s.handleItemSlot(e);break;case u.Messages.CS_STORESELL:s.handleStoreSell(e);break;case u.Messages.CS_STOREBUY:s.handleStoreBuy(e);break;case u.Messages.CS_CRAFT:s.handleCraft(e);break;case u.Messages.CS_APPEARANCEUNLOCK:s.handleAppearanceUnlock(e);break;case u.Messages.CS_LOOKUPDATE:s.handleLookUpdate(e);break;case u.Messages.CS_AUCTIONSELL:s.handleAuctionSell(e);break;case u.Messages.CS_AUCTIONBUY:s.handleAuctionBuy(e);break;case u.Messages.CS_AUCTIONOPEN:s.handleAuctionOpen(e);break;case u.Messages.CS_AUCTIONDELETE:s.handleAuctionDelete(e);break;case u.Messages.CS_STOREENCHANT:s.handleStoreEnchant(e);break;case u.Messages.CS_STOREREPAIR:s.handleStoreRepair(e);break;case u.Messages.CS_CHARACTERINFO:s.entities.pushToPlayer(s.player,new p.CharacterInfo(s.player));break;case u.Messages.CS_TELEPORT_MAP:s.handleTeleportMap(e);break;case u.Messages.CS_LOOT:s.handleLoot(e);break;case u.Messages.CS_TALKTONPC:s.handleTalkToNPC(e);break;case u.Messages.CS_QUEST:s.handleQuest(e);break;case u.Messages.CS_PLAYER_REVIVE:s.handleRevive(e);break;case u.Messages.CS_GOLD:s.handleGold(e);break;case u.Messages.CS_STATADD:s.handleStatAdd(e);break;case u.Messages.CS_SKILL:s.handleSkill(e);break;case u.Messages.CS_SKILLINSTALL:s.handleSkillInstall(e);break;case u.Messages.BI_BLOCK_MODIFY:s.handleBlock(e);break;case u.Messages.CS_PARTY:s.handleParty(e);break;case u.Messages.BI_HARVEST:s.handleHarvest(e);break;case u.Messages.CS_USE_NODE:s.handleUseNode(e);break;default:s.message_callback&&s.player.message_callback(e)}else s.connection.close("Invalid "+u.getMessageTypeAsString(t)+" message format: "+e)}),this.connection.onClose(function(){console.info("Player: "+s.player.name+" has exited the world."),s.player.user.loadedPlayer&&s.player.save(),players[s.player.name]&&(players[s.player.name]=0),s.player&&s.entities&&(console.info("deleting player connection"),s.entities.removePlayer(s.player)),delete s.player,s.user.onClose(!0),console.info("onClose - called"),clearTimeout(this.disconnectTimeout),this.exit_callback&&this.exit_callback(),this.close("onClose")})},setMap:function(e){this.map=e,this.entities=e.entities},timeout:function(){this.connection.sendUTF8("timeout"),this.connection.close("Player was idle for too long")},broadcast:function(e,t){this.broadcast_callback&&this.broadcast_callback(e,void 0===t||t)},broadcastToZone:function(e,t){this.broadcastzone_callback&&this.broadcastzone_callback(e,void 0===t||t)},sendPlayer:function(e){this.map.entities.pushToPlayer(this.player,e)},onExit:function(e){this.exit_callback=e},onMove:function(e){this.move_callback=e},onMessage:function(e){this.message_callback=e},onBroadcast:function(e){this.broadcast_callback=e},handleChat:function(e){var t=this,e=s.sanitize(e[0]);console.info("Chat: "+t.player.name+": "+e),(new Date).getTime()>t.player.chatBanEndTime?t.send([u.Messages.SC_NOTIFY,"CHAT","CHATMUTED"]):!e||""===e&&" "===e||("/w"===(e=e.substr(0,256)).split(" ",3)[0]?t.send([u.Messages.SC_NOTIFY,"CHAT","CHATMUTED"]):t.server.pushWorld(new p.Chat(t.player,e)))},handleQuest:function(e){console.info("handleQuest");var t=parseInt(e[0]),i=parseInt(e[1]),e=parseInt(e[2]);npc.isNextTooEntity(this.player)?(npc=this.entities.getEntityById(t),1==e?npc.acceptQuest(this.player,i):npc.rejectQuest(this.player,i)):console.info("player not close enough to NPC!")},handleTalkToNPC:function(e){console.info("handleTalkToNPC");parseInt(e[0]);e=parseInt(e[1]);(npc=this.entities.getEntityById(e)).isNextTooEntity(this.player)?npc&&npc.talk(this.player):console.info("player not close enough to NPC!")},handleStoreSell:function(e){parseInt(e[0]);var t,e=parseInt(e[1]),i=this.player.itemStore[0].rooms[e];i&&(this.player.tut.buy=!0,this.player.tut.buy2=!0,t=i.itemKind,d.isConsumableItem(t)||d.isLootItem(t)||(t=d.getEnchantSellPrice(i))<0||(i=i.itemKind,this.player.inventory.makeEmptyItem(e),this.player.modifyGold(t),e=d.KindData[i].name,this.sendPlayer(new p.Notify("SHOP","SHOP_SOLD",[e]))))},handleAuctionSell:function(e){var t,i,n=parseInt(e[0]),e=parseInt(e[1]);e<0||n<0||n>=this.player.inventory.maxNumber||(t=this.player.inventory.rooms[n],console.info(JSON.stringify(t)),i=t.itemKind,d.isConsumableItem(i))||d.isLootItem(i)||i&&(this.server.auction.add(this.player,t,e,n),this.server.auction.list(this.player,0),this.player.inventory.setItem(n,null))},handleAuctionOpen:function(e){e=parseInt(e[0]);0<=e&&e<=3&&this.server.auction.list(this.player,e)},handleAuctionBuy:function(e){var t,i,n,a,r=parseInt(e[0]);r<0||r>=this.server.auction.auctions.length||!(t=this.server.auction.auctions[r])||t.playerName==this.player.name||(e=parseInt(e[1]))<0||3<e||(i=this,(n=t.price)<0)||(i.player.gold[0]<n?this.sendPlayer(new p.Notify("SHOP","SHOP_NOGOLD")):i.player.inventory.hasRoom()?(a=t.item.itemKind,i.player.inventory.putItem(t.item),i.player.modifyGold(-n),a=d.KindData[a].name,i.sendPlayer(new p.Notify("SHOP","SHOP_SOLD",[a])),(a=i.server.getPlayerByName(t.playerName))?a.modifyGold(n):databaseHandler.modifyGold(t.playerName,n),this.server.auction.remove(r),this.server.auction.list(this.player,e)):this.sendPlayer(new p.Notify("SHOP","SHOP_NOSPACE")))},handleAuctionDelete:function(e){var t,i,n=parseInt(e[0]);n<0||n>=this.server.auction.auctions.length||!(i=this.server.auction.auctions[n])||(e=parseInt(e[1]))<0||3<e||(this.player.inventory.hasRoom()?(t=i.item.itemKind,this.player.inventory.putItem(i.item),i=d.KindData[t].name,this.sendPlayer(new p.Notify("SHOP","SHOP_REMOVED",[i])),this.server.auction.remove(n),this.server.auction.list(this.player,e)):this.sendPlayer(new p.Notify("SHOP","SHOP_NOSPACE")))},handleStoreEnchant:function(e){var t,i=parseInt(e[0]),e=parseInt(e[1]);0==i&&6<=e&&e<this.player.inventory.maxNumber&&(t=this.player.inventory.rooms[e],this._enchantItem(i,t,e)),2==i&&0<=e&&e<this.player.equipment.maxNumber&&(t=this.player.equipment.rooms[e])&&this._enchantItem(i,t,e)},handleStoreRepair:function(e){var t,i=parseInt(e[0]),e=parseInt(e[1]);0==i&&6<=e&&e<this.player.inventory.maxNumber&&(t=this.player.inventory.rooms[e])&&this._repairItem(i,t,e),2==i&&0<=e&&e<this.player.equipment.maxNumber&&(t=this.player.equipment.rooms[e])&&this._repairItem(i,t,e)},_repairItem:function(e,t,i){var n;t&&t.itemKind&&(!d.isEquipment(t.itemKind)||t.itemDurability==t.itemDurabilityMax||(n=~~d.getRepairPrice(t))<=0||((goldCount=this.player.gold[0])<n?this.sendPlayer(new p.Notify("SHOP","SHOP_NOGOLD")):(t.itemDurabilityMax-=10,t.itemDurability=t.itemDurabilityMax,t.itemDurabilityMax<=0?(t=null,0==e?this.player.inventory.makeEmptyItem(i):2==e&&this.player.equipment.makeEmptyItem(i)):(console.info("itemNumber="+t.itemNumber),this.player.modifyGold(-n)),t.slot=i,this.sendPlayer(new p.ItemSlot(e,[t])),n=d.KindData[t.itemKind].name,this.sendPlayer(new p.Notify("SHOP","SHOP_REPAIRED",[n])))))},_enchantItem:function(e,t,i){var n;t&&t.itemKind&&(!d.isEquipment(t.itemKind)||(n=d.getEnchantPrice(t))<=0||((goldCount=this.player.gold[0])<n?this.sendPlayer(new p.Notify("SHOP","SHOP_NOGOLD")):(t.itemExperience=d.itemExpForLevel[t.itemNumber-1],t.itemNumber++,t.slot=i,this.sendPlayer(new p.ItemSlot(e,[t])),console.info("itemNumber="+t.itemNumber),this.player.modifyGold(-n),i=d.KindData[t.itemKind].name,this.sendPlayer(new p.Notify("SHOP","SHOP_ENCHANTED",[i])))))},handleBankStore:function(e){var t,e=parseInt(e[0]);6<=e&&e<this.player.inventory.maxNumber&&(t=this.player.inventory.rooms[e])&&t.itemKind&&0<=this.player.bank.getEmptyIndex()&&(this.player.bank.putItem(t),this.player.inventory.takeOutItems(e,t.itemNumber))},handleBankRetrieve:function(e){var t,e=parseInt(e[0]);0<=e&&e<this.player.bank.maxNumber&&(t=this.player.bank.rooms[e])&&t.itemKind&&0<=this.player.inventory.getEmptyIndex()&&(this.player.inventory.putItem(t),this.player.bank.takeOutItems(e,t.itemNumber)),this.sendPlayer(new p.Gold(this.player))},handleStoreBuy:function(e){parseInt(e[0]);var t,i,n=parseInt(e[1]),e=parseInt(e[2]),a=null;!n||e<=0||n<0||n>=d.KindData.length||(a=(t=d.KindData[n]).name,0<(i=d.getBuyPrice(n))&&(d.Store.isBuyMultiple(n)&&(e=t.buycount),this.player.gold[0]<i?this.sendPlayer(new p.Notify("SHOP","SHOP_NOGOLD")):(t=d.isConsumableItem(n))||!t&&this.player.inventory.hasRoom()?(t=new ItemRoom(n,e,0,0),-1==this.player.inventory.putItem(t)||(this.player.modifyGold(-i),this.sendPlayer(new p.Notify("SHOP","SHOP_BUY",[a])),this.player.tut.equip)||this.player.tutChat("TUTORIAL_EQUIP",10,"equip")):this.sendPlayer(new p.Notify("SHOP","SHOP_NOSPACE"))))},handleCraft:function(e){var t=parseInt(e[0]),i=parseInt(e[1]),e=0;if(!(i<=0||t<0||t>=l.CraftData.length)){var t=l.CraftData[t],n=t.o;if(d.KindData.hasOwnProperty(n)){var a=d.KindData[n],r=a.name,e=d.getCraftPrice(n);if(!(e<0))if(i=d.Store.isBuyMultiple(n)?i<a.buycount?i:a.buycount:1,this.player.gold[0]<(e*=i))this.sendPlayer(new p.Notify("SHOP","SHOP_NOGOLD"));else if(0!=a.craft.length){for(var s of t.i)if(!this.player.inventory.hasItems(s[0],s[1]*i))return void this.sendPlayer(new p.Notify("SHOP","SHOP_NOCRAFTITEMS"));if(this.player.inventory.hasRoom()){this.player.modifyGold(-e);for(var s of t.i)this.player.inventory.removeItemKind(s[0],s[1]*i);a=0,e=((d.isWeapon()||d.isArmor())&&(a=900),new ItemRoom(n,i,a,a));-1!=this.player.inventory.putItem(e)&&this.sendPlayer(new p.Notify("SHOP","SHOP_BUY",[r]))}else this.sendPlayer(new p.Notify("SHOP","SHOP_NOSPACE"))}}else console.error("handleCraft - itemData not found for kind: "+n)}},handleAppearanceUnlock:function(e){var t,i,n=parseInt(e[0]),e=parseInt(e[1]);-1==n?this.server.looks.sendLooks(this.player):n<0||n>=h.Data.length||!(t=h.Data[n])||"armorarcher"!=t.type&&"armor"!=t.type||((i=this.server.looks.prices[n])!=e?(this.sendPlayer(new p.Notify("SHOP","SHOP_MISMATCH",[t.name])),this.server.looks.sendLooks(this.player)):(e=0)<=n&&(e=this.player.user.gems,console.info("gemCount="+e),i<=e?(this.player.user.looks[n]=1,this.player.user.modifyGems(-i),this.server.looks.prices[n]+=100,this.sendPlayer(new p.Notify("SHOP","SHOP_SOLD",[t.name])),this.server.looks.sendLooks(this.player)):this.sendPlayer(new p.Notify("SHOP","SHOP_NOGEMS"))))},handleLookUpdate:function(e){var t,i=parseInt(e[0]),e=parseInt(e[1]),n=this.player;e<0||e>=h.Data.length||i<0||1<i||!(t=h.Data[e])||"armorarcher"!=t.type&&"armor"!=t.type||(1==this.player.user.looks[e]&&0==i&&(n.isArcher()?n.sprites[2]=e:n.sprites[0]=e),t=n.isArcher()?n.sprites[2]:n.sprites[0],i=n.sprites[1],this.broadcast(new p.setSprite(n,t,i)))},handleItemSlot:function(e){var t,i,n,a=parseInt(e[0]);this.player.isDying||this.player.isDead||2==(t=[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])])[0]&&t[1]>this.player.equipment.maxNumber||(i=null,0<=t[1]&&(i=this.player.getStoredItem(t[0],t[1],t[2])),n=null,6==e.length&&(n=[parseInt(e[4]),parseInt(e[5])],t[0]==n[0])&&t[1]==n[1])||(0===a?this.player.handleInventoryEat(i,t[1]):1===a?(this.player.tut.equip=!0,this.player.handleEquip(t,n)):2===a?this.player.swapItem(t,n):3===a?this.player.handleStoreEmpty(t,i):4===a&&this.player.storeItem(t,n))},handleLoot:function(e){var t;console.info("handleLoot"),(item=this.entities.getEntityById(parseInt(e[0])))?(t=parseInt(e[1]),e=parseInt(e[2]),Math.abs(this.player.x-t)<=G_TILESIZE&&Math.abs(this.player.y-e)<=G_TILESIZE?(console.info("item="+item.toString()),item.enemyDrop&&console.info("enemyDrop"),item instanceof Item&&0<=this.player.inventory.putItem(item.room)&&(this.server.taskHandler.processEvent(this.player,PlayerEvent(EventType.LOOTITEM,item,1)),this.broadcast(item.despawn(),!1),this.entities.removeEntity(item))):console.info("Player is not close enough to item.")):console.info("no item.")},handleAttack:function(e){console.info("handleAttack");var t=this,i=(parseInt(e[0]),this.player);i.isDying||i.isDead||(i.movement.inProgress?i.attackQueue.push(e):setTimeout(function(){t.handleHitEntity(i,e)},G_LATENCY))},processAttack:function(){var e,t=this;for(e of this.player.attackQueue)console.info("processAttack, handle hit"),setTimeout(function(){t.handleHitEntity(t.player,e)},G_LATENCY);this.player.attackQueue=[]},handleHitEntity:function(e,t){console.info("handleHitEntity");console.info("message: "+JSON.stringify(t));var i=parseInt(t[1]),n=parseInt(t[2]),t=parseInt(t[3]);if(i<0)console.warn("invalid targetId");else{var a=this.entities.getEntityById(i);if(a){if(Date.now()-e.attackTimer<ATTACK_INTERVAL)console.warn("attack interval");else if(a instanceof Player&&e instanceof Player&&(e.level.base<20||a.level.base<20||10<Math.abs(e.level.base-a.level.base)))console.warn("pvp invalid diff");else if(a.aiState!=mobState.RETURNING)if(a.invincible)this.sendPlayer(new p.Notify("CHAT","COMBAT_TARGETINVINCIBLE")),console.warn("target invincible");else if(this.map.isColliding(e.x,e.y))console.warn("char.isColliding("+e.id+","+e.x+","+e.y+")");else{if(0<=t&&this.handleSkill([t,i,a.x,a.y]),e.setOrientation(n),e.engage(a),e==this.player){if(!e.canReach(a))return console.info("Player not close enough!"),console.info("p.x:"+e.x+",p.y:"+e.y),console.info("e.x:"+a.x+",e.y:"+a.y),void console.info("dx:"+Math.abs(e.x-a.x)+",dy:"+Math.abs(e.y-a.y));if(!e.attackedTime.isOver())return void console.warn("attackedTime is not over.");e.isHarvesting=!1,e.lastAction=Date.now()}e.isBlocking=!1,e.attackedTime.duration=500,e.hasAttacked=!0,e===this.player&&a instanceof c&&(this.player.tut.attack=!0),e instanceof Player&&a instanceof c&&a.mobAI.checkHitAggro(a,e),e.effectHandler&&e.effectHandler.interval(3,0);t=this.calcDamage(e,a,null,0);if(e.effectHandler)for(var r in e.effectHandler.interval(4,t.damage),e.effectHandler.skillEffects)for(var s in r.targets){var o=s.mod.damage;s.mod.damage=0,this.dealDamage(e,s,o,0)}this.dealDamage(e,a,t.damage,t.crit),e.attackTimer&&(e.attackTimer=Date.now()),e.effectHandler&&e.effectHandler.interval(5,0)}}else console.warn("invalid entity")}},calcDamage:function(e,t,i,n){var a={damage:0,crit:0,dot:0};return a.damage=Math.round(r.dmg(e,t,Date.now())),0!=a.damage&&(r.crit(e,t)&&(a.damage*=2,a.crit=1),0<e.mod.dr&&!e.hasFullHealth()&&(t=Math.ceil(a.damage*(e.mod.dr/100)),e.regenHealthBy(t),e instanceof Player))&&this.sendPlayer(e,e.health()),a},dealDamage:function(e,t,i,n){t&&(t instanceof c&&this.entities.mobAI.aggroPlayer(t,e),this.server.handleDamage(t,e,-i,n),e instanceof Player&&(e.weaponDamage+=i),this.server.handleHurtEntity(t,e),console.info("DAMAGE OCCURED "+i),t instanceof c||t.isDead&&(e==this.player&&this.entities.pushBroadcast(new p.Notify("CHAT","COMBAT_PLAYERKILLED",[e.name,t.name])),e.pStats.pk++,t.pStats.pd++))},handleSkillInstall:function(e){var t=parseInt(e[0]),e=parseInt(e[1]);t<0||6<=t||e<0||e>=a.Skills.length||(this.player.skillSlots[t]=e)},handleSkill:function(e){var t,i,n=parseInt(e[0]),a=parseInt(e[1]),r=parseInt(e[2]),e=parseInt(e[3]);this.player;n<0||n>=this.player.skills.length||(t=this.player.skills[n],a&&!(i=this.entities.getEntityById(a)))||t.isReady()&&(t.skillLevel,this.player.effectHandler.cast(n,a,r,e),t.tempXP=Math.min(t.tempXP++,1),this.handleSkillEffects(this.player,i))},handleSkillEffects:function(e,t){var i=[];if(e.effects){for(var[n,a]of Object.entries(e.effects))1==a&&i.push(parseInt(n));if(this.entities.pushToPlayer(e,new p.SkillEffects(e,i)),i=[],t){for(var[r,s]of Object.entries(t.effects))1==s&&i.push(parseInt(r));this.entities.pushToPlayer(e,new p.SkillEffects(t,i))}}},handleMoveEntity:function(e){console.info("handleMoveEntity");var t=parseInt(e[0]),i=parseInt(e[1]),n=parseInt(e[2]),a=parseInt(e[3]),r=parseInt(e[4])||-1,e=parseInt(e[5])||-1,s=this.player;i==s.id&&(s.map.isColliding(r,e)?console.warn("char.isColliding("+s.id+","+r+","+e+")"):2==n?s.isMovingPath()&&s.fullpath&&(s.abort_pathing_callback(r,e),s.forceStop()):(s.move([t,n,a,r,e]),i=new p.Move(s,a,n,r,e),this.entities.pushNeighbours(s,i,s),this.move_callback&&this.move_callback()))},handleMovePath:function(e){console.info("handleMovePath"),console.info("message="+JSON.stringify(e));var t=parseInt(e[0]),i=parseInt(e[1]),n=(parseInt(e[2]),0!=parseInt(e[3])),a=(e.splice(0,4),this.player);i!=a.id||(console.info(JSON.stringify(e)),e[0][0],e[0][1],this.player.mapStatus<2)||(this.entities.pathfinder.isValidPath(a.map.grid,e)?(a.movePath([t,n],e),i=new p.MovePath(a,e),this.entities.pushNeighbours(a,i)):console.info("handleMovePath: no valid path."))},handleTeleportMap:function(e){console.info("handleTeleportMap");var t,i,n,a=this,r=parseInt(e[0]),s=parseInt(e[1]),o=(console.info("status="+s),parseInt(e[2])),e=parseInt(e[3]),c=this.player;s<=0&&(e=o=-1);r<0||r>=a.server.maps.length?console.info("Map non-index"):(t=a.server.maps[r])&&t.ready?(console.warn("mapIndex: p.map.mapIndex:"+t.index),0==s?(c.pushSpawns=!1,c.forceStop(),c.mapStatus=0,this.handleClearMap(),this.entities.removePlayer(this.player),pos=t.enterCallback(c),i=r,c.map=t,a.setMap(t),n={x:c.x,y:c.y},console.info("handleTeleportMap - x: "+o+",y:"+e),console.warn("mapIndex: p.map.mapIndex:"+t.index),n=void 0===c.prevPosX&&void 0===c.prevPosY?a.map.getRandomStartingPosition():0===c.map.mapIndex?(c.prevPosX=c.x,c.prevPosY=c.y,a.map.getRandomStartingPosition()):1===c.map.mapIndex?{x:c.prevPosX,y:c.prevPosY}:a.map.getRandomStartingPosition(),a.entities.addPlayer(c),c.ex=c.sx=n.x,c.ey=c.sy=n.y,c.setPosition(n.x,n.y),c.move([Date.now(),3,1,n.x,n.y]),console.info("trying to send."),a.send([u.Messages.SC_TELEPORT_MAP,i,1,c.x,c.y])):1==s&&(c.mapStatus=2,a.handleSpawnMap(r,c.x,c.y),a.send([u.Messages.SC_TELEPORT_MAP,r,2,c.x,c.y]))):console.info("Map non-existant or not ready")},handleSpawnMap:function(e,t,i){var n=this.player;n.knownIds=[],this.entities.processWho(n),this.player.setPosition(t,i),this.entities.pushNeighbours(n,new p.Spawn(n),n)},handleClearMap:function(){this.player.clearTarget(),this.server.handlePlayerVanish(this.player),this.entities.removeEntity(this.player)},handleRevive:function(e){var t=this.player;1==t.isDead&&(console.info("handled Revive!!"),t.revive(),this.entities.pushNeighbours(t,new p.Spawn(t),t),t=new p.Move(t,t.orientation,2,t.x,t.y),this.sendPlayer(t))},handleStatAdd:function(e){var t=parseInt(e[0]),i=parseInt(e[1]);if(!(i<0||i>this.player.stats.free)&&4!=t){switch(t){case 1:this.player.stats.attack+=i;break;case 2:this.player.stats.defense+=i;break;case 3:this.player.stats.health+=i;break;case 5:this.player.stats.luck+=i}this.player.stats.free-=i,this.player.resetBars(),this.sendPlayer(new p.StatInfo(this.player))}},handleGold:function(e){var t=parseInt(e[0]),i=parseInt(e[1]),e=parseInt(e[2]);if(!(i<0))if(9999999<i)this.sendPlayer(new p.Notify("GOLD","MAX_TRANSFER"));else if(i>this.player.gold[t])this.sendPlayer(new p.Notify("GOLD","INSUFFICIENT_GOLD"));else{if(0===t&&1===e){if(!this.player.modifyGold(-i,0))return;this.player.modifyGold(i,1)}1===t&&0===e&&this.player.modifyGold(-i,1)&&this.player.modifyGold(i,0)}},handleBlock:function(e){var t=parseInt(e[0]),i=parseInt(e[1]),n=parseInt(e[2]),a=parseInt(e[3]),r=this.player,i=this.map.entities.getEntityById(i);if(i&&i instanceof Block&&this.player.isNextTooEntity(i)){if(0==t)this.player.holdingBlock=i;else if(1==t){if(n=s.roundTo(n,G_TILESIZE),a=s.roundTo(a,G_TILESIZE),this.map.isColliding(n,a))return;i.setPosition(n,a),i.update(this.player),this.player.holdingBlock=null}e=new p.BlockModify(i,r.id,t);this.entities.pushNeighbours(r,e,r)}},handlePlayerInfo:function(e){this.sendPlayer(new p.PlayerInfo(this.player))},handleWho:function(e){var t=parseInt(e.shift()),i=[];if(0<e.length&&(i=e),1===t&&this.entities.processWho(this.player),2===t)for(var n=0;n<i.length;++n)this.player.knownIds.splice(this.player.knownIds.indexOf(i[n]),1)},handleParty:function(e){switch(e.shift()){case 1:this.handlePartyInvite(e);break;case 2:this.handlePartyKick(e);break;case 3:this.handlePartyLeader(e);break;case 4:this.handlePartyLeave(e)}},handlePartyInvite:function(e){var t=e[0],i=this.server.getEntityByName(t);if(i){var e=e[1],n=this.player.party;if(this.player!=i)if(0==e)n&&5<=n.players.length?this.sendPlayer(new p.Notify("CHAT","PARTY_MAX_PLAYERS")):(!n||n.leader)&&i instanceof Player&&(this.sendToPlayer(i,new p.PartyInvite(this.player.id)),this.sendPlayer(new p.Notify("CHAT","PARTY_PLAYER_INVITE_SENT",[i.name])));else if(1==e){if(i.party&&i.party.removePlayer(i),n){if(5<=n.players.length)return void this.sendPlayer(new p.Notify("CHAT","PARTY_MAX_PLAYERS"));n.addPlayer(i)}else this.server.addParty(i,this.player);i&&(this.sendToPlayer(i,new p.Notify("CHAT","PARTY_PLAYER_JOINED",[this.player.name])),this.sendPlayer(new p.Notify("CHAT","PARTY_PLAYER_ADDED",[i.name])))}else 2==e&&(this.sendPlayer(new p.Notify("CHAT","PARTY_YOU_REJECTED_INVITE",[i.name])),this.sendToPlayer(i,new p.Notify("CHAT","PARTY_THEY_REJECTED_INVITE",[i.name])))}else this.sendPlayer(new p.Notify("CHAT","NO_PLAYER_EXIST",[t]))},handlePartyKick:function(e){var t,e=e[0],i=this.server.getEntityByName(e);i?this.player!=i&&((t=this.player.party)&&this.player==t.leader?(t.removePlayer(i),i instanceof Player&&this.sendToPlayer(i,new p.Notify("CHAT","PARTY_PLAYER_KICKED")),this.handlePartyAbandoned(t)):this.sendPlayer(new p.Notify("CHAT","PARTY_CANNOT_KICK"))):this.sendPlayer(new p.Notify("CHAT","NO_PLAYER_EXIST",[e]))},handlePartyLeader:function(e){var t,e=e[0],i=this.server.getEntityByName(e);i?this.player!=i&&((t=this.player.party)?(this.player==t.leader?(t.leader=i,this.sendToPlayer(i,new p.Notify("CHAT","PARTY_YOU_LEADER")),this.sendPlayer(new p.Notify("CHAT","PARTY_PLAYER_LEADER",[t.leader.name]))):this.sendPlayer(new p.Notify("CHAT","PARTY_IS_LEADER",[t.leader.name])),t.sendMembersName()):this.sendPlayer(new p.Notify("CHAT","PARTY_NOT_LEADER"))):this.sendPlayer(new p.Notify("CHAT","NO_PLAYER_EXIST",[e]))},handlePartyLeave:function(e){var t=this.player.party,i=t?t.leader:null;null!=i&&(t?(t.removePlayer(this.player),this.handlePartyAbandoned(t),this.sendToPlayer(i,new p.Notify("CHAT","PARTY_PLAYER_LEFT",[this.player.name])),this.player!=i&&this.sendPlayer(new p.Notify("CHAT","PARTY_YOU_LEFT",[i.name]))):this.sendPlayer(new p.Notify("CHAT","PARTY_NOT_IN")))},handlePartyAbandoned:function(e){1==e.players.length&&(this.sendPlayer(new p.Notify("CHAT","PARTY_ALL_LEFT")),this.sendPlayer(new p.Party([])),this.player!==e.players[0]&&e.players[0]instanceof Player&&(this.sendToPlayer(e.players[0],new p.Notify("CHAT","PARTY_ALL_LEFT")),this.sendToPlayer(e.players[0],new p.Party([]))),this.server.removeParty(e))},handleHarvest:function(e){var t=e[0],e=e[1];this.player.onHarvest(t,e)},handleUseNode:function(e){e=parseInt(e[0]),e=this.entities.getEntityById(e);this.player.onHarvestEntity(e)},sendToPlayer:function(e,t){this.map.entities.pushToPlayer(e,t)},send:function(e){this.connection.send(e)}})},{"../shared/js/gametypes":552,"../shared/js/itemtypes":553,"./bank":9,"./data/appearancedata":11,"./data/itemdata":12,"./data/mobdata":15,"./data/questdata":19,"./data/skilldata":20,"./entity/character":24,"./entity/chest":25,"./entity/mob":29,"./entity/node":30,"./entityspawn":35,"./format":37,"./formulas":38,"./inventory":39,"./lib/class":42,"./message":48,"./party":54,"./skillhandler":61,"./taskhandler":62,"./trade":64,"./utils":69,bcrypt:92,"body-parser":95,express:250,underscore:508}],54:[function(e,t,i){e("./lib/class"),e("./data/mobdata.js");var n=e("./message.js");t.exports=Party=Class.extend({init:function(e,t){this.players=[e,t],e.party&&e.party.removePlayer(e),t.party&&t.party.removePlayer(t),e.party=this,(t.party=this).leader=e,this.sendMembersName()},addPlayer:function(e){e&&(this.players.push(e),e.party&&e.party.removePlayer(e),e.party=this),this.sendMembersName()},removePlayer:function(e){var t=0;if(e==this.leader&&(this.leader=this.players[0]),e)for(t=0;t<this.players.length;t++)if(e===this.players[t]){e instanceof Player&&this.players[t].send([Types.Messages.PARTY]),this.players[t].party=null,this.players.splice(t,1),this.sendMembersName();break}},sendMembersName:function(){var e=0,t=[],i=this.players;if(1<i.length)for(t.push(this.leader.name),e=0;e<i.length;e++)i[e]!==this.leader&&t.push(i[e].name);for(e=0;e<i.length;e++)i[e]instanceof Player&&i[e].map.entities.pushToPlayer(i[e],new n.Party(t))},sumTotalLevel:function(){for(var e=0,t=0,e=0;e<this.players.length;e++)t+=this.players[e].level;return t+1},getHighestLevel:function(){for(var e=0,t=0,e=0;e<this.players.length;e++)t<this.players[e].level&&(t=this.players[e].level);return t},getLowestLevel:function(){for(var e=0,t=999,e=0;e<this.players.length;e++)t>this.players[e].level&&(t=this.players[e].level);return t}})},{"./data/mobdata.js":15,"./lib/class":42,"./message.js":48}],55:[function(e,t,i){e("./lib/astar"),e("./utils");t.exports=Pathfinder=Class.extend({init:function(e,t){this.width=e,this.height=t,this.grid=null,this.blankGrid=[],this.initBlankGrid_(),this.ignored=[],this.included=[]},initBlankGrid_:function(){for(var e=0;e<this.height;e+=1){this.blankGrid[e]=[];for(var t=0;t<this.width;t+=1)this.blankGrid[e][t]=0}},isPathTicksTooFast:function(e,t,i){console.warn("checkPathTicks");var i=~~((Date.now()-i)*(e.tick/G_FRAME_INTERVAL_EXACT)),i=Math.max(i,0),n=this.getPathTicks(t,e.x,e.y);return 0==n?(console.warn("isPathTicksTooFast: getPathTicks - "+JSON.stringify(t)+", x:"+e.x+",y:"+e.y),!1):(t=2*G_FRAME_INTERVAL,console.warn("SPEED HACK. playerTicks - tolerance: "+n+"-"+t+", "+(n-t)+" > serverTicks: "+i+", entity.latencyDiff: "+e.latencyDiff),i<n-t&&(console.error("SPEED HACK. playerTicks - tolerance: "+n+"-"+t+", "+(n-t)+" > serverTicks: "+i+", entity.latencyDiff: "+e.latencyDiff),!0))},getPathTicks:function(e,t,i){count=0;var n,a=null;for(n of e){if(a){if(t==n[0]&&t==a[0]&&i>=Math.min(n[1],a[1])&&i<=Math.max(n[1],a[1])){count+=Math.abs(a[1]-i);break}if(i==n[1]&&i==a[1]&&t>=Math.min(n[0],a[0])&&t<=Math.max(n[0],a[0])){count+=Math.abs(a[0]-t);break}count+=Math.abs(n[0]-a[0])+Math.abs(n[1]-a[1])}a=n}return count},getPathTicks2:function(e){var t,i,n=0;for(i of e)t&&(n+=Math.abs(i[0]-t[0])+Math.abs(i[1]-t[1])),t=i;return n},getPathUntil:function(e,t){if(t<0)return null;var i,n,a=this.getPathTicks2(e)-t,r=[],s=0;for(n of e){if(i){var o=Math.abs(n[0]-i[0]),c=Math.abs(n[1]-i[1]);if((s+=t=o+c)==a){r.push(n);break}if(a<s){var p=n,l=s-a;0<o&&(p[0]+=n[0]-i[0]<0?l:-l),0<c&&(p[1]+=n[1]-i[1]<0?l:-l),r.push(p);break}}i=n,r.push(n)}return r},isInPath:function(e,t){var i,e=e.map(function(e){return e.slice()}),n=e.shift();for(i of e){if(n[0]==i[0]&&n[1]>=t[1]&&i[1]<=t[1]||n[1]==i[1]&&n[0]>=t[0]&&i[0]<=t[0])return!0;n=i}return!1},isValidPath:function(o,e){function t(e,t,i,n){e=Math.floor(e),t=Math.floor(t),i=Math.floor(i);var a=Math.min(e,t),r=Math.max(e,t);if("x"==n){for(var s=a;s<r;s++)if(o[i][s])return!1}else for(s=a;s<r;s++)if(o[s][i])return!1;return!0}for(var i=G_TILESIZE,n=o.length,a=o[0].length,r=[],s=0;s<e.length;s++)r[s]=e[s].slice();for(c of r)c[0]/=i,c[1]/=i;var c,p,l,u,d=null;for(c of r){if(c[1]<0||c[1]>=n)return!1;if(c[0]<0||c[0]>=a)return!1;if(d){if(c[0]!=d[0]&&c[1]!=d[1])return!1;if(0<Math.abs(c[0]-d[0])){if(p=d[0],l=c[0],u=c[1],!t(p,l,u,"x"))return!1}else if(0<Math.abs(c[1]-d[1])&&(p=d[1],l=c[1],u=c[0],!t(p,l,u,"y")))return!1}d=c}return!0},getShortGrid:function(e,t,i,n){for(var a=G_TILESIZE,r=(t=[t[0]/a,t[1]/a],i=[i[0]/a,i[1]/a],Math.max(Math.min(Math.floor(t[0]),Math.floor(i[0]))-n,0)),s=Math.min(Math.max(Math.ceil(t[0]),Math.ceil(i[0]))+n,e[0].length-1),a=Math.max(Math.min(Math.floor(t[1]),Math.floor(i[1]))-n,0),o=Math.min(Math.max(Math.ceil(t[1]),Math.ceil(i[1]))+n,e.length-1),c=(t=[t[0]-r,t[1]-a],i=[i[0]-r,i[1]-a],[]),p=a;p<=o;++p)c.push(e[p].slice(r,s));return{crop:c,minX:r,minY:a,substart:t,subend:i}},findNeighbourPath:function(e,t){var i=G_TILESIZE;return Math.abs(e[0]-t[0])<=i&&0==Math.abs(e[1]-t[1])||Math.abs(e[1]-t[1])<=i&&0==Math.abs(e[0]-t[0])?[[e[0],e[1]],[t[0],t[1]]]:null},findShortPath:function(e,t,i,n,a){var r=G_TILESIZE,s=AStar.AStar(e,n,a);if(s&&0<s.length){for(var o=[],c=s.length,p=0;p<c;++p)o[p]=[],o[p][0]=(s[p][0]+t)*r,o[p][1]=(s[p][1]+i)*r;return o}return null},findPath:function(e,t,i,n){return this.grid=e,this.applyIgnoreList_(this.grid,!0),this.applyIncludeList_(this.grid,!0),AStar.AStar(this.grid,t,i)},findIncompletePath_:function(e,t){for(var i,n,a=[],r=AStar.AStar(this.blankGrid,e,t),s=r.length-1;0<s;--s)if(i=r[s][0],n=r[s][1],0===this.grid[n][i]){a=AStar(this.grid,e,[i,n]);break}return a},ignoreEntity:function(e){e&&this.ignored.push(e)},includeEntity:function(e){e&&this.included.push(e)},applyIgnoreList_:function(t,i){var n,a;_.each(this.ignored,function(e){n=e.isMoving()?e.nextGridX:e.gx,a=e.isMoving()?e.nextGridY:e.gy,0<=n&&0<=a&&(t[a][n]=i?0:1)})},applyIncludeList_:function(t,i){var n,a;_.each(this.included,function(e){n=e.isMoving()?0<e.path.length?e.path[e.path.length-1][0]:e.nextGridX:e.gx,a=e.isMoving()?0<e.path.length?e.path[e.path.length-1][1]:e.nextGridY:e.gy,0<=n&&0<=a&&(t[a][n]=i?1:0)})},clearIgnoreList:function(e){this.applyIgnoreList_(e,!1),this.ignored=[]},clearIncludeList:function(e){this.applyIncludeList_(e,!1),this.ignored=[]}})},{"./lib/astar":41,"./utils":69}],56:[function(e,t,i){e("./message"),e("underscore");var r=e("./utils");t.exports=PlayerController=Class.extend({init:function(e){this.player=e,this.entities=this.player.map.entities,this.setCallbacks()},setCallbacks:function(){function i(e,t){console.info("onStopPathing");var i=n.player;n.entities.pathfinder.isPathTicksTooFast(i,i.fullpath,i.startMovePathTime)?i.setPosition(i.sx,i.sy):i.setPosition(e,t),i.sx=i.x,i.sy=i.y,console.info("p.x:"+i.x+",p.y="+i.y),a(i)}var n=this,a=(n.player.onStep(function(e,t,i){}),n.player.onRequestPath(function(e,t){var i=n.player;return n.entities.findPath(i,e,t)}),function(e){e.packetHandler.processAttack()});n.player.onStopPathing(function(e,t){console.info("onStopPathing"),i(e,t)}),n.player.onAbortPathing(function(e,t){console.info("onAbortPathing"),i(e,t)}),n.player.checkStopDanger=function(e,t){var i,n,a=!1;return(-1!=e.ex||-1!=e.ey)&&(e.x==e.ex&&e.y==e.ey?(console.warn("checkStopDanger - coordinates equal"),!0):(i=e.x,n=e.y,(a=t==Types.Orientations.LEFT&&e.x<e.ex||t==Types.Orientations.RIGHT&&e.x>e.ex||t==Types.Orientations.UP&&e.y<e.ey||t==Types.Orientations.DOWN&&e.y>e.ey?!0:a)&&(e.setPosition(e.ex,e.ey),console.warn("WARN - PLAYER "+e.id+" not stopping."),console.warn("orientation: "+r.getOrientationString(t)),console.warn("x :"+i+",y :"+n),console.warn("sx:"+e.ex+",sy:"+e.ey)),a))},n.player.setMoveStopCallback(function(){var e=n.player;console.info("setMoveStopCallback"),console.info("player, x:"+e.x+",y:"+e.y),e.checkStopDanger(e,e.moveOrientation),-1==e.ex&&-1==e.ey||e.x==e.ex&&e.y==e.ey||(console.warn("ERROR - MOVING NOT SYNCHED PROPERLY, FORCING CLIENT UPDATE"),console.info("player, orientation:"+e.moveOrientation),console.info("player, x:"+e.x+",y:"+e.y),console.info("player, sx:"+e.sx+",sy:"+e.sy),console.info("player, ex:"+e.ex+",ey:"+e.ey),e.setPosition(e.sx,e.sy),e.sendCurrentMove()),a(e)})}})},{"./message":48,"./utils":69,underscore:508}],57:[function(t,e,i){var n=t("./lib/class").Class.extend({init:function(e){this.config=e;try{this.production=t("../production_hosts/"+e.production+".js")}catch(e){this.production=null}},inProduction:function(){return null!==this.production&&this.production.isActive()},getProductionSettings:function(){if(this.inProduction())return this.production}});e.exports=n},{"./lib/class":42}],58:[function(e,t,i){e=e("./lib/class");t.exports=getQuestObject=function(e){var t={toArray:function(e){return[e.type,e.kind,e.count,e.chance,e.level[0],e.level[1]]},toClient:function(e){return[e.type,e.kind,e.count]}};return t.type=parseInt(e[0]),t.kind=parseInt(e[1])||0,t.count=parseInt(e[2])||0,t.chance=parseInt(e[3])||0,4==e.length&&(t.level=[0,99]),5==e.length&&(t.level=[parseInt(e[4]),99]),6==e.length&&(t.level=[parseInt(e[4]),parseInt(e[5])]),t},t.exports=Quest=e.Class.extend({init:function(e){e&&(this.id=parseInt(e[0]),this.type=parseInt(e[1]),this.npcQuestId=parseInt(e[2]),this.count=parseInt(e[3])||0,this.status=parseInt(e[4])||0,this.data1=parseInt(e[5])||0,this.data2=parseInt(e[6])||0,this.object=e[7]||null,this.object2=e[8]||null)},assign:function(e){this.id=e.id,this.type=e.type,this.npcQuestId=e.npcQuestId,this.count=e.count,this.status=e.status,this.data1=e.data1,this.data2=e.data2,this.object=e.object,this.object2=e.object2},toArray:function(){var e=[this.id,this.type,this.npcQuestId,this.count,this.status,this.data1,this.data2];return this.object&&(e=e.concat(this.object.toArray(this.object))),e=this.object2?e.concat(this.object2.toArray(this.object2)):e},toClient:function(){var e=[this.id,this.type,this.npcQuestId,this.count,this.status,this.data1,this.data2],e=this.object?e.concat(this.object.toClient(this.object)):e.concat(["","",""]);return e=this.object2?e.concat(this.object2.toClient(this.object2)):e.concat(["","",""])},toString:function(){return this.toArray().join(",")}})},{"./lib/class":42}],59:[function(e,t,i){e("crypto"),e("fs");function c(e,t,i){if(Array.isArray(t)){for(var n=d.multi(),a=0;a<t.length;++a)n.hget(e,t[a]);n.exec(i)}else d.hget(e,t,i)}var d,n=e("redis"),l=(e("bcrypt"),e("./utils")),a=e("./lib/class"),h=(e("./entity/player"),e("./message"),e("./../shared/js/itemtypes")),p=e("./quest"),u=(e("./inventory"),e("./data/skilldata")),f=e("./data/appearancedata"),m=e("./data/itemdata");t.exports=DatabaseHandler=a.Class.extend({init:function(e){(d=n.createClient(e.redis_port,e.redis_host,{socket_nodelay:!0})).auth(e.redis_password),d.on("error",function(e){console.error("Redis error: "+e)}),d.hgetarray=c,this.ready=!0},removeAchievements:function(){d.keys("*",function(e,t){if(e)return console.log(e);for(var i=0,n=t.length;i<n;i++){var a=t[i];a.startsWith("p:")&&d.hdel(a,"achievements")}})},removeLegacyItems:function(){var u=this;d.keys("*",function(e,t){if(e)return console.log(e);for(var i=0,n=t.length;i<n;i++){var a=t[i];a.startsWith("u:")&&a.substr(2),a.startsWith("p:")&&d.hgetall(a,function(e,t){if(e)return console.log(e);for(var c=t.name,p=0,l=0,i=0;i<3;++i)u.getItems({name:c},i,function(e,t){for(var i=0,n=e.length;n--;)if(item=e[n],!h.isLootItem(item.itemKind)){var a=m.Kinds[item.itemKind];if(a){if(a&&1==a.legacy){for(var r=item.itemNumber,s=Object.assign({},item),o=1;o<r;++o)s.itemNumber=o,i+=h.getEnchantPrice(s);s.itemNumber=1,i+=h.getBuyPrice(s.itemKind),e.splice(e.indexOf(item),1)}}else e.splice(e.indexOf(item),1)}u.saveItems({name:c},t,e),l+=i,3==++p&&0<l&&u.modifyGold(c,l)})})}})},createUser:function(i){var n=this,a="u:"+i.name,r=(new Date).getTime(),e=f.Data.length;i.looks=new Uint8Array(e);for(var t=0;t<e;++t)i.looks[t]=0;i.looks[0]=1,i.looks[50]=1,i.looks[77]=1,i.looks[151]=1,i.gems=2e3,d.sismember("usr",i.name,function(e,t){1===t?(i.connection.sendUTF8(Types.Messages.SC_ERROR+",userexists"),i.connection.close("Username not available: "+i.name)):(t=l.BinToHex(i.looks),d.multi().sadd("usr",i.name).hset(a,"username",i.name).hset(a,"hash",i.hash).hset(a,"salt",i.salt).hset(a,"banTime",0).hset(a,"banDuration","").hset(a,"lastLoginTime",r).hset(a,"membership",0).hset(a,"players","").hset(a,"gems",i.gems).hset(a,"looks",t).hset(a,"ipAddresses",i.connection._connection.remoteAddress).exec(function(e,t){i.hasLoggedIn=!0,users[i.name]=1,n.sendPlayers(i)}))})},savePassword:function(e,t){d.hset("u:"+e,"hash",t)},removeUser:function(s){var o="u:"+s.name;d.hgetall(o,function(e,t){if(console.info("replies: "+t),console.info(JSON.stringify(t)),null!==t&&"object"==typeof t){var i={hash:t.hash,salt:t.salt};if(console.info(JSON.stringify(i)),console.error("USER CHECK USER"),s.checkUser(i,!0)){console.error("USER CHECK USER SUCCESS");for(var n=t.players.split(","),a=0;a<n.length;++a){var r="p:"+n[a];d.del(r)}d.del(o),d.srem("usr",s.name),s.connection.sendUTF8(Types.Messages.SC_ERROR+",removed_user_ok")}else s.connection.sendUTF8(Types.Messages.SC_ERROR+",removed_user_fail");s.connection.close()}})},loadUser:function(s){var o=this,c="u:"+s.name;(new Date).getTime();d.sismember("usr",s.name,function(e,t){if(1===t)return d.hgetall(c,function(e,t){if(console.info("replies: "+t),console.info(JSON.stringify(t)),null!==t&&"object"==typeof t){var i,n={hash:t.hash,salt:t.salt,banTime:t.banTime,banDuration:t.banDuration,lastLoginTime:t.lastLoginTime,membership:t.membership,players:t.players,ipAddresses:t.ipAddresses,gems:t.gems};if(t.gems?n.gems=parseInt(t.gems):n.gems=1e3,!t.looks||0===parseInt(t.looks,16)||t.looks.toLowerCase().includes("nan")){var a=f.Data.length;n.looks=new Uint8Array(a);for(var r=0;r<a;++r)n.looks[r]=0}else n.looks=l.HexToBin(t.looks);n.looks[0]=1,n.looks[50]=1,n.looks[77]=1,n.looks[151]=1,console.info(JSON.stringify(n)),s.looks=n.looks.slice(),s.gems=n.gems,s.checkUser(n)&&(i=s.connection._connection.remoteAddress,t.ipAddesses?toString(t.ipAddesses).includes(i)||d.hset(c,"ipAddresses",n.ipAddresses+","+i):d.hset(c,"ipAddresses",i),d.hset(c,"lastLoginTime",(new Date).getTime()),o.sendPlayers(s))}}),!1;s.connection.sendUTF8(Types.Messages.SC_ERROR+",invalidlogin")})},sendPlayers:function(o){var e="u:"+o.name;d.hget(e,"players",function(e,t){if(console.info("players_reply:"+t),null==t||""===t)o.sendPlayers();else for(var i=t.split(","),n=[],a=0,r=0;r<i.length;++r){var s="p:"+i[r];c(s,["name","map","exps","colors","sprites"],function(e,t){t={name:t[0],map:t[1].split(",")[0],exp:t[2].split(",")[0],colors:t[3].split(","),sprites:t[4].split(",")};n.push(t),++a==i.length&&o.sendPlayers(n)})}})},loadPlayer:function(a){var e="p:"+a.name;(new Date).getTime();return console.info("player.name: "+a.name),d.multi().hget(e,"map").hget(e,"exps").hget(e,"colors").hget(e,"pStats").hget(e,"gold").hget(e,"sprites").hget(e,"stats").hget(e,"skills").hget(e,"skillSlots").hget(e,"completeQuests").exec(function(e,t){console.info(t.toString());var i={name:a.name,map:t[0].split(","),exps:t[1].split(","),colors:t[2].split(","),pStats:t[3].split(","),gold:t[4].split(","),sprites:t[5].split(","),stats:t[6].split(","),skills:t[7].split(","),skillSlots:t[8].split(","),completeQuests:t[9]};if(1==i.skills.length)for(var n=0;n<u.Skills.length;++n)i.skills[n]=0;2==i.sprites.length&&(i.sprites[2]=151,i.sprites[3]=50),i.completeQuests&&(i.completeQuests=JSON.parse(i.completeQuests)),a.hasLoggedIn=!0,a.packetHandler.loadedPlayer=!0,players.push(a),a.sendPlayer(i)}),!0},createPlayer:function(a,r,s){var o="u:"+a.name,c="p:"+r.name;(new Date).getTime();d.hget(c,"name",function(e,t){if(t)a.connection.sendUTF8(Types.Messages.SC_ERROR+",playerexists");else{console.info("CREATING PLAYER");for(var n={name:r.name,map:[0,0,0,0],exps:[0,0,0,0,0,0,0,0,0,0],colors:[0,0],pStats:[0,0],gold:[0,0],sprites:[77,0,151,50],stats:[2,2,2,2,2,0],skills:[],skillSlots:[-1,-1,-1,-1,-1,-1]},i=0;i<u.Skills.length;++i)n.skills[i]=0;d.multi().hset(c,"name",n.name).hset(c,"map",n.map.join(",")).hset(c,"exps",n.exps.join(",")).hset(c,"colors",n.colors.join(",")).hset(c,"pStats",n.pStats.join(",")).hset(c,"gold",n.gold.join(",")).hset(c,"sprites",n.sprites.join(",")).hset(c,"stats",n.stats.join(",")).hset(c,"skills",n.skills.join(",")).hset(c,"skillSlots",n.skillSlots.join(",")).exec(function(e,t){console.info(e),console.info(JSON.stringify(t)),console.info("New User: "+r.name),a.loadedPlayer=!0,d.hget(o,"players",function(e,t){var i=[];(i=t?t.split(","):i).push(r.name),d.hset(o,"players",i.join(",")),s(n)})})}})},savePlayer:function(e){for(var t="p:"+e.name,i="u:"+e.user.name,n=[e.stats.attack,e.stats.defense,e.stats.health,e.stats.energy,e.stats.luck,e.stats.free],a=[l.NaN2Zero(e.exp.base),l.NaN2Zero(e.exp.attack),l.NaN2Zero(e.exp.defense),l.NaN2Zero(e.exp.move),l.NaN2Zero(e.exp.sword),l.NaN2Zero(e.exp.bow),l.NaN2Zero(e.exp.hammer),l.NaN2Zero(e.exp.axe),l.NaN2Zero(e.exp.logging),l.NaN2Zero(e.exp.mining)],r=[e.map.index,e.x,e.y,e.orientation],s=[],o=0;o<e.skills.length;++o)s[o]=e.skills[o].skillXP;var c=0<Object.keys(e.completeQuests).length?JSON.stringify(e.completeQuests):0,p=l.BinToHex(e.user.looks);d.multi().hset(t,"map",r.join(",")).hset(t,"stats",n.join(",")).hset(t,"exps",a.join(",")).hset(t,"gold",e.gold.join(",")).hset(t,"skills",s.join(",")).hset(t,"skillSlots",e.skillSlots.join(",")).hset(t,"pStats",e.pStats.join(",")).hset(t,"sprites",e.sprites.join(",")).hset(t,"colors",e.colors.join(",")).hset(t,"completeQuests",c).hset(i,"looks",p).hset(i,"gems",e.user.gems).exec(function(e,t){})},modifyGold:function(i,n,a){var a=a||0,n=parseInt(n),r="p:"+i;d.hget(r,"gold",function(e,t){console.info("modifyGold.gold: "+JSON.stringify(t)),t?((t=t.split(","))[a]=parseInt(t[a])+n,d.hset(r,"gold",t.join(","))):console.error("redis.modifyGold - no gold record for player '"+i+"' found.")})},modifyGems:function(e,i){var n="u:"+e,i=parseInt(i);d.hget(n,"gems",function(e,t){t=parseInt(t);d.hset(n,"gems",t+=i)})},getStoreType:function(e){var t;switch(e){case 0:t="iItem_";break;case 1:t="bItem_";break;case 2:t="eItem_"}return t},getStoreTypeNew:function(e){var t;switch(e){case 0:t="inventory";break;case 1:t="bank";break;case 2:t="equipment"}return t},getItems:function(s,o,c){var p=this,l="p:"+s.name,e=this.getStoreTypeNew(o);d.hget(l,e,function(e,t){if(e||!t)p.getItemsOld(s,o,c);else if(""==t)p.getItemsOld(s,o,c);else{var i=[];console.info(l),console.info("getItems - data="+t),dataJSON=JSON.parse(t);for(var n=0;n<dataJSON.length;n++){var a,r=dataJSON[n];r&&((a=new ItemRoom(parseInt(r[1]),parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5]))).slot=parseInt(r[0]),i.push(a))}c(i,o)}})},getItemsOld:function(e,a,r){var e="p:"+e.name,s=this.getStoreType(a),o=(d.multi(),[]);d.hgetall(e,function(e,t){if(null===t)r([],a);else{for(var i in t){var n=t[i];i.startsWith(s)&&(i=i.substr(6),n=n.split(","),(n=new ItemRoom(parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),parseInt(n[3]),parseInt(n[4]))).slot=i,o.push(n))}r(o,a)}})},saveItems:function(e,t,i){for(var n="p:"+e.name,a=48,r=(2==t&&(a=5),this.getStoreType(t)),s=this.getStoreTypeNew(t),o=d.multi(),c=0;c<a;c++)o.hdel(n,r+c);o.exec(function(e,t){e&&console.error(e)});var p=e.inventory;1==t&&(p=e.bank),(p=2==t?e.equipment:p)&&d.hset(n,s,p.toStringJSON())},saveQuests:function(e,t){for(var i="p:"+e.name,n=null,a=[],r="[",s=!1,o=0;o<t.length;++o)(n=t[o])&&n.status!=QuestStatus.COMPLETE&&!_.isEmpty(n)&&(a.push(n.id),r+="["+n.toString()+"],",s=!0);r=r.slice(0,-1),r+="]",d.hset(i,"newquests2",r=s?r:"[]"),this.deleteOldQuests(e)},deleteOldQuests:function(e){console.info("deleteOldQuests");var n="p:"+e.name;d.hgetall(n,function(e,t){if(null!==t){for(var i in console.info("client.hgetall="+JSON.stringify(t)),t){t[i];i.startsWith("q_")&&d.hdel(n,i)}d.hdel(n,"quests"),d.hdel(n,"quests2"),d.hdel(n,"newquests")}})},loadQuests:function(r,s){console.info("loadQuest");var o="p:"+r.name;d.multi();d.hget(o,"newquests2",function(e,t){if(!e&&t&&""!=t){console.info(o),console.info("getItems - data="+t),dataJSON=JSON.parse(t);for(var i=0;i<dataJSON.length;i++){var n,a=dataJSON[i];a&&(console.info(JSON.stringify(a)),n=new p(a.splice(0,7)),0<a.length&&(n.object=getQuestObject(a.splice(0,6))),0<a.length&&(n.object2=getQuestObject(a.splice(0,6))),r.quests.push(n))}}s(r)})},saveAchievements:function(e){console.info("saveAchievement");var t,i="p:"+e.name,n="";for(t of e.achievements)n+=t.toRedis(t).join(",")+",";d.hset(i,"achievements",n)},loadAchievements:function(o,c){console.info("loadAchievement");var e="p:"+o.name;d.hget(e,"achievements",function(e,t){var i=getInitAchievements();if(e||!t)o.achievements=i;else{for(var n=t.split(","),a=~~(n.length/3),r=0;r<a;++r){var s=getSavedAchievement(n.splice(0,3));o.achievements.push(s)}for(r=a;r<i.length;++r)o.achievements.push(i[r])}c(o)})},loadAuctions:function(r,s){d.hgetall("s:auction",function(e,t){var i={};if(null===t||"object"!=typeof t)console.warn("loadAuctions - err: "+JSON.stringify(e)),console.warn("loadAuctions - data: "+JSON.stringify(t)),s(r,{});else{for(var n=0;n<Object.keys(t).length;++n){var a=t[n].split(","),a=new AuctionRecord(a[0],parseInt(a[1]),new ItemRoom(parseInt(a[2]),parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),parseInt(a[6])));i[n]=a}s(r,i)}})},saveAuctions:function(e){d.del("s:auction");for(var t=0,i=d.multi(),n=0;n<Object.keys(e).length;++n)e[n]&&i.hset("s:auction",t++,e[n].save(n));i.exec(function(e,t){e&&console.error("saveAuctions: "+JSON.stringify(e)),AUCTION_SAVED=!0})},loadLooks:function(e){d.hget("l:looks","prices",function(e,t){t&&t.split(",")})},saveLooks:function(e){d.hset("l:looks","prices",e.join(","))}})},{"./../shared/js/itemtypes":553,"./data/appearancedata":11,"./data/itemdata":12,"./data/skilldata":20,"./entity/player":33,"./inventory":39,"./lib/class":42,"./message":48,"./quest":58,"./utils":69,bcrypt:92,crypto:void 0,fs:void 0,redis:402}],60:[function(e,t,i){e=e("./lib/class");t.exports=RequestHandler=e.Class.extend({init:function(e,t){this.player=e,this.targetPlayer=t}})},{"./lib/class":42}],61:[function(e,t,i){var n=e("./lib/class"),a=e("./data/skilldata.js"),r=e("./message.js");t.exports=SkillHandler=n.Class.extend({init:function(e){e.skills=[],this.player=e,this.skills=this.player.skills},clear:function(){},setSkills:function(e,t){for(var i=0;i<t.length;++i){var n=new Skill(e,i,t[i]);e.skills[i]=n}},setSkill:function(e,t){e=player.skills[e];e.skillXP=t,e.skillLevel=Types.getSkillLevel(t)},setXPs:function(){for(var e=[],t=0;t<this.skills.length;++t){var i=this.skills[t],n=parseInt(i.tempXP);0<n&&(i.xp(n),e.push(t,i.skillXP),i.tempXP=0)}0<e.length&&this.player.map.entities.pushToPlayer(this.player,new r.SkillXP(e))}}),Skill=n.Class.extend({init:function(e,t,i){this.player=e,console.info("skillIndex:"+t),this.skillData=a.Skills[t],this.skillIndex=t,this.skillLevel=Types.getSkillLevel(i),this.skillXP=i,(this.tempXP=0)<this.skillData.recharge&&(this.skillCooldown=new Timer(this.skillData.recharge),this.skillCooldown.lastTime=0)},getSkill:function(){return this.skillData},isReady:function(){return this.skillCooldown.isOver()},xp:function(e){0!=e&&(console.info("amount="+e),this.skillXP+=e,(e=Types.getSkillLevel(this.skillXP,this.skillLevel))!=this.skillLevel)&&(this.skillLevel=e,this.player.map.entities.pushToPlayer(this.player,new r.SkillLoad(this.skillIndex,this.skillXP)))}})},{"./data/skilldata.js":20,"./lib/class":42,"./message.js":48}],62:[function(e,t,i){var n=e("./lib/class"),d=(e("./entity/entitymoving"),e("./message")),s=e("../shared/js/gametypes"),a=e("../shared/data/achievements.json");t.exports.getAchievementObject=getAchievementObject=function(e){var t={toArray:function(e){return[e.index,e.data.type,e.rank,e.data.objectType,e.data.objectKind,e.count,e.data.objectCount[e.rank]]},toClient:function(e){return e.toArray(e)},toRedis:function(e){return[e.index,e.rank,e.count]}};return e&&(t.index=parseInt(e[0]),t.rank=parseInt(e[1]),t.count=parseInt(e[2]),t.data=e[3]),t},t.exports.getSavedAchievement=getSavedAchievement=function(e){return data=[e[0],e[1],e[2],a[e[0]]],Object.assign(getAchievementObject(data),null)},t.exports.getInitAchievements=getInitAchievements=function(){for(var e=[],t=a.length,i=0;i<t;++i){data=[i,0,0,a[i]];var n=Object.assign(getAchievementObject(data),null);e.push(n)}return log.info("achievements: "+JSON.stringify(e)),e},t.exports.PlayerEvent=PlayerEvent=function(e,t,i){var n={};return n.eventType=e,n.object=t,n.count=i,n},t.exports=TaskHandler=n.Class.extend({init:function(){this.data=a},processEvent:function(i,e){switch(e.eventType){case EventType.KILLMOB:var t,n=e.object;n.questDrops={};for(a of i.quests)i.questAboutKill(n,a),a.type==QuestType.GETITEMKIND&&(t=a.object2.kind+1e3,a.object2.type==s.EntityTypes.ITEMLOOT)&&a.object.type==s.EntityTypes.MOB&&a.object.kind==n.kind&&a.status!=QuestStatus.COMPLETE&&(a.count<a.object2.count||i.inventory.hasItemCount(t)<a.object2.count)&&(n.questDrops[t]=parseInt(10*a.object2.chance),a.object2.chance+=1);break;case EventType.LOOTITEM:for(var a of i.quests)a.type==QuestType.GETITEMKIND&&a.object2.kind==e.object.kind-1e3&&i.questAboutItem(a);break;case EventType.USE_NODE:for(var a of i.quests)a.type==QuestType.USENODE&&a.object.kind==e.object.kind&&a.data1==e.object.level&&i.questAboutUseNode(a)}for(var r of i.achievements)this.processAchievement(i,e,r,function(e,t){return e.data.type==EventType.KILLMOB&&(0==e.data.objectKind||e.data.objectKind==t.object.kind)},15),this.processAchievement(i,e,r,function(e,t){return e.data.type==EventType.LOOTITEM&&t.object.hasOwnProperty("enemyDrop")},25),this.processAchievement(i,e,r,function(e,t){return e.data.type==EventType.DAMAGE},.25),this.processAchievement(i,e,r,function(e,t){return e.data.type==EventType.USE_NODE&&(t=t.object.weaponType,i.hasWeaponType(t))&&t==e.data.data1},10),this.processAchievement(i,e,r,function(e,t){return e.data.type==EventType.HARVEST&&(e=t.object.weaponType,i.hasWeaponType(e))&&"axe"==e},10),this.processAchievement(i,e,r,function(e,t){return e.data.type==EventType.USE_NODE&&(t=t.object.weaponType,i.hasWeaponType(t))&&t==e.data.data1},10)},processAchievement:function(e,t,i,n,a){if(t.eventType==i.data.type&&n(i,t)){var r=e.achievements.indexOf(i);if(!(r<0||r>=i.data.objectCount.length)){var s=t.count,o=i.data.objectCount[i.rank],c=i.data.objectCount.length;if(i.count+s<o)i.count+=s;else{if(i.rank==c-1&&i.count==o)return;for(;0<s;){var o=i.data.objectCount[i.rank],p=i.count,l=i.count+s,l=(i.count=Math.min(l,o),s-=o-p,e.map.entities.pushToPlayer(e,new d.Achievement(i)),~~(o*a)),p="ACHIEVEMENTS_"+r+"_COMPLETE",u=o;if(1e6<=o?u=Number(o/1e6).toFixed(1).replace(/[.,]0$/,"")+"M":1e3<=o&&(u=Number(o/1e3).toFixed(1).replace(/[.,]0$/,"")+"K"),e.map.entities.pushToPlayer(e,new d.Notify("CHAT",p,[u,l])),i.rank==c-1&&i.count==o)return;i.rank++,s<o&&(i.count=s,s=0)}}e.map.entities.pushToPlayer(e,new d.Achievement(i))}}}})},{"../shared/data/achievements.json":534,"../shared/js/gametypes":552,"./entity/entitymoving":27,"./lib/class":42,"./message":48}],63:[function(e,t,i){e=e("./lib/class");t.exports=Timer=e.Class.extend({init:function(e,t){this.lastTime=t,!isNaN(t)&&null!==t&&0!==t||(this.lastTime=Date.now()),this.duration=e},isOver:function(e){var t=!1;return(e=!isNaN(e)&&null!==e&&0!==e?e:Date.now())-this.lastTime>this.duration&&(t=!0,this.lastTime=e),t}})},{"./lib/class":42}],64:[function(e,t,i){var n=e("./lib/class"),p=e("../shared/js/gametypes"),a=e("./requesthandler"),l=e("./message");t.exports=Trade=n.Class.extend({init:function(e,t,i){this.player=e,this.otherPlayer=t,this.requestAssistant=new a(e,t),this.items={},this.currentState=null,this.rooms=i,this.roomId=0},sendRequest:function(e,t){this.otherPlayerSentRequest&&this.currentPlayerSentRequest||this.currentPlayerSentRequest&&this.otherPlayerSentRequest?this.startTradingProcess(e,t):e&&t?(e.map.entities.pushToPlayer(e,new l.Notify("TRADE","TRADE_REQUESTED",[t.name])),t.map.entities.pushToPlayer(t,new l.Notify("TRADE","TRADE_REQUEST",[e.name])),this.currentPlayerSentRequest=!0):console.info("An error has occured.")},startTradingProcess:function(e,t){e.admin?e.map.entities.pushToPlayer(e):(this.currentState=p.Messages.INVENTORYSTATE.STARTED,t.server.pushToPlayer(t,p.Messages.TRADESCREEN),e.map.entities.pushToPlayer(e,p.Messages.TRADESCREEN))},addItemToTradeSession:function(e,t,i,n,a,r,s){for(var o=0;o<i.inventory.rooms;o++)for(var c in o)ItemTypes.isConsumableItem(c.kind)?(i.map.entities.pushToPlayer(i,p.Messages.TRADESTATES.TRADECOUNT),r<t?(this.items.push(e,t),i.map.entities.pushToPlayer(i,new l.TradeStates)):this.items.push(e,r)):this.items.push(e,t)},removeItemFromTradeSession:function(e,t,i,n,a){for(a in this.roomId=a,this.rooms)a.delete(e,t),i.map.entities.pushToPlayer(i,p.Messages.TRADESTATES.ITEMREMOVED)}})},{"../shared/js/gametypes":552,"./lib/class":42,"./message":48,"./requesthandler":60}],65:[function(e,t,i){t.exports=Transition=Class.extend({init:function(){this.startValue=0,this.endValue=0,this.duration=0,this.inProgress=!1,this.currentValue=0},start:function(e,t,i,n,a,r,s){this.startTime=e,this.updateFunction=t,this.incFunction=i,this.stopFunction=n,this.modValue=a,this.duration=r,this.inProgress=!0,this.object=s},step:function(e){if(this.inProgress){this.startTime;var t=this.duration,i=this.modValue,t=Math.round(i/this.duration*t);if(0!=i&&0!=t)if(this.updateFunction)for(var n,a=Math.abs(t),r=0<t?1:-1,s=1;s<=a;++s)if(n=this.incFunction(this.object),this.updateFunction(n+r))return void this.stop()}},restart:function(e,t,i){this.start(e,this.updateFunction,this.stopFunction,this.startValue,this.endValue,this.duration),this.step(e)},stop:function(){this.stopFunction&&this.stopFunction(j),this.inProgress=!1}})},{}],66:[function(e,t,i){var n=e("./lib/class"),s=e("./entity/trap"),c=e("./timer");e("./utils"),e("../shared/js/gametypes");t.exports=TrapGroup=n.Class.extend({init:function(e,t,i,n,a,r,s,o){this.kind=e,this.x=t,this.y=i,this.width=n,this.height=a,this.traps=[],this.entities={},this.map=r,this.damaging=!1,this.switchTimer=new c(o||1e3),this.damage=this.damage||0,this.damageInterval=1e3,this.generateTraps()},generateTraps:function(){for(var e=this.width,t=this.height,i=this.map.entities.entityCount,n=0;n<t;++n)for(var a=0;a<e;++a){var r=new s(r=i+(e*n+a),this.kind,(this.x+a)*G_TILESIZE,(this.y+n)*G_TILESIZE,this.map,this,"trap"+r+"-"+n+"_"+a,a,n);this.map.entities.addEntity(r),this.traps.push(r)}this.map.entities.entityCount+=e*t},isTouching:function(e){var t=G_TILESIZE>>1,i=this.x*G_TILESIZE-t,n=(this.x+this.width)*G_TILESIZE+t,a=this.y*G_TILESIZE-t,t=(this.y+this.width)*G_TILESIZE+t;return _.inRange(e.x,i,n)&&_.inRange(e.y,a,t)},update:function(e){var t=this.damaging;if(this.switchTimer.isOver()&&(this.damaging=!this.damaging),t!=this.damaging)if(this.damaging)for(var i of this.traps)i.on();else for(var i of this.traps)i.off();if(this.damaging&&this.isTouching(e)){var n=null;for(i of this.traps)if(trip.isTouching(e)){n=e;break}t=e.id;n?this.entities.getOwnProperty(t)&&this.entities[t]?this.entities[t].isOver()&&player.onDamage(this,this.damage):(player.onDamage(this,this.damage),this.entities[t]=new c(this.damageInterval)):this.entities[t]=null}}})},{"../shared/js/gametypes":552,"./entity/trap":34,"./lib/class":42,"./timer":63,"./utils":69}],67:[function(e,t,i){e("./message"),e("underscore"),e("./utils");t.exports=Updater=Class.extend({init:function(e,t){this.ws=e,this.server=e,this.map=t,this.time=Date.now(),this.whoDist=8*G_TILESIZE},update:function(){var e,t,i=null,n=(this.time=Date.now(),this.map.entities.characters);for(e in n)!(t=n[e])||t.isDying||t.isDead||t.isStunned||(t instanceof Player?(this.updatePlayerKeyMovement(t),t.path&&this.updatePlayerPathMovement(t),t.neighboursUpdated=!1):t.path&&this.updateCharacterPathMovement(t),(i=t.movement)&&i.inProgress&&i.step(this.time))},checkCollide:function(e,t,i){if(e instanceof Player)return!!e.map.isColliding(t,i)||!(!e.holdingBlock||(pos=e.nextTile(),!e.map.isColliding(pos[0],pos[1])))},moveCharacter:function(e,t,i,n){return!this.checkCollide(e,t,i,n)||(c.setPosition(c.x,c.y),console.warn("char.isColliding("+e.id+","+i+","+n+")"),!1)},updateCharacterPathMovement:function(t){var e,i,n=t.tick*G_FRAME_INTERVALS,a=this.time,r=t.moveSpeed;t.isDying||t.isDead||t.freeze||t.isStunned||(e=function(e){return t.setPosition(e,t.y),t.nextStep()},!(i=function(e){return t.setPosition(t.x,e),t.nextStep()})===t.movement.inProgress&&t.isMovingPath()&&(t.orientation==Types.Orientations.LEFT?t.movement.start(a,e,function(e){return e.x},null,-n,r,t):t.orientation==Types.Orientations.RIGHT?t.movement.start(a,e,function(e){return e.x},null,n,r,t):t.orientation==Types.Orientations.UP?t.movement.start(a,i,function(e){return e.y},null,-n,r,t):t.orientation==Types.Orientations.DOWN&&t.movement.start(a,i,function(e){return e.y},null,n,r,t)))},updatePlayerPathMovement:function(t){var e,i,n=this,a=t.tick*G_FRAME_INTERVALS,r=this.time,s=t.moveSpeed;t.isDying||t.isDead||t.freeze||t.isStunned||(e=function(e){return t.setPosition(e,t.y),e%n.whoDist==0&&t.map.entities.processWho(t),t.nextStep()},!(i=function(e){return t.setPosition(t.x,e),e%n.whoDist==0&&t.map.entities.processWho(t),t.nextStep()})===t.movement.inProgress&&t.isMovingPath()&&(t.orientation==Types.Orientations.LEFT?t.movement.start(r,e,function(e){return e.x},null,-a,s,t):t.orientation==Types.Orientations.RIGHT?t.movement.start(r,e,function(e){return e.x},null,a,s,t):t.orientation==Types.Orientations.UP?t.movement.start(r,i,function(e){return e.y},null,-a,s,t):t.orientation==Types.Orientations.DOWN&&t.movement.start(r,i,function(e){return e.y},null,a,s,t)))},updatePlayerKeyMovement:function(t){var e,i,n=this,a=this.time,r=t.tick*G_FRAME_INTERVALS,s=t.moveSpeed,o=t.moveOrientation;t.freeze||t.isMovingPath()||(e=function(e){return((t.startMoving||e%G_TILESIZE==0)&&n.checkCollide(t,e,t.y)||(t.startMoving=!1,t.setPosition(e,t.y),e%n.whoDist==0&&t.map.entities.processWho(t),!!t.checkStopDanger(t,o)))&&(t.forceStopMove(),!0)},!(i=function(e){return((t.startMoving||e%G_TILESIZE==0)&&n.checkCollide(t,t.x,e)||(t.startMoving=!1,t.setPosition(t.x,e),e%n.whoDist==0&&t.map.entities.processWho(t),!!t.checkStopDanger(t,o)))&&(t.forceStopMove(),!0)})===t.movement.inProgress&&0<o&&(o==Types.Orientations.LEFT?t.movement.start(a,e,function(e){return e.x},null,-r,s,t):o==Types.Orientations.RIGHT?t.movement.start(a,e,function(e){return e.x},null,r,s,t):o==Types.Orientations.UP?t.movement.start(a,i,function(e){return e.y},null,-r,s,t):o==Types.Orientations.DOWN&&t.movement.start(a,i,function(e){return e.y},null,r,s,t)))}})},{"./message":48,"./utils":69,underscore:508}],68:[function(e,t,i){var n=e("./lib/class"),a=(e("underscore"),e("crypto")),r=e("./message"),s=e("./utils"),o=e("./format").check,c=e("../shared/js/gametypes"),p=(e("bcrypt"),e("express")),l=(e("body-parser"),p(),e("./data/appearancedata")),u=(e("./packethandler"),e("crypto-js"));function d(e,t){return this.index=e,this.name=t.name,this.exp=t.exp,this.colors=t.colors,this.sprites=t.sprites,this}d.prototype.toArray=function(){return[this.index,this.name,this.exp,this.colors[0],this.colors[1],this.sprites[0],this.sprites[1]]},d.prototype.toString=function(){return this.toArray().join(",")},t.exports=User=n.Class.extend({init:function(e,t){var i=this;this.main=e,this.connection=t,this.currentPlayer=null,this.players=[],this.loadedUser=!1,this.loadedPlayer=!1,this.formatChecker=new FormatChecker,this.looks=new Array(l.Data.length),this.gems=0,this.listener=function(e){console.info("recv[0]="+e);var t=parseInt(e[0]);o(e)?(e.shift(),t===c.Messages.BI_SYNCTIME?i.handleSyncTime(e):t===c.Messages.CS_CREATE_USER?i.handleCreateUser(e):t===c.Messages.CS_LOGIN_USER?i.handleLoginUser(e):i.loadedUser?t===c.Messages.CS_CREATE_PLAYER?i.handleCreatePlayer(e):t===c.Messages.CS_LOGIN_PLAYER?i.handleLoginPlayer(e):t===c.Messages.CS_REMOVE_USER?i.handleRemoveUser(e):i.loadedPlayer||console.info("Cannot Login: "+e):console.info("Cannot Login User: "+e)):i.connection.close("Invalid "+c.getMessageTypeAsString(t)+" message format: "+e)},this.connection.listen(this.listener),this.connection.onClose(function(){console.info("onClose - called"),clearTimeout(this.disconnectTimeout),i.onExit(),this.close("onClose"),i.onClose()})},onClose:function(e){console.warn("User.onClose - called."),this.name&&(console.warn("name:"+this.name),users[this.name]=0);var t=this.currentPlayer;(e=e||!1)&&t&&(this.loadedPlayer&&t.save(),players.splice(players.indexOf(t),1),delete this.currentPlayer),delete users[this.name],console.warn(JSON.stringify(users)),this.connection.close("closing connection")},onExit:function(){},send:function(e){this.connection.send(e)},handleSyncTime:function(e){e=parseInt(e[0]);worlds[0];this.connection.sendUTF8([c.Messages.BI_SYNCTIME,e,Date.now()].join(","))},handleCreateUser:function(e){var t=s.sanitize(e[0]),e=s.sanitize(e[1]),e=s.btoa(e),t=(console.info("Starting Client/Server Handshake"),this.name=t.substr(0,16).trim().toLowerCase(),console.info("self.user.name="+this.name),u.AES.decrypt(e,this.hashChallenge)),t=JSON.parse(t.toString(u.enc.Utf8)),i=(new Date).valueOf().toString(),n=Math.random().toString(),i=a.createHash("sha1").update(i+n).digest("hex");e=a.createHash("sha1").update(t+i).digest("hex");try{s.checkInputName(this.name)?(this.hash=e,this.salt=i,DBH.createUser(this)):this.connection.sendUTF8(c.Messages.SC_ERROR+"invalidusername")}catch(e){console.info("message="+e.message),console.info("stack="+e.stack)}},handleLoginUser:function(e){var t=s.sanitize(e[0]),e=s.sanitize(e[1]),e=s.btoa(e);console.info("Starting Client/Server Handshake"),this.name=t.substr(0,16).trim().toLowerCase(),console.info("self.name="+this.name);try{s.checkInputName(this.name)?(this.hash=e,DBH.loadUser(this)):this.connection.sendUTF8(c.Messages.SC_ERROR+",invalidname")}catch(e){console.info("message="+e.message),console.info("stack="+e.stack)}},handleRemoveUser:function(e){e=s.sanitize(e[1]),e=s.btoa(e);console.info("self.name="+this.name);try{this.hash=e,DBH.removeUser(this)}catch(e){console.info("message="+e.message),console.info("stack="+e.stack)}},checkUser:function(e,t){t=t||!1;var i=Date.now();if(i<e.banTime+e.banDuration)return this.connection.sendUTF8(c.Messages.SC_ERROR+",ban"),this.connection.close("Closing connection to: "+player.name),!1;e.membershipTime>i&&(user.membership=!0);i=u.AES.decrypt(this.hash,this.hashChallenge),i=JSON.parse(i.toString(u.enc.Utf8)),i=a.createHash("sha1").update(i+e.salt).digest("hex");if(console.info("checkUser: "+i+" != "+e.hash),i!=e.hash)return this.connection.sendUTF8(c.Messages.SC_ERROR+",invalidlogin"),3<++this.passwordTries&&this.connection.close("Wrong Password: "+this.name),!1;if(console.warn(JSON.stringify(users)),console.info("LOGIN: "+this.name),!t&&users.hasOwnProperty(this.name)&&1==users[this.name])return this.connection.sendUTF8(c.Messages.SC_ERROR+",loggedin"),!1;users[this.name]=1,this.hasLoggedIn=!0;new Date,new Date(e.lastLoginTime);return!0},sendPlayers:function(e){if(this.loadedUser=!0,Array.isArray(e)){for(var t=[c.Messages.SC_PLAYER_SUM,e.length],i=0;i<e.length;++i){var n=new d(i,e[i]);this.players.push(n),t=t.concat(n.toArray())}this.connection.sendUTF8(t.join(","))}else this.connection.sendUTF8(c.Messages.SC_PLAYER_SUM+",0")},handleCreatePlayer:function(e){var i=this,n=parseInt(e[0]),e={name:s.sanitize(e[1])};if(console.info("Starting Client/Server Handshake"),e.name=e.name.substr(0,16).trim(),s.checkInputName(e.name)){var e={name:e.name,map:0,exp:0,colors:[0,0],sprites:[0,0]},a=new d(this.players.length,e);this.players.push(a),console.info("self.player.name="+e.name);try{DBH.createPlayer(this,e,function(e){var t;i.loginPlayer(n,a)&&((t=i.currentPlayer).name=e.name,players.push(t),t.sendPlayer(e))})}catch(e){console.info("message="+e.message),console.info("stack="+e.stack)}}else user.connection.sendUTF8(c.Messages.SC_ERROR+",invalidname")},handleLoginPlayer:function(e){var t=parseInt(e[0]),e=parseInt(e[1]);if(e<0&&e>=this.players.length)return!1;this.loginPlayer(t,this.players[e])&&DBH.loadPlayer(this.currentPlayer)},loginPlayer:function(e,t){if(e<0&&e>=worlds.length)return!1;console.info("worldIndex: "+e);var e=worlds[e],i=new Player(this,this.main,this.connection,e);return i.name=t.name,i.hasLoggedIn=!0,i.packetHandler.loadedPlayer=!0,e.connect_callback(i),this.currentPlayer=i,this.loadedPlayer=!0},modifyGems:function(e){return e=parseInt(e),this.gems-e<0?(this.connection.send(new r.Notify("SHOP","SHOP_NOGEMS").serialize()),!1):(this.gems+=e,this.connection.send(new r.Gold(this.currentPlayer).serialize()),!0)}})},{"../shared/js/gametypes":552,"./data/appearancedata":11,"./format":37,"./lib/class":42,"./message":48,"./packethandler":53,"./utils":69,bcrypt:92,"body-parser":95,crypto:void 0,"crypto-js":135,express:250,underscore:508}],69:[function(e,t,i){var a={},n=e("sanitizer"),r=e("../shared/js/gametypes"),s=e("../shared/js/itemtypes");a.sanitize=function(e){return n.escape(n.sanitize(e))},a.random=function(e){return Math.floor(Math.random()*e)},a.randomRange=function(e,t){return e+Math.random()*(t-e)},a.randomInt=function(e){return Math.floor(Math.random()*(e+1))},a.randomRangeInt=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},a.percentToBool=function(e){return Math.random()<.01*e},a.ratioToBool=function(e){return Math.random()<e},a.clamp=function(e,t,i){return i<e?e:t<i?t:i},a.randomOrientation=function(){var e,t=a.random(4);return 0===t&&(e=r.Orientations.LEFT),1===t&&(e=r.Orientations.RIGHT),2===t&&(e=r.Orientations.UP),e=3===t?r.Orientations.DOWN:e},a.getOrientationString=function(e){var t="NONE";return 1===e?t="UP":2===e?t="DOWN":3===e?t="LEFT":4===e&&(t="RIGHT"),t},a.getOrientationFromLastMove=function(e){var t,i,n;return e.path&&0!=e.path.length?(t=e.path[e.path.length-1][0],i=e.path[e.path.length-1][1],e=1==e.path.length?(n=e.x,e.y):(n=e.path[e.path.length-2][0],e.path[e.path.length-2][1]),n<t?r.Orientations.RIGHT:t<n?r.Orientations.LEFT:e<i?r.Orientations.DOWN:i<e?r.Orientations.UP:void 0):a.randomOrientation()},a.randomPositionNextTo=function(e){var t=e.x,e=e.y,i=a.random(4);return 0===i&&--t,1===i&&++t,2===i&&--e,3===i&&++e,{x:t,y:e}},a.Mixin=function(e,t){if(t)for(var i,n=Object.keys(t),a=n.length;a--;)i=n[a],t.hasOwnProperty(i)&&(e[i]=t[i]);return e},a.distanceTo=function(e,t,i,n){e=Math.abs(e-i),i=Math.abs(t-n);return i<e?e:i},a.manhattenDistance=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},a.realDistance=function(e,t){return~~Math.pow(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2),.5)},a.NaN2Zero=function(e){return isNaN(+e)?0:+e},a.trueFalse=function(e){return"true"===e},a.utilSleep=function(t){return new Promise(e=>setTimeout(e,t))},a.removeDoubleQuotes=function(e){return e.toString().replace(/^"(.+(?="$))"$/,"$1")},a.max=function(e,t){Math.max.apply(Math,e.map(function(e){return e[t]}))},a.min=function(e,t){Math.min.apply(Math,e.map(function(e){return e[t]}))},a.array_values=function(e){var t=[],i="";for(i in e)t[t.length]=e[i];return t},a.arraysEqual=function(e,t){if(e!==t){if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1}return!0},a.setEquipmentBonus=function(e){if(s.isWeapon(e)||s.isArcherWeapon(e)||s.isArmor(e))for(var t=a.random(1024),i=0,n=1;n<=1024;n*=2){if(t<n)return Math.max(10-i,1);++i}return 1},a.pad=function(e,t){for(var i=e+"";i.length<t;)i="0"+i;return i},a.checkInputName=function(e){if(null===e)return!1;if(""===e)return!1;if(" "===e)return!1;for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);if(!(44032<=i&&i<=55203||12593<=i&&i<=12686||97<=i&&i<=122||65<=i&&i<=90||48<=i&&i<=57))return!1}return!0},Array.prototype.last||Object.defineProperty(Array.prototype,"last",{value:function(){return this[this.length-1]}}),Array.prototype.parseInt||Object.defineProperty(Array.prototype,"parseInt",{value:function(){return this.map(function(e){return parseInt(e,10)})}}),ArrayParseInt=function(){return this.map(function(e){return parseInt(e,10)})},String.prototype.reverse||(String.prototype.reverse=function(){return this.split("").reverse().join("")}),a.BinToHex=function(e){for(var t=Math.ceil(e.length/4),i="",n=0;n<t;n++){j=4*n;var a=e.slice(j,j+4).join("");i+=parseInt(a,2).toString(16).toUpperCase()}return i},a.HexToBin=function(e){for(var t,i=Math.ceil(e.length),n="",a=0;a<i;a++)t=e.substr(a,1),n+=parseInt(t,16).toString(2).padStart(4,"0");return new Uint8Array(n.split(""))},a.ceilGrid=function(e){return~~(e+.5)},Number.prototype.ceilGrid||(Number.prototype.ceilGrid=function(){return~~(this+.5)}),a.minProp=function(e,i){return e.reduce(function(e,t){return e[i]<t[i]?e:t})},a.maxProp=function(e,i){return e.reduce(function(e,t){return e[i]>t[i]?e:t})},a.Sleep=function(t){return new Promise(e=>setTimeout(e,t))};a.GetGroupCountArray=function(e,t){i=t;var i,n,a=e.reduce(function(e,t){return(e[t[i]]=e[t[i]]||[]).push(t),e},{}),r=[];for(n in a)r.push([n,a[n].length]);return console.info(JSON.stringify(r)),r.sort(function(e,t){return e[1]-t[1]}),r},a.roundTo=function(e,t){return Math.round(e/t)*t},a.floorTo=function(e,t){return Math.floor(e/t)*t},a.ceilTo=function(e,t){return Math.ceil(e/t)*t},a.btoa=function(e){return Buffer.from(e,"base64").toString("utf8")},a.getGridPosition=function(e,t){return{gx:e>>4,gy:t>>4}},t.exports=a},{"../shared/js/gametypes":552,"../shared/js/itemtypes":553,sanitizer:417}],70:[function(e,t,i){var n=e("./lib/class"),a=e("underscore"),l=(e("log"),e("./entity/entity"),e("./entityspawn"),e("./entity/character"),e("./entity/npcstatic"),e("./entity/npcmove"),e("./entity/player")),r=e("./entity/item"),p=e("./entity/chest"),u=e("./entity/mob"),s=(e("./entity/node"),e("./map"),e("./mapmanager")),d=(e("./mapentities"),e("./data/npcdata"),e("./data/itemdata")),h=(e("./data/appearancedata"),e("./message")),f=(e("./data/mobdata"),e("./utils")),m=(e("../shared/js/gametypes"),e("../shared/js/itemtypes")),o=(e("./playercontroller"),e("./npcmovecontroller"),e("./data/skilldata"),e("util"),e("./pathfinder"),e("./data/notificationdata.js")),c=e("../shared/data/products.json"),y=e("./updater"),g=e("./auction"),v=e("./looks"),b=e("./party"),x=e("./taskhandler");t.exports=World=n.Class.extend({init:function(e,t,i,n){var a=this;for(e in a.id=e,a.maxPlayers=t,a.socket=i,a.database=n,a.mapManager=new s(a),a.taskHandler=new x,a.maps=a.mapManager.maps,a.party=[],a.itemCount=0,a.uselessDebugging=!1,a.expMultiplier=0,a.mapManager.onMapsReady(function(){for(mapId in console.info("ALL MAPS LOADED BITCHES!"),a.maps=a.mapManager.maps,a.maps){var e=a.maps[mapId];e.updater=new y(a,e)}}),a.bets=[],a.products=JSON.parse(JSON.stringify(c)),a.auction=new g,a.looks=new v,a.lastUpdateTime=Date.now(),a.onPlayerConnect(function(e){e.map=a.maps[1]}),a.onPlayerEnter(function(i){console.info("Player: "+i.name+" has entered the "+i.map.name+" map."),i.map.entities.pushBroadcast(new h.Notify("MAP","MAP_ENTERED",[i.name,i.map.name]),!0),i.onDeath(function(){i.forEachAttacker(function(e){e.removeAttacker(i),e instanceof u&&e.forgetPlayer(i.id)})});i.packetHandler.onMove(function(e){}.bind(i)),i.packetHandler.onBroadcast(function(e,t){i.map.entities.pushBroadcast(e,t?i.id:null)}),i.packetHandler.onExit(function(){var e;console.info("Player: "+i.name+" has exited the world."),i.map.entities.removePlayer(i),i.party&&((e=i.party).removePlayer(i),i.packetHandler.handlePartyAbandoned(e)),a.removed_callback&&a.removed_callback()}),a.added_callback&&a.added_callback()}),a.onEntityAttack(function(e){e.target}),a.onRegenTick(function(){for(mapId in a.maps){var e=a.maps[mapId];e&&e.isLoaded&&e.entities&&(e.entities.forEachPlayer(function(e){e instanceof l&&(e.isDead||e.hasFullHealth()||e.isAttacked()||e.modHealthBy(Math.floor(e.stats.hpMax/8)))}),e.entities.forEachMob(function(e){e instanceof u&&(e.isDead||e.hasFullHealth()||e.isAttacked()||e.x!=e.spawnX||e.y!=e.spawnY||e.modHealthBy(Math.floor(e.stats.hpMax/8)))}))}}),a.notify=o.Notifications,a.notify)a.notify[e].lastTime=Date.now()-this._idleStart;setInterval(function(){for(var e in a.notify){e=a.notify[e];Date.now()-e.lastTime>=6e4*e.interval&&(a.pushWorld(new h.Notify("NOTICE",e.textid)),e.lastTime=Date.now())}},6e4)},stop:function(){this.save()},save:function(){for(mapId in this.maps){var t,e=this.maps[mapId];e&&e.isLoaded&&e.entities&&(t=0,e.entities.forEachPlayer(function(e){e.save(),e.isSaved&&t++}),e.entities.players.length==t)&&(PLAYERS_SAVED=!0)}this.auction.save(),this.looks.save()},update:function(){for(mapId in this.lastUpdateTime=Date.now(),this.maps){var e=this.maps[mapId];e&&e.ready&&e.entities&&e.updater&&0<Object.keys(e.entities.players).length&&e.updater.update()}},run:function(){var a=this,n=(setInterval(function(){a.update()},G_UPDATE_INTERVAL),function(){var e,t=a.maps;for(e in t){var i=t[e];i&&i.ready&&i.entities&&i.updater&&0<Object.keys(i.entities.players).length&&i.entities.processPackets()}setTimeout(n,16)});setTimeout(n,0),setInterval(function(){for(mapId in a.maps){var e=a.maps[mapId];e&&e.ready&&e.entities&&0<Object.keys(e.entities.players).length&&e.entities.mobAI.update()}},256),setInterval(function(){a.regen_callback&&a.regen_callback()},1e4),setInterval(function(){a.exp_callback&&a.exp_callback()},6e4),setInterval(function(){a.pvp_regen_callback&&a.pvp_regen_callback()},3e5),setInterval(function(){for(mapId in a.maps){var e,t,i=a.maps[mapId],n=i.entities.players;if(i&&i.ready&&i.mobArea&&0<Object.keys(n).length)for(t in n)(e=n[t])&&i.entities.mobAI.Roaming(e)}},1e3),setInterval(function(){for(mapId in a.maps){var e=a.maps[mapId];if(e&&e.ready)for(id in e.players){var t=e.players[id];t.idleTimer.isOver(),t.packetHandler.exit_callback()}}},3e5),setInterval(function(){a.save()},18e5)},addParty:function(e,t){e=new b(e,t);return this.party.push(e),e},removeParty:function(t){this.party=a.reject(this.party,function(e){return e===t}),delete t},loggedInPlayer:function(e){for(mapId in this.maps){var t=this.maps[mapId];if(t.ready&&t.entities)for(var i in t.entities.players)if(t.entities.players.hasOwnProperty(i)&&t.entities.players[i].name==e&&!t.entities.players[i].isDead)return console.info("loggedInPlayer: true"),!0}return console.info("loggedInPlayer: false"),!1},getPlayerByName:function(e){for(mapId in this.maps){var t=this.maps[mapId];if(t.ready&&t.entities)for(var i in t.entities.players)if(t.entities.players.hasOwnProperty(i)&&t.entities.players[i].name==e)return t.entities.players[i]}return null},handlePlayerVanish:function(t){t.forEachAttacker(function(e){e instanceof u&&(t.removeAttacker(e),e.clearTarget(),e.forgetPlayer(t.id,1e3))})},handleMobHate:function(e,t,i){console.info("handleMobHate"),e&&t&&t instanceof l&&e instanceof u&&(e.increaseHateFor(t,i),0<e.stats.hp)&&(t=e.getMostHated())&&this.createAttackLink(e,t)},handleDropItem:function(e,t){var i=this.getLootItem(t,e,0);i&&i instanceof r?(console.info("LOOT ITEM SENT!"),i.x=e.x,i.y=e.y,this.handleItemDespawn(i)):(i=this.getDroppedOrStolenItem(t,e,0))&&i instanceof r&&(i.x=e.x,i.y=e.y,this.handleItemDespawn(i))},handleDamage:function(e,t,i,n){if(e.effects){console.info("entity.effects: "+JSON.stringify(e.effects));var a,r,s=[];for([a,r]of Object.entries(e.effects))1==r&&s.push(parseInt(a))}var o=-i;console.info("effects: "+JSON.stringify(s)),console.info("DAMAGE: "+i),console.info("CRIT: "+n),e.onDamage(t,o,0,n,s)},handleEntityDeath:function(e,t){t instanceof l&&(t.skillHandler.setXPs(),this.taskHandler.processEvent(t,PlayerEvent(EventType.KILLMOB,e,1))),this.handleDropItem(e,t),e instanceof l&&(e.forEachAttacker(function(e){e.returnToSpawn()}),this.handlePlayerVanish(e))},handleHurtEntity:function(i,e){var n=this;i&&e&&i.stats.hp<=0&&(i instanceof u&&i.onKilled(function(e,t){e instanceof l&&n.taskHandler.processEvent(e,PlayerEvent(EventType.DAMAGE,i,t))}),a.each(i.attackers,function(e){e instanceof l&&delete e.knownIds[i.id]}),this.handleEntityDeath(i,e),i.die(e))},handlePickpocket:function(e,t){t=this.getDroppedOrStolenItem(e,t,1);t instanceof ItemRoom&&e.inventory.hasRoom()&&e.inventory.putItem(t)},handleItemDespawn:function(e){e&&e.handleDespawn({beforeBlinkDelay:2e4,blinkCallback:function(){},blinkingDuration:8e3,despawnCallback:function(){e.map.entities.itemDespawn(e)}})},getLootItem:function(e,t,i){var n=null;if(!(!t instanceof u||!t instanceof p)){var a,r,s=f.randomRangeInt(0,1e3),o=t.questDrops;for(a in o){var c=o[a];if(0<=s&&s<c){n=a;break}s-=c}return n?(r=new ItemRoom(parseInt(n),1,0,0,0),(r=t.map.entities.createItem(r,t.x,t.y,1)).count=1,r.experience=0,t.map.entities.pushNeighbours(t,r.spawn()),t.map.entities.addItem(r)):null}},getPlayerDrop:function(e,t,i){var n,a,r=t.inventory.getRandomItemNumber();if(-1!=r)return item=t.inventory.rooms[r],n=1,m.isConsumableItem(item.itemKind)&&(n=Math.floor((Math.random()*t.level+2)/2))>item.itemNumber&&(n=item.itemNumber),i?((a=Object.assign(new ItemRoom,item)).itemNumber=n,e.map.entities.pushToPlayer(e,new h.Notify("CHAT","ITEM_ADDED",[d.Kinds[item.itemKind].name]))):a=t.map.entities.addItem(t.map.entities.createItem(type,item,t.x,t.y,n)),t.inventory.takeOutItems(r,n),a},getDrop:function(e,t,i){if(1!=t.droppedItem){t.droppedItem=!0;var n,a,r,s=t.drops,o=f.random(1e3);for(a in s){var c=s[a];if(0<=o&&o<c){n=a;break}o-=c}if(!n)return null;m.isEquippable(n)?(c=f.setEquipmentBonus(n),(r=new ItemRoom(n,c,0,0,900,900,0)).itemExperience=m.itemExpForLevel[c-1]):r=new ItemRoom(n,1,0,0,0,0,0);var p=t.map.entities.createItem(r,t.x,t.y,1);return i?(e instanceof l&&e.map.entities.pushToPlayer(e,new h.Notify("CHAT","ITEM_ADDED",[d.Kinds[p.itemKind].name])),r):(t.data&&t.data.dropBonus&&(p.count+=t.data.dropBonus),t.map.entities.pushNeighbours(t,p.spawn()),p.enemyDrop=!0,t.map.entities.addItem(p))}},getGoldDrop:function(e,t,i){t=t.dropGold();e instanceof l&&e.modifyGold(t)},getDroppedOrStolenItem:function(e,t,i){return e instanceof l&&t instanceof l?(this.getGoldDrop(e,t,i),this.getPlayerDrop(e,t,i)):t instanceof u||t instanceof p?(this.getGoldDrop(e,t,i),this.getDrop(e,t,i)):null},moveEntity:function(e,t,i){e&&e.setPosition(t,i)},onInit:function(e){this.init_callback=e},onPlayerConnect:function(e){this.connect_callback=e},onPlayerEnter:function(e){this.enter_callback=e},onPlayerAdded:function(e){this.added_callback=e},onPlayerRemoved:function(e){this.removed_callback=e},onRegenTick:function(e){this.regen_callback=e},onPvpRegenTick:function(e){this.pvp_regen_callback=e},onExpTick:function(e){this.exp_callback=e},onEntityAttack:function(e){this.attack_callback=e},onMobMoveCallback:function(e){},pushWorld:function(e){for(var t in this.maps){var i=this.maps[t];if(i.entities&&0<Object.keys(i.entities.packets).length)for(var n in i.entities.packets)i.entities.packets[n].push(e.serialize())}},getPopulation:function(){var e,t=0;for(e in this.maps){var i=this.maps[e];t+=Object.keys(i.entities.players).length}return t},createAttackLink:function(e,t){e.hasTarget()&&e.removeTarget(),e.setTarget(t),t.addAttacker(e),e.addAttacker(t)},getEntityByName:function(e){for(var t of players)if(t.name.toLowerCase()===e.toLowerCase())return t;return null}})},{"../shared/data/products.json":548,"../shared/js/gametypes":552,"../shared/js/itemtypes":553,"./auction":8,"./data/appearancedata":11,"./data/itemdata":12,"./data/mobdata":15,"./data/notificationdata.js":17,"./data/npcdata":18,"./data/skilldata":20,"./entity/character":24,"./entity/chest":25,"./entity/entity":26,"./entity/item":28,"./entity/mob":29,"./entity/node":30,"./entity/npcmove":31,"./entity/npcstatic":32,"./entity/player":33,"./entityspawn":35,"./lib/class":42,"./looks":43,"./map":45,"./mapentities":46,"./mapmanager":47,"./message":48,"./npcmovecontroller":52,"./party":54,"./pathfinder":55,"./playercontroller":56,"./taskhandler":62,"./updater":67,"./utils":69,log:339,underscore:508,util:void 0}],71:[function(e,t,i){var n=e("underscore"),a=(e("bison"),e("./lib/class")),r=e("http"),s=e("https");const o=e("socket.io")["Server"];e("url"),e("./utils");var c={},p=e("zlib"),l=(e("connect"),e("fs")),e=(t.exports=c,a.Class.extend({init:function(){},onConnect:function(e){this.connectionCallback=e},onError:function(e){this.errorCallback=e},broadcast:function(e){throw"Not implemented"},forEachConnection:function(e){n.each(this._connections,e)},addConnection:function(e){this._connections[e.id]=e},removeConnection:function(e){delete this._connections[e]},getConnection:function(e){return this._connections[e]}})),t=a.Class.extend({init:function(e,t,i){this._connection=t,this._server=i,this.id=e},onClose:function(e){this.closeCallback=e},listen:function(e){this.listenCallback=e},broadcast:function(e){throw"Not implemented"},send:function(e){throw"Not implemented"},sendUTF8:function(e){throw"Not implemented"},close:function(e){console.info("Closing connection to "+this._connection.remoteAddress+". "+e),this._connection.conn.close()}});c.WebsocketServer=e.extend({_connections:{},_counter:0,init:function(e){var t=this,i=(this._super(),{}),n=(""!=e.https_cert&&(i.cert=l.readFileSync(e.https_cert)),""!=e.https_key&&(i.key=l.readFileSync(e.https_key)),r);"https"==e.protocol&&(n=s);this._protoServer=n.createServer(i),this._protoServer.listen(e.port,e.ip,function(){console.info("Server (only) is listening on port "+e.port)}),this._ioServer=new o(this._protoServer,{cors:{origin:"*"}}),this._ioServer.on("connection",function(e){console.info("Client socket connected from "+e.conn.remoteAddress),e.remoteAddress=e.conn.remoteAddress,e=new c.socketioConnection(t._createId(),e,t),t.connectionCallback&&t.connectionCallback(e),t.addConnection(e)}),this._ioServer.on("connect_error",function(e){console.error(e)})},_createId:function(){return 5e4+this._counter++},broadcast:function(t){this.forEachConnection(function(e){e.send(t)})},onRequestStatus:function(e){this.statusCallback=e}}),c.socketioConnection=t.extend({init:function(e,t,i){var n=this;this._super(e,t,i),this._connection.on("message",function(e){var t=e.charAt(0);"2"==t?(t=Buffer.from(t,"base64"),p.gunzip(t,(e,t)=>{e?console.log(e.toString()):n.listenCallback&&n.listenCallback(JSON.parse(t))})):n.listenCallback&&n.listenCallback(JSON.parse(e.substr(1)))}),this._connection.on("disconnect",function(){console.info("Client closed socket "+n._connection.conn.remoteAddress),n.closeCallback&&n.closeCallback(),n._server.removeConnection(n.id)})},send:function(e){console.info("send="+e);var i=this,e=JSON.stringify(e);2048<=e.length?p.gzip(e,{level:1},(e,t)=>{t=new Buffer(t).toString("base64"),i.sendUTF8("2"+t)}):i.sendUTF8("1"+e)},sendUTF8:function(e){this._connection.send(e)}})},{"./lib/class":42,"./utils":69,bison:94,connect:113,fs:void 0,http:void 0,https:void 0,"socket.io":485,underscore:508,url:void 0,zlib:void 0}],72:[function(u,d,h){!function(l){!function(){"use strict";(d.exports=h).mockS3Http=u("./util/s3_setup").get_mockS3Http(),h.mockS3Http("on");var e=h.mockS3Http("get");const t=u("fs"),r=u("path"),s=u("nopt"),o=u("npmlog"),c=(o.disableProgress(),u("./util/napi.js"));var i=u("events").EventEmitter,n=u("util").inherits;const a=["clean","install","reinstall","build","rebuild","package","testpackage","publish","unpublish","info","testbinary","reveal","configure"];function p({package_json_path:e="./package.json",argv:t}){this.package_json_path=e,this.commands={};const n=this;a.forEach(i=>{n.commands[i]=function(e,t){return o.verbose("command",i,e),u("./"+i)(n,e,t)}}),this.parseArgv(t),this.binaryHostSet=!1}o.heading="node-pre-gyp",e&&o.warn("mocking s3 to "+process.env.node_pre_gyp_mock_s3),Object.defineProperty(h,"find",{get:function(){return u("./pre-binding").find},enumerable:!0}),n(p,i);e=(h.Run=p).prototype;e.package=u("../package.json"),e.configDefs={help:Boolean,arch:String,debug:Boolean,directory:String,proxy:String,loglevel:String},e.shorthands={release:"--no-debug",C:"--directory",debug:"--debug",j:"--jobs",silent:"--loglevel=silent",silly:"--loglevel=silly",verbose:"--loglevel=verbose"},e.aliases={},e.parseArgv=function(i){this.opts=s(this.configDefs,this.shorthands,i),this.argv=this.opts.argv.remain.slice();const n=this.todo=[];(i=this.argv.map(e=>e=e in this.aliases?this.aliases[e]:e)).slice().forEach(e=>{var t;e in this.commands&&(t=i.splice(0,i.indexOf(e)),i.shift(),0<n.length&&(n[n.length-1].args=t),n.push({name:e,args:[]}))}),0<n.length&&(n[n.length-1].args=i.splice(0));let e=this.package_json_path;this.opts.directory&&(e=r.join(this.opts.directory,e)),this.package_json=JSON.parse(t.readFileSync(e)),this.todo=c.expand_commands(this.package_json,this.opts,n);const a="npm_config_";Object.keys(process.env).forEach(e=>{var t;0===e.indexOf(a)&&(t=process.env[e],e===a+"loglevel"?o.level=t:"argv"===(e=e.substring(a.length))&&this.opts.argv&&this.opts.argv.remain&&this.opts.argv.remain.length||(this.opts[e]=t))}),this.opts.loglevel&&(o.level=this.opts.loglevel),o.resume()},e.setBinaryHostProperty=function(e){if(this.binaryHostSet)return this.package_json.binary.host;var t=this.package_json;if(!t||!t.binary||t.binary.host)return"";if(!t.binary.staging_host||!t.binary.production_host)return"";let i="production_host";"publish"!==e&&"unpublish"!==e||(i="staging_host");e=process.env.node_pre_gyp_s3_host;if("staging"===e||"production"===e)i=e+"_host";else if("staging"===this.opts.s3_host||"production"===this.opts.s3_host)i=this.opts.s3_host+"_host";else if(this.opts.s3_host||e)throw new Error("invalid s3_host "+(this.opts.s3_host||e));return t.binary.host=t.binary[i],this.binaryHostSet=!0,t.binary.host},e.usage=function(){return["","  Usage: node-pre-gyp <command> [options]","","  where <command> is one of:",a.map(e=>"    - "+e+" - "+u("./"+e).usage).join("\n"),"","node-pre-gyp@"+this.version+"  "+r.resolve(l,".."),"node@"+process.versions.node].join("\n")},Object.defineProperty(e,"version",{get:function(){return this.package.version},enumerable:!0})}.call(this)}.call(this,u("path").join(__dirname,"node_modules","@mapbox","node-pre-gyp","lib"))},{"../package.json":78,"./pre-binding":73,"./util/napi.js":75,"./util/s3_setup":76,events:void 0,fs:void 0,nopt:362,npmlog:363,path:void 0,util:void 0}],73:[function(e,t,i){"use strict";const a=e(".."),r=e("../lib/util/versioning.js"),s=e("../lib/util/napi.js"),o=e("fs").existsSync||e("path").existsSync,c=e("path");(t.exports=i).usage="Finds the require path for the node-pre-gyp installed module",i.validate=function(e,t){r.validate_config(e,t)},i.find=function(e,t){if(!o(e))throw new Error(e+"does not exist");var i=new a.Run({package_json_path:e,argv:process.argv}),i=(i.setBinaryHostProperty(),i.package_json);r.validate_config(i,t);let n;return s.get_napi_build_versions(i,t)&&(n=s.get_best_napi_build_version(i,t)),(t=t||{}).module_root||(t.module_root=c.dirname(e)),r.evaluate(i,t,n).module}},{"..":72,"../lib/util/napi.js":75,"../lib/util/versioning.js":77,fs:void 0,path:void 0}],74:[function(e,t,i){t.exports={"0.1.14":{node_abi:null,v8:"1.3"},"0.1.15":{node_abi:null,v8:"1.3"},"0.1.16":{node_abi:null,v8:"1.3"},"0.1.17":{node_abi:null,v8:"1.3"},"0.1.18":{node_abi:null,v8:"1.3"},"0.1.19":{node_abi:null,v8:"2.0"},"0.1.20":{node_abi:null,v8:"2.0"},"0.1.21":{node_abi:null,v8:"2.0"},"0.1.22":{node_abi:null,v8:"2.0"},"0.1.23":{node_abi:null,v8:"2.0"},"0.1.24":{node_abi:null,v8:"2.0"},"0.1.25":{node_abi:null,v8:"2.0"},"0.1.26":{node_abi:null,v8:"2.0"},"0.1.27":{node_abi:null,v8:"2.1"},"0.1.28":{node_abi:null,v8:"2.1"},"0.1.29":{node_abi:null,v8:"2.1"},"0.1.30":{node_abi:null,v8:"2.1"},"0.1.31":{node_abi:null,v8:"2.1"},"0.1.32":{node_abi:null,v8:"2.1"},"0.1.33":{node_abi:null,v8:"2.1"},"0.1.90":{node_abi:null,v8:"2.2"},"0.1.91":{node_abi:null,v8:"2.2"},"0.1.92":{node_abi:null,v8:"2.2"},"0.1.93":{node_abi:null,v8:"2.2"},"0.1.94":{node_abi:null,v8:"2.2"},"0.1.95":{node_abi:null,v8:"2.2"},"0.1.96":{node_abi:null,v8:"2.2"},"0.1.97":{node_abi:null,v8:"2.2"},"0.1.98":{node_abi:null,v8:"2.2"},"0.1.99":{node_abi:null,v8:"2.2"},"0.1.100":{node_abi:null,v8:"2.2"},"0.1.101":{node_abi:null,v8:"2.3"},"0.1.102":{node_abi:null,v8:"2.3"},"0.1.103":{node_abi:null,v8:"2.3"},"0.1.104":{node_abi:null,v8:"2.3"},"0.2.0":{node_abi:1,v8:"2.3"},"0.2.1":{node_abi:1,v8:"2.3"},"0.2.2":{node_abi:1,v8:"2.3"},"0.2.3":{node_abi:1,v8:"2.3"},"0.2.4":{node_abi:1,v8:"2.3"},"0.2.5":{node_abi:1,v8:"2.3"},"0.2.6":{node_abi:1,v8:"2.3"},"0.3.0":{node_abi:1,v8:"2.5"},"0.3.1":{node_abi:1,v8:"2.5"},"0.3.2":{node_abi:1,v8:"3.0"},"0.3.3":{node_abi:1,v8:"3.0"},"0.3.4":{node_abi:1,v8:"3.0"},"0.3.5":{node_abi:1,v8:"3.0"},"0.3.6":{node_abi:1,v8:"3.0"},"0.3.7":{node_abi:1,v8:"3.0"},"0.3.8":{node_abi:1,v8:"3.1"},"0.4.0":{node_abi:1,v8:"3.1"},"0.4.1":{node_abi:1,v8:"3.1"},"0.4.2":{node_abi:1,v8:"3.1"},"0.4.3":{node_abi:1,v8:"3.1"},"0.4.4":{node_abi:1,v8:"3.1"},"0.4.5":{node_abi:1,v8:"3.1"},"0.4.6":{node_abi:1,v8:"3.1"},"0.4.7":{node_abi:1,v8:"3.1"},"0.4.8":{node_abi:1,v8:"3.1"},"0.4.9":{node_abi:1,v8:"3.1"},"0.4.10":{node_abi:1,v8:"3.1"},"0.4.11":{node_abi:1,v8:"3.1"},"0.4.12":{node_abi:1,v8:"3.1"},"0.5.0":{node_abi:1,v8:"3.1"},"0.5.1":{node_abi:1,v8:"3.4"},"0.5.2":{node_abi:1,v8:"3.4"},"0.5.3":{node_abi:1,v8:"3.4"},"0.5.4":{node_abi:1,v8:"3.5"},"0.5.5":{node_abi:1,v8:"3.5"},"0.5.6":{node_abi:1,v8:"3.6"},"0.5.7":{node_abi:1,v8:"3.6"},"0.5.8":{node_abi:1,v8:"3.6"},"0.5.9":{node_abi:1,v8:"3.6"},"0.5.10":{node_abi:1,v8:"3.7"},"0.6.0":{node_abi:1,v8:"3.6"},"0.6.1":{node_abi:1,v8:"3.6"},"0.6.2":{node_abi:1,v8:"3.6"},"0.6.3":{node_abi:1,v8:"3.6"},"0.6.4":{node_abi:1,v8:"3.6"},"0.6.5":{node_abi:1,v8:"3.6"},"0.6.6":{node_abi:1,v8:"3.6"},"0.6.7":{node_abi:1,v8:"3.6"},"0.6.8":{node_abi:1,v8:"3.6"},"0.6.9":{node_abi:1,v8:"3.6"},"0.6.10":{node_abi:1,v8:"3.6"},"0.6.11":{node_abi:1,v8:"3.6"},"0.6.12":{node_abi:1,v8:"3.6"},"0.6.13":{node_abi:1,v8:"3.6"},"0.6.14":{node_abi:1,v8:"3.6"},"0.6.15":{node_abi:1,v8:"3.6"},"0.6.16":{node_abi:1,v8:"3.6"},"0.6.17":{node_abi:1,v8:"3.6"},"0.6.18":{node_abi:1,v8:"3.6"},"0.6.19":{node_abi:1,v8:"3.6"},"0.6.20":{node_abi:1,v8:"3.6"},"0.6.21":{node_abi:1,v8:"3.6"},"0.7.0":{node_abi:1,v8:"3.8"},"0.7.1":{node_abi:1,v8:"3.8"},"0.7.2":{node_abi:1,v8:"3.8"},"0.7.3":{node_abi:1,v8:"3.9"},"0.7.4":{node_abi:1,v8:"3.9"},"0.7.5":{node_abi:1,v8:"3.9"},"0.7.6":{node_abi:1,v8:"3.9"},"0.7.7":{node_abi:1,v8:"3.9"},"0.7.8":{node_abi:1,v8:"3.9"},"0.7.9":{node_abi:1,v8:"3.11"},"0.7.10":{node_abi:1,v8:"3.9"},"0.7.11":{node_abi:1,v8:"3.11"},"0.7.12":{node_abi:1,v8:"3.11"},"0.8.0":{node_abi:1,v8:"3.11"},"0.8.1":{node_abi:1,v8:"3.11"},"0.8.2":{node_abi:1,v8:"3.11"},"0.8.3":{node_abi:1,v8:"3.11"},"0.8.4":{node_abi:1,v8:"3.11"},"0.8.5":{node_abi:1,v8:"3.11"},"0.8.6":{node_abi:1,v8:"3.11"},"0.8.7":{node_abi:1,v8:"3.11"},"0.8.8":{node_abi:1,v8:"3.11"},"0.8.9":{node_abi:1,v8:"3.11"},"0.8.10":{node_abi:1,v8:"3.11"},"0.8.11":{node_abi:1,v8:"3.11"},"0.8.12":{node_abi:1,v8:"3.11"},"0.8.13":{node_abi:1,v8:"3.11"},"0.8.14":{node_abi:1,v8:"3.11"},"0.8.15":{node_abi:1,v8:"3.11"},"0.8.16":{node_abi:1,v8:"3.11"},"0.8.17":{node_abi:1,v8:"3.11"},"0.8.18":{node_abi:1,v8:"3.11"},"0.8.19":{node_abi:1,v8:"3.11"},"0.8.20":{node_abi:1,v8:"3.11"},"0.8.21":{node_abi:1,v8:"3.11"},"0.8.22":{node_abi:1,v8:"3.11"},"0.8.23":{node_abi:1,v8:"3.11"},"0.8.24":{node_abi:1,v8:"3.11"},"0.8.25":{node_abi:1,v8:"3.11"},"0.8.26":{node_abi:1,v8:"3.11"},"0.8.27":{node_abi:1,v8:"3.11"},"0.8.28":{node_abi:1,v8:"3.11"},"0.9.0":{node_abi:1,v8:"3.11"},"0.9.1":{node_abi:10,v8:"3.11"},"0.9.2":{node_abi:10,v8:"3.11"},"0.9.3":{node_abi:10,v8:"3.13"},"0.9.4":{node_abi:10,v8:"3.13"},"0.9.5":{node_abi:10,v8:"3.13"},"0.9.6":{node_abi:10,v8:"3.15"},"0.9.7":{node_abi:10,v8:"3.15"},"0.9.8":{node_abi:10,v8:"3.15"},"0.9.9":{node_abi:11,v8:"3.15"},"0.9.10":{node_abi:11,v8:"3.15"},"0.9.11":{node_abi:11,v8:"3.14"},"0.9.12":{node_abi:11,v8:"3.14"},"0.10.0":{node_abi:11,v8:"3.14"},"0.10.1":{node_abi:11,v8:"3.14"},"0.10.2":{node_abi:11,v8:"3.14"},"0.10.3":{node_abi:11,v8:"3.14"},"0.10.4":{node_abi:11,v8:"3.14"},"0.10.5":{node_abi:11,v8:"3.14"},"0.10.6":{node_abi:11,v8:"3.14"},"0.10.7":{node_abi:11,v8:"3.14"},"0.10.8":{node_abi:11,v8:"3.14"},"0.10.9":{node_abi:11,v8:"3.14"},"0.10.10":{node_abi:11,v8:"3.14"},"0.10.11":{node_abi:11,v8:"3.14"},"0.10.12":{node_abi:11,v8:"3.14"},"0.10.13":{node_abi:11,v8:"3.14"},"0.10.14":{node_abi:11,v8:"3.14"},"0.10.15":{node_abi:11,v8:"3.14"},"0.10.16":{node_abi:11,v8:"3.14"},"0.10.17":{node_abi:11,v8:"3.14"},"0.10.18":{node_abi:11,v8:"3.14"},"0.10.19":{node_abi:11,v8:"3.14"},"0.10.20":{node_abi:11,v8:"3.14"},"0.10.21":{node_abi:11,v8:"3.14"},"0.10.22":{node_abi:11,v8:"3.14"},"0.10.23":{node_abi:11,v8:"3.14"},"0.10.24":{node_abi:11,v8:"3.14"},"0.10.25":{node_abi:11,v8:"3.14"},"0.10.26":{node_abi:11,v8:"3.14"},"0.10.27":{node_abi:11,v8:"3.14"},"0.10.28":{node_abi:11,v8:"3.14"},"0.10.29":{node_abi:11,v8:"3.14"},"0.10.30":{node_abi:11,v8:"3.14"},"0.10.31":{node_abi:11,v8:"3.14"},"0.10.32":{node_abi:11,v8:"3.14"},"0.10.33":{node_abi:11,v8:"3.14"},"0.10.34":{node_abi:11,v8:"3.14"},"0.10.35":{node_abi:11,v8:"3.14"},"0.10.36":{node_abi:11,v8:"3.14"},"0.10.37":{node_abi:11,v8:"3.14"},"0.10.38":{node_abi:11,v8:"3.14"},"0.10.39":{node_abi:11,v8:"3.14"},"0.10.40":{node_abi:11,v8:"3.14"},"0.10.41":{node_abi:11,v8:"3.14"},"0.10.42":{node_abi:11,v8:"3.14"},"0.10.43":{node_abi:11,v8:"3.14"},"0.10.44":{node_abi:11,v8:"3.14"},"0.10.45":{node_abi:11,v8:"3.14"},"0.10.46":{node_abi:11,v8:"3.14"},"0.10.47":{node_abi:11,v8:"3.14"},"0.10.48":{node_abi:11,v8:"3.14"},"0.11.0":{node_abi:12,v8:"3.17"},"0.11.1":{node_abi:12,v8:"3.18"},"0.11.2":{node_abi:12,v8:"3.19"},"0.11.3":{node_abi:12,v8:"3.19"},"0.11.4":{node_abi:12,v8:"3.20"},"0.11.5":{node_abi:12,v8:"3.20"},"0.11.6":{node_abi:12,v8:"3.20"},"0.11.7":{node_abi:12,v8:"3.20"},"0.11.8":{node_abi:13,v8:"3.21"},"0.11.9":{node_abi:13,v8:"3.22"},"0.11.10":{node_abi:13,v8:"3.22"},"0.11.11":{node_abi:14,v8:"3.22"},"0.11.12":{node_abi:14,v8:"3.22"},"0.11.13":{node_abi:14,v8:"3.25"},"0.11.14":{node_abi:14,v8:"3.26"},"0.11.15":{node_abi:14,v8:"3.28"},"0.11.16":{node_abi:14,v8:"3.28"},"0.12.0":{node_abi:14,v8:"3.28"},"0.12.1":{node_abi:14,v8:"3.28"},"0.12.2":{node_abi:14,v8:"3.28"},"0.12.3":{node_abi:14,v8:"3.28"},"0.12.4":{node_abi:14,v8:"3.28"},"0.12.5":{node_abi:14,v8:"3.28"},"0.12.6":{node_abi:14,v8:"3.28"},"0.12.7":{node_abi:14,v8:"3.28"},"0.12.8":{node_abi:14,v8:"3.28"},"0.12.9":{node_abi:14,v8:"3.28"},"0.12.10":{node_abi:14,v8:"3.28"},"0.12.11":{node_abi:14,v8:"3.28"},"0.12.12":{node_abi:14,v8:"3.28"},"0.12.13":{node_abi:14,v8:"3.28"},"0.12.14":{node_abi:14,v8:"3.28"},"0.12.15":{node_abi:14,v8:"3.28"},"0.12.16":{node_abi:14,v8:"3.28"},"0.12.17":{node_abi:14,v8:"3.28"},"0.12.18":{node_abi:14,v8:"3.28"},"1.0.0":{node_abi:42,v8:"3.31"},"1.0.1":{node_abi:42,v8:"3.31"},"1.0.2":{node_abi:42,v8:"3.31"},"1.0.3":{node_abi:42,v8:"4.1"},"1.0.4":{node_abi:42,v8:"4.1"},"1.1.0":{node_abi:43,v8:"4.1"},"1.2.0":{node_abi:43,v8:"4.1"},"1.3.0":{node_abi:43,v8:"4.1"},"1.4.1":{node_abi:43,v8:"4.1"},"1.4.2":{node_abi:43,v8:"4.1"},"1.4.3":{node_abi:43,v8:"4.1"},"1.5.0":{node_abi:43,v8:"4.1"},"1.5.1":{node_abi:43,v8:"4.1"},"1.6.0":{node_abi:43,v8:"4.1"},"1.6.1":{node_abi:43,v8:"4.1"},"1.6.2":{node_abi:43,v8:"4.1"},"1.6.3":{node_abi:43,v8:"4.1"},"1.6.4":{node_abi:43,v8:"4.1"},"1.7.1":{node_abi:43,v8:"4.1"},"1.8.1":{node_abi:43,v8:"4.1"},"1.8.2":{node_abi:43,v8:"4.1"},"1.8.3":{node_abi:43,v8:"4.1"},"1.8.4":{node_abi:43,v8:"4.1"},"2.0.0":{node_abi:44,v8:"4.2"},"2.0.1":{node_abi:44,v8:"4.2"},"2.0.2":{node_abi:44,v8:"4.2"},"2.1.0":{node_abi:44,v8:"4.2"},"2.2.0":{node_abi:44,v8:"4.2"},"2.2.1":{node_abi:44,v8:"4.2"},"2.3.0":{node_abi:44,v8:"4.2"},"2.3.1":{node_abi:44,v8:"4.2"},"2.3.2":{node_abi:44,v8:"4.2"},"2.3.3":{node_abi:44,v8:"4.2"},"2.3.4":{node_abi:44,v8:"4.2"},"2.4.0":{node_abi:44,v8:"4.2"},"2.5.0":{node_abi:44,v8:"4.2"},"3.0.0":{node_abi:45,v8:"4.4"},"3.1.0":{node_abi:45,v8:"4.4"},"3.2.0":{node_abi:45,v8:"4.4"},"3.3.0":{node_abi:45,v8:"4.4"},"3.3.1":{node_abi:45,v8:"4.4"},"4.0.0":{node_abi:46,v8:"4.5"},"4.1.0":{node_abi:46,v8:"4.5"},"4.1.1":{node_abi:46,v8:"4.5"},"4.1.2":{node_abi:46,v8:"4.5"},"4.2.0":{node_abi:46,v8:"4.5"},"4.2.1":{node_abi:46,v8:"4.5"},"4.2.2":{node_abi:46,v8:"4.5"},"4.2.3":{node_abi:46,v8:"4.5"},"4.2.4":{node_abi:46,v8:"4.5"},"4.2.5":{node_abi:46,v8:"4.5"},"4.2.6":{node_abi:46,v8:"4.5"},"4.3.0":{node_abi:46,v8:"4.5"},"4.3.1":{node_abi:46,v8:"4.5"},"4.3.2":{node_abi:46,v8:"4.5"},"4.4.0":{node_abi:46,v8:"4.5"},"4.4.1":{node_abi:46,v8:"4.5"},"4.4.2":{node_abi:46,v8:"4.5"},"4.4.3":{node_abi:46,v8:"4.5"},"4.4.4":{node_abi:46,v8:"4.5"},"4.4.5":{node_abi:46,v8:"4.5"},"4.4.6":{node_abi:46,v8:"4.5"},"4.4.7":{node_abi:46,v8:"4.5"},"4.5.0":{node_abi:46,v8:"4.5"},"4.6.0":{node_abi:46,v8:"4.5"},"4.6.1":{node_abi:46,v8:"4.5"},"4.6.2":{node_abi:46,v8:"4.5"},"4.7.0":{node_abi:46,v8:"4.5"},"4.7.1":{node_abi:46,v8:"4.5"},"4.7.2":{node_abi:46,v8:"4.5"},"4.7.3":{node_abi:46,v8:"4.5"},"4.8.0":{node_abi:46,v8:"4.5"},"4.8.1":{node_abi:46,v8:"4.5"},"4.8.2":{node_abi:46,v8:"4.5"},"4.8.3":{node_abi:46,v8:"4.5"},"4.8.4":{node_abi:46,v8:"4.5"},"4.8.5":{node_abi:46,v8:"4.5"},"4.8.6":{node_abi:46,v8:"4.5"},"4.8.7":{node_abi:46,v8:"4.5"},"4.9.0":{node_abi:46,v8:"4.5"},"4.9.1":{node_abi:46,v8:"4.5"},"5.0.0":{node_abi:47,v8:"4.6"},"5.1.0":{node_abi:47,v8:"4.6"},"5.1.1":{node_abi:47,v8:"4.6"},"5.2.0":{node_abi:47,v8:"4.6"},"5.3.0":{node_abi:47,v8:"4.6"},"5.4.0":{node_abi:47,v8:"4.6"},"5.4.1":{node_abi:47,v8:"4.6"},"5.5.0":{node_abi:47,v8:"4.6"},"5.6.0":{node_abi:47,v8:"4.6"},"5.7.0":{node_abi:47,v8:"4.6"},"5.7.1":{node_abi:47,v8:"4.6"},"5.8.0":{node_abi:47,v8:"4.6"},"5.9.0":{node_abi:47,v8:"4.6"},"5.9.1":{node_abi:47,v8:"4.6"},"5.10.0":{node_abi:47,v8:"4.6"},"5.10.1":{node_abi:47,v8:"4.6"},"5.11.0":{node_abi:47,v8:"4.6"},"5.11.1":{node_abi:47,v8:"4.6"},"5.12.0":{node_abi:47,v8:"4.6"},"6.0.0":{node_abi:48,v8:"5.0"},"6.1.0":{node_abi:48,v8:"5.0"},"6.2.0":{node_abi:48,v8:"5.0"},"6.2.1":{node_abi:48,v8:"5.0"},"6.2.2":{node_abi:48,v8:"5.0"},"6.3.0":{node_abi:48,v8:"5.0"},"6.3.1":{node_abi:48,v8:"5.0"},"6.4.0":{node_abi:48,v8:"5.0"},"6.5.0":{node_abi:48,v8:"5.1"},"6.6.0":{node_abi:48,v8:"5.1"},"6.7.0":{node_abi:48,v8:"5.1"},"6.8.0":{node_abi:48,v8:"5.1"},"6.8.1":{node_abi:48,v8:"5.1"},"6.9.0":{node_abi:48,v8:"5.1"},"6.9.1":{node_abi:48,v8:"5.1"},"6.9.2":{node_abi:48,v8:"5.1"},"6.9.3":{node_abi:48,v8:"5.1"},"6.9.4":{node_abi:48,v8:"5.1"},"6.9.5":{node_abi:48,v8:"5.1"},"6.10.0":{node_abi:48,v8:"5.1"},"6.10.1":{node_abi:48,v8:"5.1"},"6.10.2":{node_abi:48,v8:"5.1"},"6.10.3":{node_abi:48,v8:"5.1"},"6.11.0":{node_abi:48,v8:"5.1"},"6.11.1":{node_abi:48,v8:"5.1"},"6.11.2":{node_abi:48,v8:"5.1"},"6.11.3":{node_abi:48,v8:"5.1"},"6.11.4":{node_abi:48,v8:"5.1"},"6.11.5":{node_abi:48,v8:"5.1"},"6.12.0":{node_abi:48,v8:"5.1"},"6.12.1":{node_abi:48,v8:"5.1"},"6.12.2":{node_abi:48,v8:"5.1"},"6.12.3":{node_abi:48,v8:"5.1"},"6.13.0":{node_abi:48,v8:"5.1"},"6.13.1":{node_abi:48,v8:"5.1"},"6.14.0":{node_abi:48,v8:"5.1"},"6.14.1":{node_abi:48,v8:"5.1"},"6.14.2":{node_abi:48,v8:"5.1"},"6.14.3":{node_abi:48,v8:"5.1"},"6.14.4":{node_abi:48,v8:"5.1"},"6.15.0":{node_abi:48,v8:"5.1"},"6.15.1":{node_abi:48,v8:"5.1"},"6.16.0":{node_abi:48,v8:"5.1"},"6.17.0":{node_abi:48,v8:"5.1"},"6.17.1":{node_abi:48,v8:"5.1"},"7.0.0":{node_abi:51,v8:"5.4"},"7.1.0":{node_abi:51,v8:"5.4"},"7.2.0":{node_abi:51,v8:"5.4"},"7.2.1":{node_abi:51,v8:"5.4"},"7.3.0":{node_abi:51,v8:"5.4"},"7.4.0":{node_abi:51,v8:"5.4"},"7.5.0":{node_abi:51,v8:"5.4"},"7.6.0":{node_abi:51,v8:"5.5"},"7.7.0":{node_abi:51,v8:"5.5"},"7.7.1":{node_abi:51,v8:"5.5"},"7.7.2":{node_abi:51,v8:"5.5"},"7.7.3":{node_abi:51,v8:"5.5"},"7.7.4":{node_abi:51,v8:"5.5"},"7.8.0":{node_abi:51,v8:"5.5"},"7.9.0":{node_abi:51,v8:"5.5"},"7.10.0":{node_abi:51,v8:"5.5"},"7.10.1":{node_abi:51,v8:"5.5"},"8.0.0":{node_abi:57,v8:"5.8"},"8.1.0":{node_abi:57,v8:"5.8"},"8.1.1":{node_abi:57,v8:"5.8"},"8.1.2":{node_abi:57,v8:"5.8"},"8.1.3":{node_abi:57,v8:"5.8"},"8.1.4":{node_abi:57,v8:"5.8"},"8.2.0":{node_abi:57,v8:"5.8"},"8.2.1":{node_abi:57,v8:"5.8"},"8.3.0":{node_abi:57,v8:"6.0"},"8.4.0":{node_abi:57,v8:"6.0"},"8.5.0":{node_abi:57,v8:"6.0"},"8.6.0":{node_abi:57,v8:"6.0"},"8.7.0":{node_abi:57,v8:"6.1"},"8.8.0":{node_abi:57,v8:"6.1"},"8.8.1":{node_abi:57,v8:"6.1"},"8.9.0":{node_abi:57,v8:"6.1"},"8.9.1":{node_abi:57,v8:"6.1"},"8.9.2":{node_abi:57,v8:"6.1"},"8.9.3":{node_abi:57,v8:"6.1"},"8.9.4":{node_abi:57,v8:"6.1"},"8.10.0":{node_abi:57,v8:"6.2"},"8.11.0":{node_abi:57,v8:"6.2"},"8.11.1":{node_abi:57,v8:"6.2"},"8.11.2":{node_abi:57,v8:"6.2"},"8.11.3":{node_abi:57,v8:"6.2"},"8.11.4":{node_abi:57,v8:"6.2"},"8.12.0":{node_abi:57,v8:"6.2"},"8.13.0":{node_abi:57,v8:"6.2"},"8.14.0":{node_abi:57,v8:"6.2"},"8.14.1":{node_abi:57,v8:"6.2"},"8.15.0":{node_abi:57,v8:"6.2"},"8.15.1":{node_abi:57,v8:"6.2"},"8.16.0":{node_abi:57,v8:"6.2"},"8.16.1":{node_abi:57,v8:"6.2"},"8.16.2":{node_abi:57,v8:"6.2"},"8.17.0":{node_abi:57,v8:"6.2"},"9.0.0":{node_abi:59,v8:"6.2"},"9.1.0":{node_abi:59,v8:"6.2"},"9.2.0":{node_abi:59,v8:"6.2"},"9.2.1":{node_abi:59,v8:"6.2"},"9.3.0":{node_abi:59,v8:"6.2"},"9.4.0":{node_abi:59,v8:"6.2"},"9.5.0":{node_abi:59,v8:"6.2"},"9.6.0":{node_abi:59,v8:"6.2"},"9.6.1":{node_abi:59,v8:"6.2"},"9.7.0":{node_abi:59,v8:"6.2"},"9.7.1":{node_abi:59,v8:"6.2"},"9.8.0":{node_abi:59,v8:"6.2"},"9.9.0":{node_abi:59,v8:"6.2"},"9.10.0":{node_abi:59,v8:"6.2"},"9.10.1":{node_abi:59,v8:"6.2"},"9.11.0":{node_abi:59,v8:"6.2"},"9.11.1":{node_abi:59,v8:"6.2"},"9.11.2":{node_abi:59,v8:"6.2"},"10.0.0":{node_abi:64,v8:"6.6"},"10.1.0":{node_abi:64,v8:"6.6"},"10.2.0":{node_abi:64,v8:"6.6"},"10.2.1":{node_abi:64,v8:"6.6"},"10.3.0":{node_abi:64,v8:"6.6"},"10.4.0":{node_abi:64,v8:"6.7"},"10.4.1":{node_abi:64,v8:"6.7"},"10.5.0":{node_abi:64,v8:"6.7"},"10.6.0":{node_abi:64,v8:"6.7"},"10.7.0":{node_abi:64,v8:"6.7"},"10.8.0":{node_abi:64,v8:"6.7"},"10.9.0":{node_abi:64,v8:"6.8"},"10.10.0":{node_abi:64,v8:"6.8"},"10.11.0":{node_abi:64,v8:"6.8"},"10.12.0":{node_abi:64,v8:"6.8"},"10.13.0":{node_abi:64,v8:"6.8"},"10.14.0":{node_abi:64,v8:"6.8"},"10.14.1":{node_abi:64,v8:"6.8"},"10.14.2":{node_abi:64,v8:"6.8"},"10.15.0":{node_abi:64,v8:"6.8"},"10.15.1":{node_abi:64,v8:"6.8"},"10.15.2":{node_abi:64,v8:"6.8"},"10.15.3":{node_abi:64,v8:"6.8"},"10.16.0":{node_abi:64,v8:"6.8"},"10.16.1":{node_abi:64,v8:"6.8"},"10.16.2":{node_abi:64,v8:"6.8"},"10.16.3":{node_abi:64,v8:"6.8"},"10.17.0":{node_abi:64,v8:"6.8"},"10.18.0":{node_abi:64,v8:"6.8"},"10.18.1":{node_abi:64,v8:"6.8"},"10.19.0":{node_abi:64,v8:"6.8"},"10.20.0":{node_abi:64,v8:"6.8"},"10.20.1":{node_abi:64,v8:"6.8"},"10.21.0":{node_abi:64,v8:"6.8"},"10.22.0":{node_abi:64,v8:"6.8"},"10.22.1":{node_abi:64,v8:"6.8"},"10.23.0":{node_abi:64,v8:"6.8"},"10.23.1":{node_abi:64,v8:"6.8"},"10.23.2":{node_abi:64,v8:"6.8"},"10.23.3":{node_abi:64,v8:"6.8"},"10.24.0":{node_abi:64,v8:"6.8"},"10.24.1":{node_abi:64,v8:"6.8"},"11.0.0":{node_abi:67,v8:"7.0"},"11.1.0":{node_abi:67,v8:"7.0"},"11.2.0":{node_abi:67,v8:"7.0"},"11.3.0":{node_abi:67,v8:"7.0"},"11.4.0":{node_abi:67,v8:"7.0"},"11.5.0":{node_abi:67,v8:"7.0"},"11.6.0":{node_abi:67,v8:"7.0"},"11.7.0":{node_abi:67,v8:"7.0"},"11.8.0":{node_abi:67,v8:"7.0"},"11.9.0":{node_abi:67,v8:"7.0"},"11.10.0":{node_abi:67,v8:"7.0"},"11.10.1":{node_abi:67,v8:"7.0"},"11.11.0":{node_abi:67,v8:"7.0"},"11.12.0":{node_abi:67,v8:"7.0"},"11.13.0":{node_abi:67,v8:"7.0"},"11.14.0":{node_abi:67,v8:"7.0"},"11.15.0":{node_abi:67,v8:"7.0"},"12.0.0":{node_abi:72,v8:"7.4"},"12.1.0":{node_abi:72,v8:"7.4"},"12.2.0":{node_abi:72,v8:"7.4"},"12.3.0":{node_abi:72,v8:"7.4"},"12.3.1":{node_abi:72,v8:"7.4"},"12.4.0":{node_abi:72,v8:"7.4"},"12.5.0":{node_abi:72,v8:"7.5"},"12.6.0":{node_abi:72,v8:"7.5"},"12.7.0":{node_abi:72,v8:"7.5"},"12.8.0":{node_abi:72,v8:"7.5"},"12.8.1":{node_abi:72,v8:"7.5"},"12.9.0":{node_abi:72,v8:"7.6"},"12.9.1":{node_abi:72,v8:"7.6"},"12.10.0":{node_abi:72,v8:"7.6"},"12.11.0":{node_abi:72,v8:"7.7"},"12.11.1":{node_abi:72,v8:"7.7"},"12.12.0":{node_abi:72,v8:"7.7"},"12.13.0":{node_abi:72,v8:"7.7"},"12.13.1":{node_abi:72,v8:"7.7"},"12.14.0":{node_abi:72,v8:"7.7"},"12.14.1":{node_abi:72,v8:"7.7"},"12.15.0":{node_abi:72,v8:"7.7"},"12.16.0":{node_abi:72,v8:"7.8"},"12.16.1":{node_abi:72,v8:"7.8"},"12.16.2":{node_abi:72,v8:"7.8"},"12.16.3":{node_abi:72,v8:"7.8"},"12.17.0":{node_abi:72,v8:"7.8"},"12.18.0":{node_abi:72,v8:"7.8"},"12.18.1":{node_abi:72,v8:"7.8"},"12.18.2":{node_abi:72,v8:"7.8"},"12.18.3":{node_abi:72,v8:"7.8"},"12.18.4":{node_abi:72,v8:"7.8"},"12.19.0":{node_abi:72,v8:"7.8"},"12.19.1":{node_abi:72,v8:"7.8"},"12.20.0":{node_abi:72,v8:"7.8"},"12.20.1":{node_abi:72,v8:"7.8"},"12.20.2":{node_abi:72,v8:"7.8"},"12.21.0":{node_abi:72,v8:"7.8"},"12.22.0":{node_abi:72,v8:"7.8"},"12.22.1":{node_abi:72,v8:"7.8"},"12.22.2":{node_abi:72,v8:"7.8"},"12.22.3":{node_abi:72,v8:"7.8"},"12.22.4":{node_abi:72,v8:"7.8"},"12.22.5":{node_abi:72,v8:"7.8"},"12.22.6":{node_abi:72,v8:"7.8"},"12.22.7":{node_abi:72,v8:"7.8"},"13.0.0":{node_abi:79,v8:"7.8"},"13.0.1":{node_abi:79,v8:"7.8"},"13.1.0":{node_abi:79,v8:"7.8"},"13.2.0":{node_abi:79,v8:"7.9"},"13.3.0":{node_abi:79,v8:"7.9"},"13.4.0":{node_abi:79,v8:"7.9"},"13.5.0":{node_abi:79,v8:"7.9"},"13.6.0":{node_abi:79,v8:"7.9"},"13.7.0":{node_abi:79,v8:"7.9"},"13.8.0":{node_abi:79,v8:"7.9"},"13.9.0":{node_abi:79,v8:"7.9"},"13.10.0":{node_abi:79,v8:"7.9"},"13.10.1":{node_abi:79,v8:"7.9"},"13.11.0":{node_abi:79,v8:"7.9"},"13.12.0":{node_abi:79,v8:"7.9"},"13.13.0":{node_abi:79,v8:"7.9"},"13.14.0":{node_abi:79,v8:"7.9"},"14.0.0":{node_abi:83,v8:"8.1"},"14.1.0":{node_abi:83,v8:"8.1"},"14.2.0":{node_abi:83,v8:"8.1"},"14.3.0":{node_abi:83,v8:"8.1"},"14.4.0":{node_abi:83,v8:"8.1"},"14.5.0":{node_abi:83,v8:"8.3"},"14.6.0":{node_abi:83,v8:"8.4"},"14.7.0":{node_abi:83,v8:"8.4"},"14.8.0":{node_abi:83,v8:"8.4"},"14.9.0":{node_abi:83,v8:"8.4"},"14.10.0":{node_abi:83,v8:"8.4"},"14.10.1":{node_abi:83,v8:"8.4"},"14.11.0":{node_abi:83,v8:"8.4"},"14.12.0":{node_abi:83,v8:"8.4"},"14.13.0":{node_abi:83,v8:"8.4"},"14.13.1":{node_abi:83,v8:"8.4"},"14.14.0":{node_abi:83,v8:"8.4"},"14.15.0":{node_abi:83,v8:"8.4"},"14.15.1":{node_abi:83,v8:"8.4"},"14.15.2":{node_abi:83,v8:"8.4"},"14.15.3":{node_abi:83,v8:"8.4"},"14.15.4":{node_abi:83,v8:"8.4"},"14.15.5":{node_abi:83,v8:"8.4"},"14.16.0":{node_abi:83,v8:"8.4"},"14.16.1":{node_abi:83,v8:"8.4"},"14.17.0":{node_abi:83,v8:"8.4"},"14.17.1":{node_abi:83,v8:"8.4"},"14.17.2":{node_abi:83,v8:"8.4"},"14.17.3":{node_abi:83,v8:"8.4"},"14.17.4":{node_abi:83,v8:"8.4"},"14.17.5":{node_abi:83,v8:"8.4"},"14.17.6":{node_abi:83,v8:"8.4"},"14.18.0":{node_abi:83,v8:"8.4"},"14.18.1":{node_abi:83,v8:"8.4"},"15.0.0":{node_abi:88,v8:"8.6"},"15.0.1":{node_abi:88,v8:"8.6"},"15.1.0":{node_abi:88,v8:"8.6"},"15.2.0":{node_abi:88,v8:"8.6"},"15.2.1":{node_abi:88,v8:"8.6"},"15.3.0":{node_abi:88,v8:"8.6"},"15.4.0":{node_abi:88,v8:"8.6"},"15.5.0":{node_abi:88,v8:"8.6"},"15.5.1":{node_abi:88,v8:"8.6"},"15.6.0":{node_abi:88,v8:"8.6"},"15.7.0":{node_abi:88,v8:"8.6"},"15.8.0":{node_abi:88,v8:"8.6"},"15.9.0":{node_abi:88,v8:"8.6"},"15.10.0":{node_abi:88,v8:"8.6"},"15.11.0":{node_abi:88,v8:"8.6"},"15.12.0":{node_abi:88,v8:"8.6"},"15.13.0":{node_abi:88,v8:"8.6"},"15.14.0":{node_abi:88,v8:"8.6"},"16.0.0":{node_abi:93,v8:"9.0"},"16.1.0":{node_abi:93,v8:"9.0"},"16.2.0":{node_abi:93,v8:"9.0"},"16.3.0":{node_abi:93,v8:"9.0"},"16.4.0":{node_abi:93,v8:"9.1"},"16.4.1":{node_abi:93,v8:"9.1"},"16.4.2":{node_abi:93,v8:"9.1"},"16.5.0":{node_abi:93,v8:"9.1"},"16.6.0":{node_abi:93,v8:"9.2"},"16.6.1":{node_abi:93,v8:"9.2"},"16.6.2":{node_abi:93,v8:"9.2"},"16.7.0":{node_abi:93,v8:"9.2"},"16.8.0":{node_abi:93,v8:"9.2"},"16.9.0":{node_abi:93,v8:"9.3"},"16.9.1":{node_abi:93,v8:"9.3"},"16.10.0":{node_abi:93,v8:"9.3"},"16.11.0":{node_abi:93,v8:"9.4"},"16.11.1":{node_abi:93,v8:"9.4"},"16.12.0":{node_abi:93,v8:"9.4"},"16.13.0":{node_abi:93,v8:"9.4"},"17.0.0":{node_abi:102,v8:"9.5"},"17.0.1":{node_abi:102,v8:"9.5"},"17.1.0":{node_abi:102,v8:"9.5"}}},{}],75:[function(s,o,e){"use strict";const t=s("fs"),i=(o.exports=e,process.version.substr(1).replace(/-.*$/,"").split(".").map(e=>+e)),c=["build","clean","configure","package","publish","reveal","testbinary","testpackage","unpublish"],p="napi_build_version=";function l(e){return e&&(-1!==e.indexOf("{napi_build_version}")||-1!==e.indexOf("{node_napi_label}"))}o.exports.get_napi_version=function(){let e=process.versions.napi;return e||(9===i[0]&&3<=i[1]?e=2:8===i[0]&&(e=1)),e},o.exports.get_napi_version_as_string=function(e){e=o.exports.get_napi_version(e);return e?""+e:""},o.exports.validate_package_json=function(e,t){var i=e.binary,n=l(i.module_path),a=l(i.remote_path),i=l(i.package_name),r=o.exports.get_napi_build_versions(e,t,!0),s=o.exports.get_napi_build_versions_raw(e);if(r&&r.forEach(e=>{if(!(parseInt(e,10)===e&&0<e))throw new Error("All values specified in napi_versions must be positive integers.")}),r&&(!n||!a&&!i))throw new Error("When napi_versions is specified; module_path and either remote_path or package_name must contain the substitution string '{napi_build_version}`.");if((n||a||i)&&!s)throw new Error("When the substitution string '{napi_build_version}` is specified in module_path, remote_path, or package_name; napi_versions must also be specified.");if(r&&!o.exports.get_best_napi_build_version(e,t)&&o.exports.build_napi_only(e))throw new Error("The Node-API version of this Node instance is "+o.exports.get_napi_version(t?t.target:void 0)+". This module supports Node-API version(s) "+o.exports.get_napi_build_versions_raw(e)+". This Node instance cannot run this module.");if(s&&!r&&o.exports.build_napi_only(e))throw new Error("The Node-API version of this Node instance is "+o.exports.get_napi_version(t?t.target:void 0)+". This module supports Node-API version(s) "+o.exports.get_napi_build_versions_raw(e)+". This Node instance cannot run this module.")},o.exports.expand_commands=function(t,n,e){const a=[],r=o.exports.get_napi_build_versions(t,n);return e.forEach(i=>{var e;r&&"install"===i.name?(e=(e=o.exports.get_best_napi_build_version(t,n))?[p+e]:[],a.push({name:i.name,args:e})):r&&-1!==c.indexOf(i.name)?r.forEach(e=>{var t=i.args.slice();t.push(p+e),a.push({name:i.name,args:t})}):a.push(i)}),a},o.exports.get_napi_build_versions=function(e,t,i){const n=s("npmlog");let a=[];const r=o.exports.get_napi_version(t?t.target:void 0);if(e.binary&&e.binary.napi_versions&&e.binary.napi_versions.forEach(e=>{var t=-1!==a.indexOf(e);!t&&r&&e<=r?a.push(e):i&&!t&&r&&n.info("This Node instance does not support builds for Node-API version",e)}),t&&t["build-latest-napi-version-only"]){let t=0;a.forEach(e=>{e>t&&(t=e)}),a=t?[t]:[]}return a.length?a:void 0},o.exports.get_napi_build_versions_raw=function(e){const t=[];return e.binary&&e.binary.napi_versions&&e.binary.napi_versions.forEach(e=>{-1===t.indexOf(e)&&t.push(e)}),t.length?t:void 0},o.exports.get_command_arg=function(e){return p+e},o.exports.get_napi_build_version_from_command_args=function(t){for(let e=0;e<t.length;e++){var i=t[e];if(0===i.indexOf(p))return parseInt(i.substr(p.length),10)}},o.exports.swap_build_dir_out=function(e){e&&(s("rimraf").sync(o.exports.get_build_dir(e)),t.renameSync("build",o.exports.get_build_dir(e)))},o.exports.swap_build_dir_in=function(e){e&&(s("rimraf").sync("build"),t.renameSync(o.exports.get_build_dir(e),"build"))},o.exports.get_build_dir=function(e){return"build-tmp-napi-v"+e},o.exports.get_best_napi_build_version=function(e,t){let i=0;e=o.exports.get_napi_build_versions(e,t);if(e){const n=o.exports.get_napi_version(t?t.target:void 0);e.forEach(e=>{e>i&&e<=n&&(i=e)})}return 0===i?void 0:i},o.exports.build_napi_only=function(e){return e.binary&&e.binary.package_name&&-1===e.binary.package_name.indexOf("{node_napi_label}")}},{fs:void 0,npmlog:363,rimraf:412}],76:[function(r,e,t){"use strict";e.exports=t;const n=r("url"),a=r("fs"),s=r("path");e.exports.detect=function(e,t){var i=e.hosted_path,i=n.parse(i);t.prefix=i.pathname&&"/"!==i.pathname?i.pathname.replace("/",""):"",e.bucket&&e.region?(t.bucket=e.bucket,t.region=e.region,t.endpoint=e.host,t.s3ForcePathStyle=e.s3ForcePathStyle):(i=(e=i.hostname.split(".s3"))[0])&&(t.bucket||(t.bucket=i),t.region||(i=e[1].slice(1).split(".")[0],t.region="amazonaws"===i?"us-east-1":i))},e.exports.get_s3=function(e){if(process.env.node_pre_gyp_mock_s3){var t=r("mock-aws-s3"),i=r("os");t.config.basePath=i.tmpdir()+"/mock";const n=t.S3(),a=i=>(e,...t)=>(e&&"ENOENT"===e.code&&(e.code="NotFound"),i(e,...t));return{listObjects(e,t){return n.listObjects(e,a(t))},headObject(e,t){return n.headObject(e,a(t))},deleteObject(e,t){return n.deleteObject(e,a(t))},putObject(e,t){return n.putObject(e,a(t))}}}i=r("aws-sdk");i.config.update(e);const n=new i.S3;return{listObjects(e,t){return n.listObjects(e,t)},headObject(e,t){return n.headObject(e,t)},deleteObject(e,t){return n.deleteObject(e,t)},putObject(e,t){return n.putObject(e,t)}}},e.exports.get_mockS3Http=function(){let i=!1;if(!process.env.node_pre_gyp_mock_s3)return()=>i;const e=r("nock"),t="https://mapbox-node-pre-gyp-public-testing-bucket.s3.us-east-1.amazonaws.com",n=process.env.node_pre_gyp_mock_s3+"/mapbox-node-pre-gyp-public-testing-bucket";e,t,n,e(t).persist().get(()=>i).reply(function(e,t){e=s.join(n,e.replace("%2B","+"));try{a.accessSync(e,a.constants.R_OK)}catch(e){return[404,"not found\n"]}return[200,a.createReadStream(e)]});return e=>{var t=i;if("off"===e)i=!1;else if("on"===e)i=!0;else if("get"!==e)throw new Error("illegal action for setMockHttp "+e);return t}}},{"aws-sdk":void 0,fs:void 0,"mock-aws-s3":void 0,nock:void 0,os:void 0,path:void 0,url:void 0}],77:[function(e,t,i){"use strict";t.exports=i;const r=e("path"),s=e("semver"),o=e("url"),c=e("detect-libc"),p=e("./napi.js");let l;l=process.env.NODE_PRE_GYP_ABI_CROSSWALK?e(process.env.NODE_PRE_GYP_ABI_CROSSWALK):e("./abi_crosswalk.json");const u={};function d(e,t){if(!e)throw new Error("get_electron_abi requires valid runtime arg");if(void 0===t)throw new Error("Empty target version is not supported if electron is the target.");t=s.parse(t);return e+"-v"+t.major+"."+t.minor}function h(e,t){if(!e)throw new Error("get_node_webkit_abi requires valid runtime arg");if(void 0===t)throw new Error("Empty target version is not supported if node-webkit is the target.");return e+"-v"+t}function f(e,t){if(!e)throw new Error("get_node_abi requires valid runtime arg");var i;if(t)return 0===(i=s.parse(t.node)).major&&i.minor%2?e+"-v"+t.node:t.modules?e+"-v"+ +t.modules:"v8-"+t.v8.split(".").slice(0,2).join(".");throw new Error("get_node_abi requires valid process.versions object")}function m(e,n){if(!e)throw new Error("get_runtime_abi requires valid runtime arg");if("node-webkit"===e)return h(e,n||process.versions["node-webkit"]);if("electron"===e)return d(e,n||process.versions.electron);if("node"!==e)throw new Error("Unknown Runtime: '"+e+"'");if(n){let i;if(l[n])i=l[n];else{var a=n.split(".").map(e=>+e);if(3!==a.length)throw new Error("Unknown target version: "+n);var r=a[0];let e=a[1],t=a[2];if(1===r)for(;;){0<e&&--e,0<t&&--t;var s=r+"."+e+"."+t;if(l[s]){i=l[s],console.log("Warning: node-pre-gyp could not find exact match for "+n),console.log("Warning: but node-pre-gyp successfully choose "+s+" as ABI compatible target");break}if(0===e&&0===t)break}else if(2<=r)u[r]&&(i=l[u[r]],console.log("Warning: node-pre-gyp could not find exact match for "+n),console.log("Warning: but node-pre-gyp successfully choose "+u[r]+" as ABI compatible target"));else if(0===r&&a[1]%2==0)for(;0<--t;){var o=r+"."+e+"."+t;if(l[o]){i=l[o],console.log("Warning: node-pre-gyp could not find exact match for "+n),console.log("Warning: but node-pre-gyp successfully choose "+o+" as ABI compatible target");break}}}if(i)return f(e,{node:n,v8:i.v8+".0",modules:1<i.node_abi?i.node_abi:void 0});throw new Error("Unsupported target version: "+n)}return f(e,process.versions)}Object.keys(l).forEach(e=>{var t=e.split(".")[0];u[t]||(u[t]=e)}),t.exports.get_electron_abi=d,t.exports.get_node_webkit_abi=h,t.exports.get_node_abi=f,t.exports.get_runtime_abi=m;const y=["module_name","module_path","host"];function g(e,t){var i=e.name+" package.json is not node-pre-gyp ready:\n";const n=[],a=(e.main||n.push("main"),e.version||n.push("version"),e.name||n.push("name"),e.binary||n.push("binary"),e.binary);if(a&&y.forEach(e=>{a[e]&&"string"==typeof a[e]||n.push("binary."+e)}),1<=n.length)throw new Error(i+"package.json must declare these properties: \n"+n.join("\n"));if(a){i=o.parse(a.host).protocol;if("http:"===i)throw new Error("'host' protocol ("+i+") is invalid - only 'https:' is accepted")}p.validate_package_json(e,t)}function v(i,n){return Object.keys(n).forEach(e=>{for(var t="{"+e+"}";-1<i.indexOf(t);)i=i.replace(t,n[e])}),i}function b(e){return"/"!==e.slice(-1)?e+"/":e}function x(e){let t="node";return e["node-webkit"]?t="node-webkit":e.electron&&(t="electron"),t}t.exports.validate_config=g,t.exports.get_process_runtime=x;t.exports.evaluate=function(e,t,i){g(e,t=t||{});var n=e.version,n=s.parse(n),a=t.runtime||x(process.versions),n={name:e.name,configuration:t.debug?"Debug":"Release",debug:t.debug,module_name:e.binary.module_name,version:n.version,prerelease:n.prerelease.length?n.prerelease.join("."):"",build:n.build.length?n.build.join("."):"",major:n.major,minor:n.minor,patch:n.patch,runtime:a,node_abi:m(a,t.target),node_abi_napi:p.get_napi_version(t.target)?"napi":m(a,t.target),napi_version:p.get_napi_version(t.target),napi_build_version:i||"",node_napi_label:i?"napi-v"+i:m(a,t.target),target:t.target||"",platform:t.target_platform||process.platform,target_platform:t.target_platform||process.platform,arch:t.target_arch||process.arch,target_arch:t.target_arch||process.arch,libc:t.target_libc||c.family||"unknown",module_main:e.main,toolset:t.toolset||"",bucket:e.binary.bucket,region:e.binary.region,s3ForcePathStyle:e.binary.s3ForcePathStyle||!1},i=n.module_name.replace("-","_"),a=process.env["npm_config_"+i+"_binary_host_mirror"]||e.binary.host,i=(n.host=b(v(a,n)),n.module_path=v(e.binary.module_path,n),t.module_root?n.module_path=r.join(t.module_root,n.module_path):n.module_path=r.resolve(n.module_path),n.module=r.join(n.module_path,n.module_name+".node"),n.remote_path=e.binary.remote_path?b(v(e.binary.remote_path,n)).replace(/\/\//g,"/"):"",e.binary.package_name||"{module_name}-v{version}-{node_abi}-{platform}-{arch}.tar.gz");return n.package_name=v(i,n),n.staged_tarball=r.join("build/stage",n.remote_path,n.package_name),n.hosted_path=o.resolve(n.host,n.remote_path),n.hosted_tarball=o.resolve(n.hosted_path,n.package_name),n}},{"./abi_crosswalk.json":74,"./napi.js":75,"detect-libc":181,path:void 0,semver:445,url:void 0}],78:[function(e,t,i){t.exports={name:"@mapbox/node-pre-gyp",description:"Node.js native addon binary install tool",version:"1.0.8",keywords:["native","addon","module","c","c++","bindings","binary"],license:"BSD-3-Clause",author:"Dane Springmeyer <dane@mapbox.com>",repository:{type:"git",url:"git://github.com/mapbox/node-pre-gyp.git"},bin:"./bin/node-pre-gyp",main:"./lib/node-pre-gyp.js",dependencies:{"detect-libc":"^1.0.3","https-proxy-agent":"^5.0.0","make-dir":"^3.1.0","node-fetch":"^2.6.5",nopt:"^5.0.0",npmlog:"^5.0.1",rimraf:"^3.0.2",semver:"^7.3.5",tar:"^6.1.11"},devDependencies:{"@mapbox/cloudfriend":"^5.1.0","@mapbox/eslint-config-mapbox":"^3.0.0","aws-sdk":"^2.1012.0",codecov:"^3.8.3",eslint:"^7.32.0","eslint-plugin-node":"^11.1.0","mock-aws-s3":"^4.0.2",nock:"^12.0.3","node-addon-api":"^4.2.0",nyc:"^15.1.0",tape:"^5.3.1","tar-fs":"^2.1.1"},nyc:{all:!0,"skip-full":!1,exclude:["test/**"]},scripts:{coverage:"nyc --all --include index.js --include lib/ npm test","upload-coverage":"nyc report --reporter json && codecov --clear --flags=unit --file=./coverage/coverage-final.json",lint:"eslint bin/node-pre-gyp lib/*js lib/util/*js test/*js scripts/*js",fix:"npm run lint -- --fix","update-crosswalk":"node scripts/abi_crosswalk.js",test:"tape test/*test.js"}}},{}],79:[function(e,t,i){function n(e){if(e){var t,i=e;for(t in n.prototype)i[t]=n.prototype[t];return i}}(i.Emitter=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)this._callbacks={};else{var i=this._callbacks["$"+e];if(i)if(1==arguments.length)delete this._callbacks["$"+e];else{for(var n,a=0;a<i.length;a++)if((n=i[a])===t||n.fn===t){i.splice(a,1);break}0===i.length&&delete this._callbacks["$"+e]}}return this},n.prototype.emitReserved=n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),i=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(i)for(var n=0,a=(i=i.slice(0)).length;n<a;++n)i[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],80:[function(e,t,i){function n(e){for(var t=0,i=(e=1===arguments.length&&Array.isArray(e)?e:Array.prototype.slice.call(arguments,0)).length,n=[];t<i;t++)n[t]="string"==typeof e[t]?e[t]:String(e[t]);for(var a={},r="",t=0,i=(n=n.sort(f)).length;t<i;t++){var s=n[t],o=n[t+1]||"",c=!0,p=!0;if(s!==o){for(var l=0,u=s.length;l<u;l++){var d=s.charAt(l),c=c&&d===o.charAt(l),p=p&&d===r.charAt(l);if(!c&&!p){l++;break}}if(r=s,l===u)a[s]=s;else for(var h=s.substr(0,l);l<=u;l++)h+=(a[h]=s).charAt(l)}}return a}function f(e,t){return e===t?0:t<e?1:-1}(t.exports=n.abbrev=n).monkeyPatch=function(){Object.defineProperty(Array.prototype,"abbrev",{value:function(){return n(this)},enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(Object.prototype,"abbrev",{value:function(){return n(Object.keys(this))},enumerable:!1,configurable:!0,writable:!0})}},{}],81:[function(e,t,i){"use strict";var n=e("negotiator"),a=e("mime-types");function r(e){if(!(this instanceof r))return new r(e);this.headers=e.headers,this.negotiator=new n(e)}function s(e){return-1===e.indexOf("/")?a.lookup(e):e}function o(e){return"string"==typeof e}(t.exports=r).prototype.type=r.prototype.types=function(e){var t;if((i=e)&&!Array.isArray(i))for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return i&&0!==i.length?this.headers.accept?(e=i.map(s),!!(t=this.negotiator.mediaTypes(e.filter(o))[0])&&i[e.indexOf(t)]):i[0]:this.negotiator.mediaTypes()},r.prototype.encoding=r.prototype.encodings=function(e){if((t=e)&&!Array.isArray(t))for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];return t&&0!==t.length?this.negotiator.encodings(t)[0]||!1:this.negotiator.encodings()},r.prototype.charset=r.prototype.charsets=function(e){if((t=e)&&!Array.isArray(t))for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];return t&&0!==t.length?this.negotiator.charsets(t)[0]||!1:this.negotiator.charsets()},r.prototype.lang=r.prototype.langs=r.prototype.language=r.prototype.languages=function(e){if((t=e)&&!Array.isArray(t))for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];return t&&0!==t.length?this.negotiator.languages(t)[0]||!1:this.negotiator.languages()}},{"mime-types":352,negotiator:357}],82:[function(e,t,i){"use strict";t.exports=({onlyFirst:e=!1}={})=>{var t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}},{}],83:[function(e,t,i){"use strict";t.exports=n;const o={"*":{label:"any",check:()=>!0},A:{label:"array",check:e=>{return Array.isArray(e)||null!=(e=e)&&"object"==typeof e&&e.hasOwnProperty("callee")}},S:{label:"string",check:e=>"string"==typeof e},N:{label:"number",check:e=>"number"==typeof e},F:{label:"function",check:e=>"function"==typeof e},O:{label:"object",check:e=>"object"==typeof e&&null!=e&&!o.A.check(e)&&!o.E.check(e)},B:{label:"boolean",check:e=>"boolean"==typeof e},E:{label:"error",check:e=>e instanceof Error},Z:{label:"null",check:e=>null==e}};function c(e,t){t=t[e.length]=t[e.length]||[];-1===t.indexOf(e)&&t.push(e)}function n(e,i){if(2!==arguments.length)throw u(["SA"],arguments.length);if(!e)throw p(0);if(!i)throw p(1);if(!o.S.check(e))throw l(0,["string"],e);if(!o.A.check(i))throw l(1,["array"],i);e=e.split("|");const a={};e.forEach(t=>{for(let e=0;e<t.length;++e){var i=t[e];if(!o[i])throw n=e,d("EUNKNOWNTYPE","Unknown type "+i+" in argument #"+(n+1))}var n;if(/E.*E/.test(t))throw d("ETOOMANYERRORTYPES",'Only one error type per argument signature is allowed, more than one found in "'+t+'"');c(t,a),/E/.test(t)&&(c(t.replace(/E.*$/,"E"),a),c(t.replace(/E/,"Z"),a),1===t.length)&&c("",a)});let n=a[i.length];if(!n)throw u(Object.keys(a),i.length);for(let t=0;t<i.length;++t){var r,s=n.filter(e=>{e=e[t];return(0,o[e].check)(i[t])});if(!s.length)throw r=n.map(e=>o[e[t]].label).filter(e=>null!=e),l(t,r,i[t]);n=s}}function p(e){return d("EMISSINGARG","Missing required argument #"+(e+1))}function l(e,t,i){let n;return Object.keys(o).forEach(e=>{o[e].check(i)&&(n=o[e].label)}),d("EINVALIDTYPE","Argument #"+(e+1)+": Expected "+a(t)+" but got "+n)}function a(e){return e.join(", ").replace(/, ([^,]+)$/," or $1")}function u(e,t){return d("EWRONGARGCOUNT","Expected "+a(e)+" "+(e.every(e=>1===e.length)?"argument":"arguments")+" but got "+t)}function d(e,t){t=new Error(t);return t.code=e,Error.captureStackTrace&&Error.captureStackTrace(t,n),t}},{}],84:[function(e,t,i){"use strict";i.TrackerGroup=e("./tracker-group.js"),i.Tracker=e("./tracker.js"),i.TrackerStream=e("./tracker-stream.js")},{"./tracker-group.js":86,"./tracker-stream.js":87,"./tracker.js":88}],85:[function(e,t,i){"use strict";var n=e("events").EventEmitter,e=e("util"),a=0,t=t.exports=function(e){n.call(this),this.id=++a,this.name=e};e.inherits(t,n)},{events:void 0,util:void 0}],86:[function(e,t,i){"use strict";var n=e("util"),a=e("./tracker-base.js"),r=e("./tracker.js"),s=e("./tracker-stream.js"),o=t.exports=function(e){var n;a.call(this,e),this.parentGroup=null,this.trackers=[],this.completion={},this.weight={},this.totalWeight=0,this.finished=!1,this.bubbleChange=(n=this,function(e,t,i){n.completion[i.id]=t,n.finished||n.emit("change",e||n.name,n.completed(),n)})};n.inherits(o,a),o.prototype.nameInTree=function(){for(var e=[],t=this;t;)e.unshift(t.name),t=t.parentGroup;return e.join("/")},o.prototype.addUnit=function(e,t){if(e.addUnit){for(var i=this;i;){if(e===i)throw new Error("Attempted to add tracker group "+e.name+" to tree that already includes it "+this.nameInTree(this));i=i.parentGroup}e.parentGroup=this}return this.weight[e.id]=t||1,this.totalWeight+=this.weight[e.id],this.trackers.push(e),this.completion[e.id]=e.completed(),e.on("change",this.bubbleChange),this.finished||this.emit("change",e.name,this.completion[e.id],e),e},o.prototype.completed=function(){if(0===this.trackers.length)return 0;for(var e=1/this.totalWeight,t=0,i=0;i<this.trackers.length;i++){var n=this.trackers[i].id;t+=e*this.weight[n]*this.completion[n]}return t},o.prototype.newGroup=function(e,t){return this.addUnit(new o(e),t)},o.prototype.newItem=function(e,t,i){return this.addUnit(new r(e,t),i)},o.prototype.newStream=function(e,t,i){return this.addUnit(new s(e,t),i)},o.prototype.finish=function(){this.finished=!0,this.trackers.length||this.addUnit(new r,1,!0);for(var e=0;e<this.trackers.length;e++){var t=this.trackers[e];t.finish(),t.removeListener("change",this.bubbleChange)}this.emit("change",this.name,1,this)};o.prototype.debug=function(t){var i=(t=t||0)?"                                  ".substr(0,t):"",n=i+(this.name||"top")+": "+this.completed()+"\n";return this.trackers.forEach(function(e){e instanceof o?n+=e.debug(t+1):n+=i+" "+e.name+": "+e.completed()+"\n"}),n}},{"./tracker-base.js":85,"./tracker-stream.js":87,"./tracker.js":88,util:void 0}],87:[function(e,t,i){"use strict";var n=e("util"),a=e("readable-stream"),r=e("delegates"),s=e("./tracker.js"),e=t.exports=function(e,t,i){var n;a.Transform.call(this,i),this.tracker=new s(e,t),this.name=e,this.id=this.tracker.id,this.tracker.on("change",(n=this,function(e,t,i){n.emit("change",e,t,n)}))};n.inherits(e,a.Transform),e.prototype._transform=function(e,t,i){this.tracker.completeWork(e.length||1),this.push(e),i()},e.prototype._flush=function(e){this.tracker.finish(),e()},r(e.prototype,"tracker").method("completed").method("addWork").method("finish")},{"./tracker.js":88,delegates:177,"readable-stream":394,util:void 0}],88:[function(e,t,i){"use strict";var n=e("util"),a=e("./tracker-base.js"),e=t.exports=function(e,t){a.call(this,e),this.workDone=0,this.workTodo=t||0};n.inherits(e,a),e.prototype.completed=function(){return 0===this.workTodo?0:this.workDone/this.workTodo},e.prototype.addWork=function(e){this.workTodo+=e,this.emit("change",this.name,this.completed(),this)},e.prototype.completeWork=function(e){this.workDone+=e,this.workDone>this.workTodo&&(this.workDone=this.workTodo),this.emit("change",this.name,this.completed(),this)},e.prototype.finish=function(){this.workTodo=this.workDone=1,this.emit("change",this.name,1,this)}},{"./tracker-base.js":85,util:void 0}],89:[function(e,t,i){"use strict";t.exports=function(e,t){return null!=t?function e(t,i,n){for(var a=0;a<t.length;a++){var r=t[a];0<n&&Array.isArray(r)?e(r,i,n-1):i.push(r)}return i}(e,[],t):function e(t,i){for(var n=0;n<t.length;n++){var a=t[n];Array.isArray(a)?e(a,i):i.push(a)}return i}(e,[])}},{}],90:[function(e,t,i){"use strict";function n(e,t,i){var n=r(e=e instanceof RegExp?a(e,i):e,t=t instanceof RegExp?a(t,i):t,i);return n&&{start:n[0],end:n[1],pre:i.slice(0,n[0]),body:i.slice(n[0]+e.length,n[1]),post:i.slice(n[1]+t.length)}}function a(e,t){t=t.match(e);return t?t[0]:null}function r(e,t,i){var n,a,r,s,o,c=i.indexOf(e),p=i.indexOf(t,c+1),l=c;if(0<=c&&0<p){if(e===t)return[c,p];for(n=[],r=i.length;0<=l&&!o;)l==c?(n.push(l),c=i.indexOf(e,l+1)):1==n.length?o=[n.pop(),p]:((a=n.pop())<r&&(r=a,s=p),p=i.indexOf(t,l+1)),l=c<p&&0<=c?c:p;n.length&&(o=[r,s])}return o}(t.exports=n).range=r},{}],91:[function(e,t,i){function n(){}var a=e("crypto");n.prototype.getRandomBytes=function(e){var t,i,n=this;return 4096<(e=e||12)||(i=parseInt(4096/e),!(t=parseInt(.85*i)))||(null==this.bytesBufferIndex&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==i&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(-1==this.bytesBufferIndex||this.bytesBufferIndex>t)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,a.randomBytes(4096,function(e,t){n.bytesBuffer=t,n.bytesBufferIndex=0,n.isGeneratingBytes=!1})),-1==this.bytesBufferIndex))?a.randomBytes(e):(i=this.bytesBuffer.slice(e*this.bytesBufferIndex,e*(this.bytesBufferIndex+1)),this.bytesBufferIndex++,i)},n.prototype.generateId=function(){var t=Buffer.alloc(15);return t.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,t.writeInt32BE(this.sequenceNumber,11),a.randomBytes?this.getRandomBytes(12).copy(t):[0,4,8].forEach(function(e){t.writeInt32BE(Math.random()*Math.pow(2,32)|0,e)}),t.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()},t.exports=new n},{crypto:void 0}],92:[function(n,c,e){!function(i){!function(){"use strict";var e=n("@mapbox/node-pre-gyp"),t=n("path"),e=e.find(t.resolve(t.join(i,"./package.json"))),r=n(e),s=n("crypto"),o=n("./promises");c.exports.genSaltSync=function(e,t){if(e){if("number"!=typeof e)throw new Error("rounds must be a number")}else e=10;if(t){if("b"!==t&&"a"!==t)throw new Error('minor must be either "a" or "b"')}else t="b";return r.gen_salt_sync(t,e,s.randomBytes(16))},c.exports.genSalt=function e(i,n,a){var t;if("function"==typeof arguments[0]?(a=arguments[0],i=10,n="b"):"function"==typeof arguments[1]&&(a=arguments[1],n="b"),!a)return o.promise(e,this,[i,n]);if(i){if("number"!=typeof i)return t=new Error("rounds must be a number"),process.nextTick(function(){a(t)})}else i=10;if(n){if("b"!==n&&"a"!==n)return t=new Error('minor must be either "a" or "b"'),process.nextTick(function(){a(t)})}else n="b";s.randomBytes(16,function(e,t){e?a(e):r.gen_salt(n,i,t,a)})},c.exports.hashSync=function(e,t){if(null==e||null==t)throw new Error("data and salt arguments required");if(!("string"==typeof e||e instanceof Buffer)||"string"!=typeof t&&"number"!=typeof t)throw new Error("data must be a string or Buffer and salt must either be a salt string or a number of rounds");return"number"==typeof t&&(t=c.exports.genSaltSync(t)),r.encrypt_sync(e,t)},c.exports.hash=function e(i,t,n){var a;return"function"==typeof i?(a=new Error("data must be a string or Buffer and salt must either be a salt string or a number of rounds"),process.nextTick(function(){i(a)})):"function"==typeof t?(a=new Error("data must be a string or Buffer and salt must either be a salt string or a number of rounds"),process.nextTick(function(){t(a)})):n&&"function"!=typeof n?o.reject(new Error("cb must be a function or null to return a Promise")):n?null==i||null==t?(a=new Error("data and salt arguments required"),process.nextTick(function(){n(a)})):!("string"==typeof i||i instanceof Buffer)||"string"!=typeof t&&"number"!=typeof t?(a=new Error("data must be a string or Buffer and salt must either be a salt string or a number of rounds"),process.nextTick(function(){n(a)})):"number"==typeof t?c.exports.genSalt(t,function(e,t){return r.encrypt(i,t,n)}):r.encrypt(i,t,n):o.promise(e,this,[i,t])},c.exports.compareSync=function(e,t){if(null==e||null==t)throw new Error("data and hash arguments required");if(("string"==typeof e||e instanceof Buffer)&&"string"==typeof t)return r.compare_sync(e,t);throw new Error("data must be a string or Buffer and hash must be a string")},c.exports.compare=function e(t,i,n){var a;return"function"==typeof t?(a=new Error("data and hash arguments required"),process.nextTick(function(){t(a)})):"function"==typeof i?(a=new Error("data and hash arguments required"),process.nextTick(function(){i(a)})):n&&"function"!=typeof n?o.reject(new Error("cb must be a function or null to return a Promise")):n?null==t||null==i?(a=new Error("data and hash arguments required"),process.nextTick(function(){n(a)})):("string"==typeof t||t instanceof Buffer)&&"string"==typeof i?r.compare(t,i,n):(a=new Error("data and hash must be strings"),process.nextTick(function(){n(a)})):o.promise(e,this,[t,i])},c.exports.getRounds=function(e){if(null==e)throw new Error("hash argument required");if("string"!=typeof e)throw new Error("hash must be a string");return r.get_rounds(e)}}.call(this)}.call(this,n("path").join(__dirname,"node_modules","bcrypt"))},{"./promises":93,"@mapbox/node-pre-gyp":72,crypto:void 0,path:void 0}],93:[function(e,t,i){"use strict";var n=global.Promise;t.exports.promise=function(e,t,a){return Array.isArray(a)||(a=Array.prototype.slice.call(a)),"function"!=typeof e?n.reject(new Error("fn must be a function")):new n(function(i,n){a.push(function(e,t){e?n(e):i(t)}),e.apply(t,a)})},t.exports.reject=function(e){return n.reject(e)},t.exports.use=function(e){n=e}},{}],94:[function(e,t,i){for(var n=String.fromCharCode,p=new Array(65536),a=0;a<65536;a++)p[a]=n(a);var l="";function r(e){return function e(t,i){if("number"==typeof t){var n,a,r=0|t;r!==t?(n=(n=100*(t-r))<(a=0)?1<=(a=(n+1|0)-n)&&a<=1.5?0|n:n-1|0:.5<=n-(a=0|n)?n+1|0:a,t<(a=0)&&(r=0-r,n=0-n,a=1),l+=r<65536?0===r?p[13+a]+p[n+128]:p[13+a]+p[n]+p[r]:p[15+a]+p[r>>16&65535]+p[65535&r]+p[n]):(t<=(a=0)?(t=0-t,a=1):t--,l+=t<116?p[17+t+116*a]:t<65536?p[1+a]+p[t]:p[3+a]+p[t>>16&65535]+p[65535&t])}else if("string"==typeof t){var s=t.length;for(l+=p[7];65535<=s;)s-=65535,l+=p[65535];l+=p[s]+t}else if(!0===t)l+=p[5];else if(!1===t)l+=p[6];else if(null===t)l+=p[0];else if(t instanceof Array){l+=p[8];for(var o=0,s=t.length;o<s;o++)e(t[o],!1);i||(l+=p[9])}else if(t instanceof Object){for(var c in l+=p[10],t)l+=p[17+c.length]+c,e(t[c],!1);i||(l+=p[11])}}(e,!(l="")),l}function s(e){for(var t=0,i=e.length,n=[],a=void 0,r=null,s=0,o=-1,c=!1,p=!1,l="",u=null,d=0;t<i;)if(s=e.charCodeAt(t++),r=n[o],c&&p&&16<s)l=e.substring(t,t+s-17),t+=s-17,p=!1;else if(8===s||10===s)u=new(8===s?Array:Object),p=c=10===s,void 0!==a?r instanceof Array?r.push(u):r[l]=u:a=u,n.push(u),o++;else if(11===s||9===s)n.pop(),p=c=!(n[--o]instanceof Array);else if(16<s)s=115<(s-=17)?0-s+116:s+1,r instanceof Array?r.push(s):r[l]=s,p=!0;else if(0<s&&s<5)0==((s-1)/2|0)?(u=e.charCodeAt(t),t++):(u=(e.charCodeAt(t)<<16)+e.charCodeAt(t+1),t+=2),u=s%2?u+1:0-u,r instanceof Array?r.push(u):r[l]=u,p=!0;else if(12<s&&s<17)0==((s-13)/2|0)?127<(d=e.charCodeAt(t))?(u=0,d-=128,t++):(u=e.charCodeAt(t+1),t+=2):(u=(e.charCodeAt(t)<<16)+e.charCodeAt(t+1),d=e.charCodeAt(t+2),t+=3),u=s%2?u+.01*d:0-(u+.01*d),r instanceof Array?r.push(u):r[l]=u,p=!0;else if(4<s&&s<7)r instanceof Array?r.push(5===s):r[l]=5===s,p=!0;else if(0===s)r instanceof Array?r.push(null):r[l]=null,p=!0;else if(7===s){for(u=0;65535===e.charCodeAt(t);)u+=65535,t++;u+=e.charCodeAt(t++),r instanceof Array?r.push(e.substr(t,u)):r[l]=e.substr(t,u),t+=u,p=!0}return a}"undefined"==typeof window?(i.encode=r,i.decode=s):window.BISON={encode:r,decode:s}},{}],95:[function(n,e,t){"use strict";var i=n("depd")("body-parser"),a=Object.create(null);function r(i){return function(){var e=i,t=a[e];if(void 0!==t)return t;switch(e){case"json":t=n("./lib/types/json");break;case"raw":t=n("./lib/types/raw");break;case"text":t=n("./lib/types/text");break;case"urlencoded":t=n("./lib/types/urlencoded")}return a[e]=t}}t=e.exports=i.function(function(e){var e=Object.create(e||null,{type:{configurable:!0,enumerable:!0,value:void 0,writable:!0}}),a=t.urlencoded(e),r=t.json(e);return function(t,i,n){r(t,i,function(e){if(e)return n(e);a(t,i,n)})}},"bodyParser: use individual json/urlencoded middlewares"),Object.defineProperty(t,"json",{configurable:!0,enumerable:!0,get:r("json")}),Object.defineProperty(t,"raw",{configurable:!0,enumerable:!0,get:r("raw")}),Object.defineProperty(t,"text",{configurable:!0,enumerable:!0,get:r("text")}),Object.defineProperty(t,"urlencoded",{configurable:!0,enumerable:!0,get:r("urlencoded")})},{"./lib/types/json":97,"./lib/types/raw":98,"./lib/types/text":99,"./lib/types/urlencoded":100,depd:179}],96:[function(e,t,i){"use strict";var d=e("http-errors"),h=e("destroy"),n=e("raw-body"),f=e("iconv-lite"),m=e("on-finished"),y=e("unpipe"),g=e("zlib");t.exports=function(a,r,s,o,c,e){a._body=!0;var t,p,l=null!==e.encoding?e.encoding:null,u=e.verify;try{p=function(e,t,i){var n,a=(e.headers["content-encoding"]||"identity").toLowerCase(),r=e.headers["content-length"];if(t('content-encoding "%s"',a),!1===i&&"identity"!==a)throw d(415,"content encoding unsupported",{encoding:a,type:"encoding.unsupported"});switch(a){case"deflate":n=g.createInflate(),t("inflate body"),e.pipe(n);break;case"gzip":n=g.createGunzip(),t("gunzip body"),e.pipe(n);break;case"identity":(n=e).length=r;break;default:throw d(415,'unsupported content encoding "'+a+'"',{encoding:a,type:"encoding.unsupported"})}return n}(a,c,e.inflate),t=p.length,p.length=void 0}catch(e){return s(e)}if(e.length=t,e.encoding=u?null:l,null===e.encoding&&null!==l&&!f.encodingExists(l))return s(d(415,'unsupported charset "'+l.toUpperCase()+'"',{charset:l.toLowerCase(),type:"charset.unsupported"}));c("read body"),n(p,e,function(e,t){var i;if(e)i="encoding.unsupported"===e.type?d(415,'unsupported charset "'+l.toUpperCase()+'"',{charset:l.toLowerCase(),type:"charset.unsupported"}):d(400,e),p!==a&&(y(a),h(p,!0)),e=a,n=function(){s(d(400,i))},m.isFinished(e)?n(null):(m(e,n),e.resume());else{if(u)try{c("verify body"),u(a,r,t,l)}catch(e){return void s(d(403,e,{body:t,type:e.type||"entity.verify.failed"}))}var n=t;try{c("parse body"),n="string"!=typeof t&&null!==l?f.decode(t,l):t,a.body=o(n)}catch(e){return void s(d(400,e,{body:n,type:e.type||"entity.parse.failed"}))}s()}})}},{destroy:180,"http-errors":310,"iconv-lite":332,"on-finished":106,"raw-body":379,unpipe:512,zlib:void 0}],97:[function(e,t,i){"use strict";var p=e("bytes"),l=e("content-type"),u=e("http-errors"),d=e("debug")("body-parser:json"),h=e("../read"),f=e("type-is"),m=(t.exports=function(e){var e=e||{},a="number"!=typeof e.limit?p.parse(e.limit||"100kb"):e.limit,r=!1!==e.inflate,i=e.reviver,n=!1!==e.strict,t=e.type||"application/json",s=e.verify||!1;if(!1!==s&&"function"!=typeof s)throw new TypeError("option verify must be function");var o="function"!=typeof t?function(t){return function(e){return Boolean(f(e,t))}}(t):t;function c(e){if(0===e.length)return{};if(n){var t=function(e){e=m.exec(e);return e?e[1]:void 0}(e);if("{"!==t&&"["!==t)throw d("strict violation"),function(e,t){var i=e.indexOf(t),e=-1!==i?e.substring(0,i)+"#":"";try{throw JSON.parse(e),new SyntaxError("strict violation")}catch(e){return y(e,{message:e.message.replace("#",t),stack:e.stack})}}(e,t)}try{return d("parse json"),JSON.parse(e,i)}catch(e){throw y(e,{message:e.message,stack:e.stack})}}return function(e,t,i){var n;e._body?(d("body already parsed"),i()):(e.body=e.body||{},f.hasBody(e)?(d("content-type %j",e.headers["content-type"]),o(e)?"utf-"!==(n=function(e){try{return(l.parse(e).parameters.charset||"").toLowerCase()}catch(e){}}(e)||"utf-8").slice(0,4)?(d("invalid charset"),i(u(415,'unsupported charset "'+n.toUpperCase()+'"',{charset:n,type:"charset.unsupported"}))):h(e,t,i,c,d,{encoding:n,inflate:r,limit:a,verify:s}):(d("skip parsing"),i())):(d("skip empty body"),i()))}},/^[\x20\x09\x0a\x0d]*([^\x20\x09\x0a\x0d])/);function y(e,t){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var a=i[n];"stack"!==a&&"message"!==a&&delete e[a]}return e.stack=t.stack.replace(e.message,t.message),e.message=t.message,e}},{"../read":96,bytes:108,"content-type":121,debug:103,"http-errors":310,"type-is":499}],98:[function(e,t,i){"use strict";var c=e("bytes"),p=e("debug")("body-parser:raw"),l=e("../read"),u=e("type-is");t.exports=function(e){var e=e||{},n=!1!==e.inflate,a="number"!=typeof e.limit?c.parse(e.limit||"100kb"):e.limit,t=e.type||"application/octet-stream",r=e.verify||!1;if(!1!==r&&"function"!=typeof r)throw new TypeError("option verify must be function");var s="function"!=typeof t?function(t){return function(e){return Boolean(u(e,t))}}(t):t;function o(e){return e}return function(e,t,i){e._body?(p("body already parsed"),i()):(e.body=e.body||{},u.hasBody(e)?(p("content-type %j",e.headers["content-type"]),s(e)?l(e,t,i,o,p,{encoding:null,inflate:n,limit:a,verify:r}):(p("skip parsing"),i())):(p("skip empty body"),i()))}}},{"../read":96,bytes:108,debug:103,"type-is":499}],99:[function(e,t,i){"use strict";var n=e("bytes"),l=e("content-type"),u=e("debug")("body-parser:text"),d=e("../read"),h=e("type-is");t.exports=function(e){var e=e||{},a=e.defaultCharset||"utf-8",r=!1!==e.inflate,s="number"!=typeof e.limit?n.parse(e.limit||"100kb"):e.limit,t=e.type||"text/plain",o=e.verify||!1;if(!1!==o&&"function"!=typeof o)throw new TypeError("option verify must be function");var c="function"!=typeof t?function(t){return function(e){return Boolean(h(e,t))}}(t):t;function p(e){return e}return function(e,t,i){var n;e._body?(u("body already parsed"),i()):(e.body=e.body||{},h.hasBody(e)?(u("content-type %j",e.headers["content-type"]),c(e)?(n=function(e){try{return(l.parse(e).parameters.charset||"").toLowerCase()}catch(e){}}(e)||a,d(e,t,i,p,u,{encoding:n,inflate:r,limit:s,verify:o})):(u("skip parsing"),i())):(u("skip empty body"),i()))}}},{"../read":96,bytes:108,"content-type":121,debug:103,"type-is":499}],100:[function(i,e,t){"use strict";var p=i("bytes"),l=i("content-type"),u=i("http-errors"),d=i("debug")("body-parser:urlencoded"),h=i("depd")("body-parser"),f=i("../read"),m=i("type-is"),n=(e.exports=function(e){e=e||{};void 0===e.extended&&h("undefined extended: provide extended option");var t=!1!==e.extended,a=!1!==e.inflate,r="number"!=typeof e.limit?p.parse(e.limit||"100kb"):e.limit,i=e.type||"application/x-www-form-urlencoded",s=e.verify||!1;if(!1!==s&&"function"!=typeof s)throw new TypeError("option verify must be function");var n=(t?function(e){var i=void 0!==e.parameterLimit?e.parameterLimit:1e3,n=g("qs");if(isNaN(i)||i<1)throw new TypeError("option parameterLimit must be a positive number");isFinite(i)&&(i|=0);return function(e){var t=y(e,i);if(void 0===t)throw d("too many parameters"),u(413,"too many parameters",{type:"parameters.too.many"});t=Math.max(100,t);return d("parse extended urlencoding"),n(e,{allowPrototypes:!0,arrayLimit:t,depth:1/0,parameterLimit:i})}}:function(e){var t=void 0!==e.parameterLimit?e.parameterLimit:1e3,i=g("querystring");if(isNaN(t)||t<1)throw new TypeError("option parameterLimit must be a positive number");isFinite(t)&&(t|=0);return function(e){if(void 0===y(e,t))throw d("too many parameters"),u(413,"too many parameters",{type:"parameters.too.many"});return d("parse urlencoding"),i(e,void 0,void 0,{maxKeys:t})}})(e),o="function"!=typeof i?function(t){return function(e){return Boolean(m(e,t))}}(i):i;function c(e){return e.length?n(e):{}}return function(e,t,i){var n;e._body?(d("body already parsed"),i()):(e.body=e.body||{},m.hasBody(e)?(d("content-type %j",e.headers["content-type"]),o(e)?"utf-8"!==(n=function(e){try{return(l.parse(e).parameters.charset||"").toLowerCase()}catch(e){}}(e)||"utf-8")?(d("invalid charset"),i(u(415,'unsupported charset "'+n.toUpperCase()+'"',{charset:n,type:"charset.unsupported"}))):f(e,t,i,c,d,{debug:d,encoding:n,inflate:a,limit:r,verify:s}):(d("skip parsing"),i())):(d("skip empty body"),i()))}},Object.create(null));function y(e,t){for(var i=0,n=0;-1!==(n=e.indexOf("&",n));)if(n++,++i===t)return;return i}function g(e){var t=n[e];if(void 0===t){switch(e){case"qs":t=i("qs");break;case"querystring":t=i("querystring")}n[e]=t}return t.parse}},{"../read":96,bytes:108,"content-type":121,debug:103,depd:179,"http-errors":310,qs:374,querystring:void 0,"type-is":499}],101:[function(e,t,a){function i(){var e;try{e=a.storage.debug}catch(e){}return e=!e&&"undefined"!=typeof process&&"env"in process?process.env.DEBUG:e}(a=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},a.formatArgs=function(e){var t,i,n=this.useColors;e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+a.humanize(this.diff),n&&(n="color: "+this.color,e.splice(1,0,n,"color: inherit"),e[i=t=0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e)&&(i=t)}),e.splice(i,0,n))},a.save=function(e){try{null==e?a.storage.removeItem("debug"):a.storage.debug=e}catch(e){}},a.load=i,a.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},a.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),a.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],a.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},a.enable(i())},{"./debug":102}],102:[function(e,t,o){var c;function i(e){function s(){if(s.enabled){for(var n=s,e=+new Date,t=e-(c||e),a=(n.diff=t,n.prev=c,n.curr=e,c=e,new Array(arguments.length)),i=0;i<a.length;i++)a[i]=arguments[i];a[0]=o.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var r=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(e,t){var i;return"%%"!==e&&(r++,"function"==typeof(t=o.formatters[t]))&&(i=a[r],e=t.call(n,i),a.splice(r,1),r--),e}),o.formatArgs.call(n,a),(s.log||o.log||console.log.bind(console)).apply(n,a)}}return s.namespace=e,s.enabled=o.enabled(e),s.useColors=o.useColors(),s.color=function(e){var t,i=0;for(t in e)i=(i<<5)-i+e.charCodeAt(t),i|=0;return o.colors[Math.abs(i)%o.colors.length]}(e),"function"==typeof o.init&&o.init(s),s}(o=t.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},o.disable=function(){o.enable("")},o.enable=function(e){o.save(e),o.names=[],o.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),i=t.length,n=0;n<i;n++)t[n]&&("-"===(e=t[n].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")))},o.enabled=function(e){var t,i;for(t=0,i=o.skips.length;t<i;t++)if(o.skips[t].test(e))return!1;for(t=0,i=o.names.length;t<i;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=e("ms"),o.names=[],o.skips=[],o.formatters={}},{ms:105}],103:[function(e,t,i){"undefined"!=typeof process&&"renderer"===process.type?t.exports=e("./browser.js"):t.exports=e("./node.js")},{"./browser.js":101,"./node.js":104}],104:[function(n,e,a){var r=n("tty"),t=n("util"),i=((a=e.exports=n("./debug")).init=function(e){e.inspectOpts={};for(var t=Object.keys(a.inspectOpts),i=0;i<t.length;i++)e.inspectOpts[t[i]]=a.inspectOpts[t[i]]},a.log=function(){return s.write(t.format.apply(t,arguments)+"\n")},a.formatArgs=function(e){var t=this.namespace;{var i,n;this.useColors?(i=this.color,n="  [3"+i+";1m"+t+" [0m",e[0]=n+e[0].split("\n").join("\n"+n),e.push("[3"+i+"m+"+a.humanize(this.diff)+"[0m")):e[0]=(new Date).toUTCString()+" "+t+" "+e[0]}},a.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},a.load=o,a.useColors=function(){return"colors"in a.inspectOpts?Boolean(a.inspectOpts.colors):r.isatty(i)},a.colors=[6,2,3,4,5,1],a.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var i=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),t=process.env[t],t=!!/^(yes|on|true|enabled)$/i.test(t)||!/^(no|off|false|disabled)$/i.test(t)&&("null"===t?null:Number(t));return e[i]=t,e},{}),parseInt(process.env.DEBUG_FD,10)||2),s=(1!==i&&2!==i&&t.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")(),1===i?process.stdout:2===i?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var i=n("fs");(t=new i.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":i=n("net");(t=new i.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(i));function o(){return process.env.DEBUG}a.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,t.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},a.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,t.inspect(e,this.inspectOpts)},a.enable(o())},{"./debug":102,fs:void 0,net:void 0,tty:void 0,util:void 0}],105:[function(e,t,i){function a(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}t.exports=function(e,t){t=t||{};var i=typeof e;if(!("string"==i&&0<e.length)){if("number"==i&&!1===isNaN(e))if(t.long)return a(i=e,864e5,"day")||a(i,36e5,"hour")||a(i,6e4,"minute")||a(i,1e3,"second")||i+" ms";else{t=e;return 864e5<=t?Math.round(t/864e5)+"d":36e5<=t?Math.round(t/36e5)+"h":6e4<=t?Math.round(t/6e4)+"m":1e3<=t?Math.round(t/1e3)+"s":t+"ms"}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}i=e;if(!(100<(i=String(i)).length)){i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(i);if(i){var n=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}},{}],106:[function(e,t,i){"use strict";t.exports=function(e,t){if(!1!==y(e))m(t,null,e);else{var i=e,t=function(e){var t;h.AsyncResource&&(t=new h.AsyncResource(e.name||"bound-anonymous-fn"));return t&&t.runInAsyncScope?t.runInAsyncScope.bind(t,e,null):e}(t),n=i.__onFinished;if(!n||!n.queue){n=i.__onFinished=function(n){function a(e){if(n.__onFinished===a&&(n.__onFinished=null),a.queue){var t=a.queue;a.queue=null;for(var i=0;i<t.length;i++)t[i](e,n)}}return a.queue=[],a}(i);{var a=i;var r=n;var s,o,c,p,l=!1;function u(e){s.cancel(),o.cancel(),l=!0,r(e)}function d(e){a.removeListener("socket",d),l||s===o&&(o=f([[e,"error","close"]],u))}s=o=f([[a,"end","finish"]],u),a.socket?d(a.socket):(a.on("socket",d),void 0===a.socket&&(c=d,"function"==typeof(p=(i=a).assignSocket))&&(i.assignSocket=function(e){p.call(this,e),c(e)}))}}n.queue.push(t)}return e},t.exports.isFinished=y;var h=function(){try{return e("async_hooks")}catch(e){return{}}}(),f=e("ee-first"),m="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function y(e){var t=e.socket;return"boolean"==typeof e.finished?Boolean(e.finished||t&&!t.writable):"boolean"==typeof e.complete?Boolean(e.upgrade||!t||!t.readable||e.complete&&!e.readable):void 0}},{async_hooks:void 0,"ee-first":182}],107:[function(e,t,i){var k=e("concat-map"),E=e("balanced-match"),n=(t.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function t(e,i){var n=[];var a=E("{","}",e);if(!a||/\$$/.test(a.pre))return[e];var r=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body);var s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body);var o=r||s;r=0<=a.body.indexOf(",");if(!o&&!r)return a.post.match(/,.*\}/)?(e=a.pre+"{"+a.body+S+a.post,t(e)):[e];var c;if(o)c=a.body.split(/\.\./);else if(1===(c=C(a.body)).length)if(1===(c=t(c[0],!1).map(T)).length)return(l=a.post.length?t(a.post,!1):[""]).map(function(e){return a.pre+c[0]+e});var p=a.pre;var l=a.post.length?t(a.post,!1):[""];var u;if(o){var r=D(c[0]),d=D(c[1]),h=Math.max(c[0].length,c[1].length),f=3==c.length?Math.abs(D(c[2])):1,m=O,e=d<r,y=(e&&(f*=-1,m=I),c.some(A));u=[];for(var g,v,b=r;m(b,d);b+=f)s?"\\"===(g=String.fromCharCode(b))&&(g=""):(g=String(b),y&&0<(v=h-g.length)&&(v=new Array(1+v).join("0"),g=b<0?"-"+v+g.slice(1):v+g)),u.push(g)}else u=k(c,function(e){return t(e,!1)});for(var x=0;x<u.length;x++)for(var _=0;_<l.length;_++){var w=p+u[x]+l[_];i&&!o&&!w||n.push(w)}return n}(function(e){return e.split("\\\\").join(n).split("\\{").join(a).split("\\}").join(S).split("\\,").join(r).split("\\.").join(s)}(e),!0).map(o)},"\0SLASH"+Math.random()+"\0"),a="\0OPEN"+Math.random()+"\0",S="\0CLOSE"+Math.random()+"\0",r="\0COMMA"+Math.random()+"\0",s="\0PERIOD"+Math.random()+"\0";function D(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function o(e){return e.split(n).join("\\").split(a).join("{").split(S).join("}").split(r).join(",").split(s).join(".")}function C(e){var t,i,n,a;return e?(t=[],(i=E("{","}",e))?(n=i.pre,a=i.body,i=i.post,(n=n.split(","))[n.length-1]+="{"+a+"}",a=C(i),i.length&&(n[n.length-1]+=a.shift(),n.push.apply(n,a)),t.push.apply(t,n),t):e.split(",")):[""]}function T(e){return"{"+e+"}"}function A(e){return/^-?0\d/.test(e)}function O(e,t){return e<=t}function I(e,t){return t<=e}},{"balanced-match":90,"concat-map":112}],108:[function(e,t,i){"use strict";t.exports=function(e,t){return"string"!=typeof e?"number"!=typeof e?null:n(e,t):r(e)},t.exports.format=n,t.exports.parse=r;var o=/\B(?=(\d{3})+(?!\d))/g,c=/(?:\.0*|(\.[^0]+)0+)$/,p={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},a=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function n(e,t){if(!Number.isFinite(e))return null;var i=Math.abs(e),n=t&&t.thousandsSeparator||"",a=t&&t.unitSeparator||"",r=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,s=Boolean(t&&t.fixedDecimals),t=t&&t.unit||"";t&&p[t.toLowerCase()]||(t=i>=p.pb?"PB":i>=p.tb?"TB":i>=p.gb?"GB":i>=p.mb?"MB":i>=p.kb?"KB":"B");i=(e/p[t.toLowerCase()]).toFixed(r);return s||(i=i.replace(c,"$1")),(i=n?i.split(".").map(function(e,t){return 0===t?e.replace(o,n):e}).join("."):i)+a+t}function r(e){var t,i,n;return"number"!=typeof e||isNaN(e)?"string"!=typeof e||(n="b",n=(t=a.exec(e))?(i=parseFloat(t[1]),t[4].toLowerCase()):(i=parseInt(e,10),"b"),isNaN(i))?null:Math.floor(p[n]*i):e}},{}],109:[function(e,t,i){"use strict";var n=e("get-intrinsic"),a=e("./"),r=a(n("String.prototype.indexOf"));t.exports=function(e,t){t=n(e,!!t);return"function"==typeof t&&-1<r(e,".prototype.")?a(t):t}},{"./":110,"get-intrinsic":301}],110:[function(e,t,i){"use strict";var n=e("function-bind"),e=e("get-intrinsic"),a=e("%Function.prototype.apply%"),r=e("%Function.prototype.call%"),s=e("%Reflect.apply%",!0)||n.call(r,a),o=e("%Object.getOwnPropertyDescriptor%",!0),c=e("%Object.defineProperty%",!0),p=e("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}t.exports=function(e){var t=s(n,r,arguments);return o&&c&&o(t,"length").configurable&&c(t,"length",{value:1+p(0,e.length-(arguments.length-1))}),t};function l(){return s(n,a,arguments)}c?c(t.exports,"apply",{value:l}):t.exports.apply=l},{"function-bind":285,"get-intrinsic":301}],111:[function(e,t,i){function o(e,t){return e.level=0,e.hasBasic=!1,e.has256=!1,e.has16m=!1,!!t.alwaysReturn&&e}function c(e){return e.hasBasic=!0,e.has256=!1,e.has16m=!1,e.level=1,e}function p(e){return e.hasBasic=!0,e.has256=!0,e.has16m=!1,e.level=2,e}function l(e){return e.hasBasic=!0,e.has256=!0,e.has16m=!0,e.level=3,e}function n(e,t){if(t=t||{},"number"==typeof(e=e||{}).level)switch(e.level){case 0:return o(t,e);case 1:return c(t);case 2:return p(t);case 3:return l(t)}if(t.level=0,t.hasBasic=!1,t.has256=!1,t.has16m=!1,!("undefined"!=typeof process&&process&&process.stdout&&process.env&&process.platform))return o(t,e);var i=e.env||process.env,n=e.stream||process.stdout,a=e.term||i.TERM||"",r=e.platform||process.platform;if(!e.ignoreTTY&&!n.isTTY)return o(t,e);if(!e.ignoreDumb&&"dumb"===a&&!i.COLORTERM)return o(t,e);if("win32"===r)return c(t);if(i.TMUX)return p(t);if(!e.ignoreCI&&(i.CI||i.TEAMCITY_VERSION))return i.TRAVIS?p(t):o(t,e);switch(i.TERM_PROGRAM){case"iTerm.app":var s=i.TERM_PROGRAM_VERSION||"0.";return(/^[0-2]\./.test(s)?p:l)(t);case"HyperTerm":case"Hyper":case"MacTerm":return l(t);case"Apple_Terminal":return p(t)}return/^xterm-256/.test(a)?p(t):/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(a)||i.COLORTERM?c(t):o(t,e)}t.exports=n({alwaysReturn:!0},n)},{}],112:[function(e,t,i){t.exports=function(e,t){for(var i=[],n=0;n<e.length;n++){var a=t(e[n],n);r(a)?i.push.apply(i,a):i.push(a)}return i};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],113:[function(e,t,i){"use strict";var b=e("debug")("connect:dispatcher"),a=e("events").EventEmitter,n=e("finalhandler"),r=e("http"),s=e("utils-merge"),x=e("parseurl"),o=(t.exports=function(){function n(e,t,i){n.handle(e,t,i)}return s(n,c),s(n,a.prototype),n.route="/",n.stack=[],n},process.env.NODE_ENV||"development"),c={},_="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function p(e){"test"!==o&&console.error(e.stack||e.toString())}c.use=function(e,t){var n,i=e;return"string"!=typeof e&&(t=e,i="/"),"function"==typeof t.handle&&((n=t).route=i,t=function(e,t,i){n.handle(e,t,i)}),t instanceof r.Server&&(t=t.listeners("request")[0]),"/"===i[i.length-1]&&(i=i.slice(0,-1)),b("use %s %s",i||"/",t.name||"anonymous"),this.stack.push({route:i,handle:t}),this},c.handle=function(u,d,e){var h=0,f=function(e){if(0===e.length||"/"===e[0])return;var t=e.indexOf("://");return-1!==t&&-1===e.lastIndexOf("?",t)?e.substr(0,e.indexOf("/",3+t)):void 0}(u.url)||"",m="",y=!1,g=this.stack,v=e||n(u,d,{env:o,onerror:p});u.originalUrl=u.originalUrl||u.url,function e(t){y&&(u.url=u.url.substr(1),y=!1),0!==m.length&&(u.url=f+m+u.url.substr(f.length),m="");var i=g[h++];if(i){var n=x(u).pathname||"/",a=i.route;if(n.toLowerCase().substr(0,a.length)!==a.toLowerCase())return e(t);if((n=n.length>a.length&&n[a.length])&&"/"!==n&&"."!==n)return e(t);0!==a.length&&"/"!==a&&(m=a,u.url=f+u.url.substr(f.length+m.length),f||"/"===u.url[0]||(u.url="/"+u.url,y=!0));var n=i.handle,i=a,a=t,r=u,s=d,o=e,c=n.length,p=a,l=Boolean(a);b("%s %s : %s",n.name||"<anonymous>",i,r.originalUrl);try{if(l&&4===c)return void n(a,r,s,o);if(!l&&c<4)return void n(r,s,o)}catch(e){p=e}o(p)}else _(v,t)}()},c.listen=function(){var e=r.createServer(this);return e.listen.apply(e,arguments)}},{debug:116,events:void 0,finalhandler:274,http:void 0,parseurl:369,"utils-merge":514}],114:[function(e,t,i){arguments[4][101][0].apply(i,arguments)},{"./debug":115,dup:101}],115:[function(e,t,i){arguments[4][102][0].apply(i,arguments)},{dup:102,ms:118}],116:[function(e,t,i){arguments[4][103][0].apply(i,arguments)},{"./browser.js":114,"./node.js":117,dup:103}],117:[function(e,t,i){arguments[4][104][0].apply(i,arguments)},{"./debug":115,dup:104,fs:void 0,net:void 0,tty:void 0,util:void 0}],118:[function(e,t,i){arguments[4][105][0].apply(i,arguments)},{dup:105}],119:[function(e,t,i){"use strict";var n="[",a=(i.up=function(e){return n+(e||"")+"A"},i.down=function(e){return n+(e||"")+"B"},i.forward=function(e){return n+(e||"")+"C"},i.back=function(e){return n+(e||"")+"D"},i.nextLine=function(e){return n+(e||"")+"E"},i.previousLine=function(e){return n+(e||"")+"F"},i.horizontalAbsolute=function(e){if(null==e)throw new Error("horizontalAboslute requires a column to position to");return n+e+"G"},i.eraseData=function(){return"[J"},i.eraseLine=function(){return"[K"},i.goto=function(e,t){return n+t+";"+e+"H"},i.gotoSOL=function(){return"\r"},i.beep=function(){return""},i.hideCursor=function(){return"[?25l"},i.showCursor=function(){return"[?25h"},{reset:0,bold:1,italic:3,underline:4,inverse:7,stopBold:22,stopItalic:23,stopUnderline:24,stopInverse:27,white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,bgWhite:47,bgBlack:40,bgBlue:44,bgCyan:46,bgGreen:42,bgMagenta:45,bgRed:41,bgYellow:43,grey:90,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97,bgGrey:100,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107});function r(e){if(null!=a[e])return a[e];throw new Error("Unknown color or style name: "+e)}i.color=function(e){return 1===arguments.length&&Array.isArray(e)||(e=Array.prototype.slice.call(arguments)),n+e.map(r).join(";")+"m"}},{}],120:[function(e,t,i){"use strict";t.exports=function(e,t){var t=t||{},i=t.type||"attachment",e=function(e,t){if(void 0!==e){var i={};if("string"!=typeof e)throw new TypeError("filename must be a string");if("string"!=typeof(t=void 0===t?!0:t)&&"boolean"!=typeof t)throw new TypeError("fallback must be a string or boolean");if("string"==typeof t&&l.test(t))throw new TypeError("fallback must be ISO-8859-1 string");var e=r(e),n=f.test(e),t="string"!=typeof t?t&&v(e):r(t),a="string"==typeof t&&t!==e;return!a&&n&&!s.test(e)||(i["filename*"]=e),(n||a)&&(i.filename=a?t:e),i}}(e,t.fallback);return function(e){var t=e.parameters,e=e.type;if(!e||"string"!=typeof e||!m.test(e))throw new TypeError("invalid type");var i,n=String(e).toLowerCase();if(t&&"object"==typeof t)for(var a=Object.keys(t).sort(),r=0;r<a.length;r++){var s=("*"===(i=a[r]).substr(-1)?function(e){e=String(e);return"UTF-8''"+encodeURIComponent(e).replace(o,x)}:function(e){return'"'+String(e).replace(d,"\\$1")+'"'})(t[i]);n+="; "+i+"="+s}return n}(new _(i,e))},t.exports.parse=function(e){if(!e||"string"!=typeof e)throw new TypeError("argument string is required");var t=g.exec(e);if(!t)throw new TypeError("invalid type format");var i,n,a=t[0].length,r=t[1].toLowerCase(),s=[],o={};a=h.lastIndex=";"===t[0].substr(-1)?a-1:a;for(;t=h.exec(e);){if(t.index!==a)throw new TypeError("invalid parameter format");if(a+=t[0].length,i=t[1].toLowerCase(),n=t[2],-1!==s.indexOf(i))throw new TypeError("invalid duplicate parameter");s.push(i),i.indexOf("*")+1===i.length?(i=i.slice(0,-1),n=function(e){e=y.exec(e);if(!e)throw new TypeError("invalid extended field value");var t,i=e[1].toLowerCase(),n=e[2].replace(p,b);switch(i){case"iso-8859-1":t=v(n);break;case"utf-8":t=c.from(n,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return t}(n),o[i]=n):"string"!=typeof o[i]&&('"'===n[0]&&(n=n.substr(1,n.length-2).replace(u,"$1")),o[i]=n)}if(-1===a||a===e.length)return new _(r,o);throw new TypeError("invalid parameter format")};var r=e("path").basename,c=e("safe-buffer").Buffer,o=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,s=/%[0-9A-Fa-f]{2}/,p=/%([0-9A-Fa-f]{2})/g,l=/[^\x20-\x7e\xa0-\xff]/g,u=/\\([\u0000-\u007f])/g,d=/([\\"])/g,h=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,f=/^[\x20-\x7e\x80-\xff]+$/,m=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,y=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,g=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function v(e){return String(e).replace(l,"?")}function b(e,t){return String.fromCharCode(parseInt(t,16))}function x(e){return"%"+String(e).charCodeAt(0).toString(16).toUpperCase()}function _(e,t){this.type=e,this.parameters=t}},{path:void 0,"safe-buffer":413}],121:[function(e,t,i){"use strict";var s=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,o=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,c=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,p=/\\([\u000b\u0020-\u00ff])/g,l=/([\\"])/g,u=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function d(e){this.parameters=Object.create(null),this.type=e}i.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,e=e.type;if(!e||!u.test(e))throw new TypeError("invalid type");var i,n=e;if(t&&"object"==typeof t)for(var a=Object.keys(t).sort(),r=0;r<a.length;r++){if(i=a[r],!c.test(i))throw new TypeError("invalid parameter name");n+="; "+i+"="+function(e){e=String(e);if(c.test(e))return e;if(0<e.length&&!o.test(e))throw new TypeError("invalid parameter value");return'"'+e.replace(l,"\\$1")+'"'}(t[i])}return n},i.parse=function(e){if(!e)throw new TypeError("argument string is required");var t="object"==typeof e?function(e){var t;"function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==typeof e.headers&&(t=e.headers&&e.headers["content-type"]);if("string"==typeof t)return t;throw new TypeError("content-type header is missing from object")}(e):e;if("string"!=typeof t)throw new TypeError("argument string is required to be a string");var i=t.indexOf(";"),e=(-1!==i?t.slice(0,i):t).trim();if(!u.test(e))throw new TypeError("invalid media type");var n,a,r=new d(e.toLowerCase());if(-1!==i){for(s.lastIndex=i;a=s.exec(t);){if(a.index!==i)throw new TypeError("invalid parameter format");i+=a[0].length,n=a[1].toLowerCase(),34===(a=a[2]).charCodeAt(0)&&-1!==(a=a.slice(1,-1)).indexOf("\\")&&(a=a.replace(p,"$1")),r.parameters[n]=a}if(i!==t.length)throw new TypeError("invalid parameter format")}return r}},{}],122:[function(e,t,n){var i=e("crypto");function a(e){return i.createHash("sha1").update(e).digest("hex")}n.sign=function(e,t){if("string"!=typeof e)throw new TypeError("Cookie value must be provided as a string.");if("string"!=typeof t)throw new TypeError("Secret string must be provided.");return e+"."+i.createHmac("sha256",t).update(e).digest("base64").replace(/\=+$/,"")},n.unsign=function(e,t){if("string"!=typeof e)throw new TypeError("Signed cookie string must be provided.");if("string"!=typeof t)throw new TypeError("Secret string must be provided.");var i=e.slice(0,e.lastIndexOf("."));return a(n.sign(i,t))==a(e)&&i}},{crypto:void 0}],123:[function(e,t,i){"use strict";i.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");var i={},n=(t||{}).decode||c,a=0;for(;a<e.length;){var r=e.indexOf("=",a);if(-1===r)break;var s=e.indexOf(";",a);if(-1===s)s=e.length;else if(s<r){a=e.lastIndexOf(";",r-1)+1;continue}var o=e.slice(a,r).trim();void 0===i[o]&&(34===(r=e.slice(r+1,s).trim()).charCodeAt(0)&&(r=r.slice(1,-1)),i[o]=function(t,e){try{return e(t)}catch(e){return t}}(r,n)),a=s+1}return i},i.serialize=function(e,t,i){var i=i||{},n=i.encode||o;if("function"!=typeof n)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");n=n(t);if(n&&!s.test(n))throw new TypeError("argument val is invalid");var a=e+"="+n;if(null!=i.maxAge){t=+i.maxAge;if(isNaN(t)||!isFinite(t))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(t)}if(i.domain){if(!s.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!s.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){e=i.expires;if(!function(e){return"[object Date]"===r.call(e)||e instanceof Date}(e)||isNaN(e.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+e.toUTCString()}i.httpOnly&&(a+="; HttpOnly");i.secure&&(a+="; Secure");if(i.priority)switch("string"==typeof i.priority?i.priority.toLowerCase():i.priority){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a};var r=Object.prototype.toString,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function c(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function o(e){return encodeURIComponent(e)}},{}],124:[function(e,t,i){!function(){"use strict";var n=e("object-assign"),r=e("vary"),a={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function s(e){return"string"==typeof e||e instanceof String}function d(e,t){var t=t.headers.origin,i=[];return e.origin&&"*"!==e.origin?(s(e.origin)?i.push([{key:"Access-Control-Allow-Origin",value:e.origin}]):(e=function e(t,i){if(Array.isArray(i)){for(var n=0;n<i.length;++n)if(e(t,i[n]))return!0;return!1}return s(i)?t===i:i instanceof RegExp?i.test(t):!!i}(t,e.origin),i.push([{key:"Access-Control-Allow-Origin",value:!!e&&t}])),i.push([{key:"Vary",value:"Origin"}])):i.push([{key:"Access-Control-Allow-Origin",value:"*"}]),i}function h(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function f(e){e=e.exposedHeaders;return(e=e&&(e.join?e.join(","):e))&&e.length?{key:"Access-Control-Expose-Headers",value:e}:null}function m(e,t){for(var i=0,n=e.length;i<n;i++){var a=e[i];a&&(Array.isArray(a)?m(a,t):"Vary"===a.key&&a.value?r(t,a.value):a.value&&t.setHeader(a.key,a.value))}}t.exports=function(i){var e=null,e="function"==typeof i?i:function(e,t){t(null,i)};return function(p,l,u){e(p,function(e,t){var c;e?u(e):(e=null,(c=n({},a,t)).origin&&"function"==typeof c.origin?e=c.origin:c.origin&&(e=function(e,t){t(null,c.origin)}),e?e(p.headers.origin,function(e,t){var i,n,a,r,s,o;e||!t?u(e):(c.origin=t,e=c,t=l,n=u,o=[],"OPTIONS"===((i=p).method&&i.method.toUpperCase&&i.method.toUpperCase())?(o.push(d(e,i)),o.push(h(e)),o.push({key:"Access-Control-Allow-Methods",value:s=(s=(r=e).methods).join?r.methods.join(","):s}),o.push((r=i,s=(s=e).allowedHeaders||s.headers,a=[],s?s.join&&(s=s.join(",")):(s=r.headers["access-control-request-headers"],a.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),s&&s.length&&a.push([{key:"Access-Control-Allow-Headers",value:s}]),a)),o.push((r=("number"==typeof(r=e).maxAge||r.maxAge)&&r.maxAge.toString())&&r.length?{key:"Access-Control-Max-Age",value:r}:null),o.push(f(e)),m(o,t),e.preflightContinue?n():(t.statusCode=e.optionsSuccessStatus,t.setHeader("Content-Length","0"),t.end())):(o.push(d(e,i)),o.push(h(e)),o.push(f(e)),m(o,t),n()))}):u())})}}}()},{"object-assign":364,vary:515}],125:[function(e,t,i){var n,a;n=this,a=function(e){for(var t=e,i=t.lib.BlockCipher,n=t.algo,p=[],a=[],r=[],s=[],o=[],c=[],l=[],u=[],d=[],h=[],f=[],m=0;m<256;m++)f[m]=m<128?m<<1:m<<1^283;for(var y=0,g=0,m=0;m<256;m++){var v=g^g<<1^g<<2^g<<3^g<<4,b=f[a[p[y]=v=v>>>8^255&v^99]=y],x=f[b],_=f[x],w=257*f[v]^16843008*v;r[y]=w<<24|w>>>8,s[y]=w<<16|w>>>16,o[y]=w<<8|w>>>24,c[y]=w,l[v]=(w=16843009*_^65537*x^257*b^16843008*y)<<24|w>>>8,u[v]=w<<16|w>>>16,d[v]=w<<8|w>>>24,h[v]=w,y?(y=b^f[f[f[_^b]]],g^=f[f[g]]):y=g=1}var k=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=i.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,n=4*(1+(this._nRounds=6+i)),a=this._keySchedule=[],r=0;r<n;r++)r<i?a[r]=t[r]:(c=a[r-1],r%i?6<i&&r%i==4&&(c=p[c>>>24]<<24|p[c>>>16&255]<<16|p[c>>>8&255]<<8|p[255&c]):(c=p[(c=c<<8|c>>>24)>>>24]<<24|p[c>>>16&255]<<16|p[c>>>8&255]<<8|p[255&c],c^=k[r/i|0]<<24),a[r]=a[r-i]^c);for(var s=this._invKeySchedule=[],o=0;o<n;o++){var c,r=n-o;c=o%4?a[r]:a[r-4],s[o]=o<4||r<=4?c:l[p[c>>>24]]^u[p[c>>>16&255]]^d[p[c>>>8&255]]^h[p[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,s,o,c,p)},decryptBlock:function(e,t){var i=e[t+1],i=(e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,l,u,d,h,a),e[t+1]);e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,a,r,s,o){for(var c=this._nRounds,p=e[t]^i[0],l=e[t+1]^i[1],u=e[t+2]^i[2],d=e[t+3]^i[3],h=4,f=1;f<c;f++)var m=n[p>>>24]^a[l>>>16&255]^r[u>>>8&255]^s[255&d]^i[h++],y=n[l>>>24]^a[u>>>16&255]^r[d>>>8&255]^s[255&p]^i[h++],g=n[u>>>24]^a[d>>>16&255]^r[p>>>8&255]^s[255&l]^i[h++],v=n[d>>>24]^a[p>>>16&255]^r[l>>>8&255]^s[255&u]^i[h++],p=m,l=y,u=g,d=v;m=(o[p>>>24]<<24|o[l>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^i[h++],y=(o[l>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&p])^i[h++],g=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[p>>>8&255]<<8|o[255&l])^i[h++],v=(o[d>>>24]<<24|o[p>>>16&255]<<16|o[l>>>8&255]<<8|o[255&u])^i[h++];e[t]=m,e[t+1]=y,e[t+2]=g,e[t+3]=v},keySize:8});return t.AES=i._createHelper(n),e.AES},"object"==typeof i?t.exports=i=a(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128,"./enc-base64":129,"./evpkdf":132,"./md5":137}],126:[function(e,t,i){var n,a;n=this,a=function(e){{var t=e,i=t.lib.BlockCipher,n=t.algo;const u=16,d=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var p={pbox:[],sbox:[]};function s(e,t){var i=e.sbox[0][t>>24&255]+e.sbox[1][t>>16&255];return i=(i^=e.sbox[2][t>>8&255])+e.sbox[3][255&t]}function l(t,e,i){let n=e,a=i,r;for(let e=0;e<u;++e)n^=t.pbox[e],a=s(t,n)^a,r=n,n=a,a=r;return r=n,n=a,a=r,a^=t.pbox[u],{left:n^=t.pbox[u+1],right:a}}n=n.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,r=e.words,e=e.sigBytes/4;{var s=p,o=r,c=e;for(let t=0;t<4;t++){s.sbox[t]=[];for(let e=0;e<256;e++)s.sbox[t][e]=h[t][e]}let t=0;for(let e=0;e<u+2;e++)s.pbox[e]=d[e]^o[t],++t>=c&&(t=0);let i=0,n=0,a=0;for(let e=0;e<u+2;e+=2)a=l(s,i,n),i=a.left,n=a.right,s.pbox[e]=i,s.pbox[e+1]=n;for(let t=0;t<4;t++)for(let e=0;e<256;e+=2)a=l(s,i,n),i=a.left,n=a.right,s.sbox[t][e]=i,s.sbox[t][e+1]=n}}},encryptBlock:function(e,t){var i=l(p,e[t],e[t+1]);e[t]=i.left,e[t+1]=i.right},decryptBlock:function(e,t){var i=function(t,e,i){let n=e,a=i,r;for(let e=u+1;1<e;--e)n^=t.pbox[e],a=s(t,n)^a,r=n,n=a,a=r;return r=n,n=a,a=r,a^=t.pbox[1],{left:n^=t.pbox[0],right:a}}(p,e[t],e[t+1]);e[t]=i.left,e[t+1]=i.right},blockSize:2,keySize:4,ivSize:2}),t.Blowfish=i._createHelper(n)}return e.Blowfish},"object"==typeof i?t.exports=i=a(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128,"./enc-base64":129,"./evpkdf":132,"./md5":137}],127:[function(e,t,i){var n,a;n=this,a=function(e){function a(e){return"string"==typeof e?f:h}function r(e,t,i){var n,a=this._iv;a?(n=a,this._iv=void 0):n=this._prevBlock;for(var r=0;r<i;r++)e[t+r]^=n[r]}var t,i,s,n,o,c,p,l,u,d,h,f;e.lib.Cipher||(t=(e=e).lib,i=t.Base,s=t.WordArray,n=t.BufferedBlockAlgorithm,(o=e.enc).Utf8,c=o.Base64,p=e.algo.EvpKDF,l=t.Cipher=n.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(n){return{encrypt:function(e,t,i){return a(t).encrypt(n,e,t,i)},decrypt:function(e,t,i){return a(t).decrypt(n,e,t,i)}}}}),t.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),o=e.mode={},u=t.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=o.CBC=((o=u.extend()).Encryptor=o.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize;r.call(this,e,t,n),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),o.Decryptor=o.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,a=e.slice(t,t+n);i.decryptBlock(e,t),r.call(this,e,t,n),this._prevBlock=a}}),o),o=(e.pad={}).Pkcs7={pad:function(e,t){for(var t=4*t,i=t-e.sigBytes%t,n=i<<24|i<<16|i<<8|i,a=[],r=0;r<i;r+=4)a.push(n);t=s.create(a,i);e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},t.BlockCipher=l.extend({cfg:l.cfg.extend({mode:u,padding:o}),reset:function(){l.reset.call(this);var e,t=this.cfg,i=t.iv,t=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=t.createEncryptor:(e=t.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(t,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),d=t.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(e.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,e=e.salt,e=e?s.create([1398893684,1701076831]).concat(e).concat(t):t;return e.toString(c)},parse:function(e){var t,e=c.parse(e),i=e.words;return 1398893684==i[0]&&1701076831==i[1]&&(t=s.create(i.slice(2,4)),i.splice(0,4),e.sigBytes-=16),d.create({ciphertext:e,salt:t})}},h=t.SerializableCipher=i.extend({cfg:i.extend({format:u}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var a=e.createEncryptor(i,n),t=a.finalize(t),a=a.cfg;return d.create({ciphertext:t,key:i,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),o=(e.kdf={}).OpenSSL={execute:function(e,t,i,n,a){n=n||s.random(8),a=(a?p.create({keySize:t+i,hasher:a}):p.create({keySize:t+i})).compute(e,n);e=s.create(a.words.slice(t),4*i);return a.sigBytes=4*t,d.create({key:a,iv:e,salt:n})}},f=t.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:o}),encrypt:function(e,t,i,n){i=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize,n.salt,n.hasher),n.iv=i.iv,e=h.encrypt.call(this,e,t,i.key,n);return e.mixIn(i),e},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);i=n.kdf.execute(i,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=i.iv,h.decrypt.call(this,e,t,i.key,n)}}))},"object"==typeof i?t.exports=i=a(e("./core"),e("./evpkdf")):"function"==typeof define&&define.amd?define(["./core","./evpkdf"],a):a(n.CryptoJS)},{"./core":128,"./evpkdf":132}],128:[function(f,e,t){var i,n;i=this,n=function(){var n,p=Math;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),!(n=!(n=!(n="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:n)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:n)&&"undefined"!=typeof global&&global.crypto?global.crypto:n)&&"function"==typeof f)try{n=f("crypto")}catch(e){}var i=Object.create||function(e){return t.prototype=e,e=new t,t.prototype=null,e};function t(){}var e={},a=e.lib={},r=a.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=a.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,a=e.sigBytes;if(this.clamp(),n%4)for(var r=0;r<a;r++){var s=i[r>>>2]>>>24-r%4*8&255;t[n+r>>>2]|=s<<24-(n+r)%4*8}else for(var o=0;o<a;o+=4)t[n+o>>>2]=i[o>>>2];return this.sigBytes+=a,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=p.ceil(t/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new l.init(t,e)}}),s=e.enc={},o=s.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],a=0;a<i;a++){var r=t[a>>>2]>>>24-a%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(i,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],a=0;a<i;a++){var r=t[a>>>2]>>>24-a%4*8&255;n.push(String.fromCharCode(r))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(i,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=a.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,i=this._data,n=i.words,a=i.sigBytes,r=this.blockSize,s=a/(4*r),o=(s=e?p.ceil(s):p.max((0|s)-this._minBufferSize,0))*r,e=p.min(4*o,a);if(o){for(var c=0;c<o;c+=r)this._doProcessBlock(n,c);t=n.splice(0,o),i.sigBytes-=e}return new l.init(t,e)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(a.Hasher=d.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(e,t){return new i.init(t).finalize(e)}},_createHmacHelper:function(i){return function(e,t){return new h.HMAC.init(i,t).finalize(e)}}}),e.algo={});return e},"object"==typeof t?e.exports=t=n():"function"==typeof define&&define.amd?define([],n):i.CryptoJS=n()},{crypto:void 0}],129:[function(e,t,i){var n,a;n=this,a=function(e){var f;return f=e.lib.WordArray,e.enc.Base64={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=this._map,a=(e.clamp(),[]),r=0;r<i;r+=3)for(var s=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,o=0;o<4&&r+.75*o<i;o++)a.push(n.charAt(s>>>6*(3-o)&63));var c=n.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,i=this._map;if(!(n=this._reverseMap))for(var n=this._reverseMap=[],a=0;a<i.length;a++)n[i.charCodeAt(a)]=a;for(var r,s,o=i.charAt(64),c=(o&&-1!==(o=e.indexOf(o))&&(t=o),e),p=t,l=n,u=[],d=0,h=0;h<p;h++)h%4&&(r=l[c.charCodeAt(h-1)]<<h%4*2,s=l[c.charCodeAt(h)]>>>6-h%4*2,u[d>>>2]|=(r|s)<<24-d%4*8,d++);return f.create(u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],130:[function(e,t,i){var n,a;n=this,a=function(e){var f;return f=e.lib.WordArray,e.enc.Base64url={stringify:function(e,t){for(var i=e.words,n=e.sigBytes,a=(t=void 0===t?!0:t)?this._safe_map:this._map,r=(e.clamp(),[]),s=0;s<n;s+=3)for(var o=(i[s>>>2]>>>24-s%4*8&255)<<16|(i[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|i[s+2>>>2]>>>24-(s+2)%4*8&255,c=0;c<4&&s+.75*c<n;c++)r.push(a.charAt(o>>>6*(3-c)&63));var p=a.charAt(64);if(p)for(;r.length%4;)r.push(p);return r.join("")},parse:function(e,t){var i=e.length,n=(t=void 0===t?!0:t)?this._safe_map:this._map;if(!(a=this._reverseMap))for(var a=this._reverseMap=[],r=0;r<n.length;r++)a[n.charCodeAt(r)]=r;for(var s,o,t=n.charAt(64),c=(t&&-1!==(t=e.indexOf(t))&&(i=t),e),p=i,l=a,u=[],d=0,h=0;h<p;h++)h%4&&(s=l[c.charCodeAt(h-1)]<<h%4*2,o=l[c.charCodeAt(h)]>>>6-h%4*2,u[d>>>2]|=(s|o)<<24-d%4*8,d++);return f.create(u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},e.enc.Base64url},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],131:[function(e,t,i){var n,a;n=this,a=function(e){var a=e.lib.WordArray,t=e.enc;function s(e){return e<<8&4278255360|e>>>8&16711935}return t.Utf16=t.Utf16BE={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],a=0;a<i;a+=2){var r=t[a>>>2]>>>16-a%4*8&65535;n.push(String.fromCharCode(r))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>1]|=e.charCodeAt(n)<<16-n%2*16;return a.create(i,2*t)}},t.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],a=0;a<i;a+=2){var r=s(t[a>>>2]>>>16-a%4*8&65535);n.push(String.fromCharCode(r))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>1]|=s(e.charCodeAt(n)<<16-n%2*16);return a.create(i,2*t)}},e.enc.Utf16},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],132:[function(e,t,i){var n,a;n=this,a=function(e){var t,i,n,l,a,r;return i=(t=e).lib,n=i.Base,l=i.WordArray,i=t.algo,a=i.MD5,r=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,n=this.cfg,a=n.hasher.create(),r=l.create(),s=r.words,o=n.keySize,c=n.iterations;s.length<o;){i&&a.update(i),i=a.update(e).finalize(t),a.reset();for(var p=1;p<c;p++)i=a.finalize(i),a.reset();r.concat(i)}return r.sigBytes=4*o,r}}),t.EvpKDF=function(e,t,i){return r.create(i).compute(e,t)},e.EvpKDF},"object"==typeof i?t.exports=i=a(e("./core"),e("./sha1"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],a):a(n.CryptoJS)},{"./core":128,"./hmac":134,"./sha1":153}],133:[function(e,t,i){var n,a;n=this,a=function(e){var t,i;return t=e.lib.CipherParams,i=e.enc.Hex,e.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){e=i.parse(e);return t.create({ciphertext:e})}},e.format.Hex},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],134:[function(e,t,i){var n,a;n=this,a=function(e){var t,o;t=e.lib.Base,o=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));for(var i=e.blockSize,n=4*i,e=((t=t.sigBytes>n?e.finalize(t):t).clamp(),this._oKey=t.clone()),t=this._iKey=t.clone(),a=e.words,r=t.words,s=0;s<i;s++)a[s]^=1549556828,r[s]^=909522486;e.sigBytes=t.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],135:[function(e,t,i){var n,a;n=this,a=function(e){return e},"object"==typeof i?t.exports=i=a(e("./core"),e("./x64-core"),e("./lib-typedarrays"),e("./enc-utf16"),e("./enc-base64"),e("./enc-base64url"),e("./md5"),e("./sha1"),e("./sha256"),e("./sha224"),e("./sha512"),e("./sha384"),e("./sha3"),e("./ripemd160"),e("./hmac"),e("./pbkdf2"),e("./evpkdf"),e("./cipher-core"),e("./mode-cfb"),e("./mode-ctr"),e("./mode-ctr-gladman"),e("./mode-ofb"),e("./mode-ecb"),e("./pad-ansix923"),e("./pad-iso10126"),e("./pad-iso97971"),e("./pad-zeropadding"),e("./pad-nopadding"),e("./format-hex"),e("./aes"),e("./tripledes"),e("./rc4"),e("./rabbit"),e("./rabbit-legacy"),e("./blowfish")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],a):n.CryptoJS=n.CryptoJS},{"./aes":125,"./blowfish":126,"./cipher-core":127,"./core":128,"./enc-base64":129,"./enc-base64url":130,"./enc-utf16":131,"./evpkdf":132,"./format-hex":133,"./hmac":134,"./lib-typedarrays":136,"./md5":137,"./mode-cfb":138,"./mode-ctr":140,"./mode-ctr-gladman":139,"./mode-ecb":141,"./mode-ofb":142,"./pad-ansix923":143,"./pad-iso10126":144,"./pad-iso97971":145,"./pad-nopadding":146,"./pad-zeropadding":147,"./pbkdf2":148,"./rabbit":150,"./rabbit-legacy":149,"./rc4":151,"./ripemd160":152,"./sha1":153,"./sha224":154,"./sha256":155,"./sha3":156,"./sha384":157,"./sha512":158,"./tripledes":159,"./x64-core":160}],136:[function(e,t,i){var n,a;n=this,a=function(e){var t,a;return"function"==typeof ArrayBuffer&&(t=e.lib.WordArray,a=t.init,(t.init=function(e){if((e=(e=e instanceof ArrayBuffer?new Uint8Array(e):e)instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e)instanceof Uint8Array){for(var t=e.byteLength,i=[],n=0;n<t;n++)i[n>>>2]|=e[n]<<24-n%4*8;a.call(this,i,t)}else a.apply(this,arguments)}).prototype=t),e.lib.WordArray},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],137:[function(e,t,i){var n,a;n=this,a=function(e){for(var c=Math,t=e,i=(a=t.lib).WordArray,n=a.Hasher,a=t.algo,D=[],r=0;r<64;r++)D[r]=4294967296*c.abs(c.sin(r+1))|0;function C(e,t,i,n,a,r,s){e=e+(t&i|~t&n)+a+s;return(e<<r|e>>>32-r)+t}function T(e,t,i,n,a,r,s){e=e+(t&n|i&~n)+a+s;return(e<<r|e>>>32-r)+t}function A(e,t,i,n,a,r,s){e=e+(t^i^n)+a+s;return(e<<r|e>>>32-r)+t}function O(e,t,i,n,a,r,s){e=e+(i^(t|~n))+a+s;return(e<<r|e>>>32-r)+t}return a=a.MD5=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var r=this._hash.words,s=e[t+0],o=e[t+1],c=e[t+2],p=e[t+3],l=e[t+4],u=e[t+5],d=e[t+6],h=e[t+7],f=e[t+8],m=e[t+9],y=e[t+10],g=e[t+11],v=e[t+12],b=e[t+13],x=e[t+14],_=e[t+15],w=C(r[0],S=r[1],E=r[2],k=r[3],s,7,D[0]),k=C(k,w,S,E,o,12,D[1]),E=C(E,k,w,S,c,17,D[2]),S=C(S,E,k,w,p,22,D[3]);w=C(w,S,E,k,l,7,D[4]),k=C(k,w,S,E,u,12,D[5]),E=C(E,k,w,S,d,17,D[6]),S=C(S,E,k,w,h,22,D[7]),w=C(w,S,E,k,f,7,D[8]),k=C(k,w,S,E,m,12,D[9]),E=C(E,k,w,S,y,17,D[10]),S=C(S,E,k,w,g,22,D[11]),w=C(w,S,E,k,v,7,D[12]),k=C(k,w,S,E,b,12,D[13]),E=C(E,k,w,S,x,17,D[14]),w=T(w,S=C(S,E,k,w,_,22,D[15]),E,k,o,5,D[16]),k=T(k,w,S,E,d,9,D[17]),E=T(E,k,w,S,g,14,D[18]),S=T(S,E,k,w,s,20,D[19]),w=T(w,S,E,k,u,5,D[20]),k=T(k,w,S,E,y,9,D[21]),E=T(E,k,w,S,_,14,D[22]),S=T(S,E,k,w,l,20,D[23]),w=T(w,S,E,k,m,5,D[24]),k=T(k,w,S,E,x,9,D[25]),E=T(E,k,w,S,p,14,D[26]),S=T(S,E,k,w,f,20,D[27]),w=T(w,S,E,k,b,5,D[28]),k=T(k,w,S,E,c,9,D[29]),E=T(E,k,w,S,h,14,D[30]),w=A(w,S=T(S,E,k,w,v,20,D[31]),E,k,u,4,D[32]),k=A(k,w,S,E,f,11,D[33]),E=A(E,k,w,S,g,16,D[34]),S=A(S,E,k,w,x,23,D[35]),w=A(w,S,E,k,o,4,D[36]),k=A(k,w,S,E,l,11,D[37]),E=A(E,k,w,S,h,16,D[38]),S=A(S,E,k,w,y,23,D[39]),w=A(w,S,E,k,b,4,D[40]),k=A(k,w,S,E,s,11,D[41]),E=A(E,k,w,S,p,16,D[42]),S=A(S,E,k,w,d,23,D[43]),w=A(w,S,E,k,m,4,D[44]),k=A(k,w,S,E,v,11,D[45]),E=A(E,k,w,S,_,16,D[46]),w=O(w,S=A(S,E,k,w,c,23,D[47]),E,k,s,6,D[48]),k=O(k,w,S,E,h,10,D[49]),E=O(E,k,w,S,x,15,D[50]),S=O(S,E,k,w,u,21,D[51]),w=O(w,S,E,k,v,6,D[52]),k=O(k,w,S,E,p,10,D[53]),E=O(E,k,w,S,y,15,D[54]),S=O(S,E,k,w,o,21,D[55]),w=O(w,S,E,k,f,6,D[56]),k=O(k,w,S,E,_,10,D[57]),E=O(E,k,w,S,d,15,D[58]),S=O(S,E,k,w,b,21,D[59]),w=O(w,S,E,k,l,6,D[60]),k=O(k,w,S,E,g,10,D[61]),E=O(E,k,w,S,c,15,D[62]),S=O(S,E,k,w,m,21,D[63]),r[0]=r[0]+w|0,r[1]=r[1]+S|0,r[2]=r[2]+E|0,r[3]=r[3]+k|0},_doFinalize:function(){for(var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes,a=(t[n>>>5]|=128<<24-n%32,c.floor(i/4294967296)),a=(t[15+(64+n>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t[14+(64+n>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process(),this._hash),r=a.words,s=0;s<4;s++){var o=r[s];r[s]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return a},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.MD5=n._createHelper(a),t.HmacMD5=n._createHmacHelper(a),e.MD5},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],138:[function(e,t,i){var n,a;n=this,a=function(e){function r(e,t,i,n){var a,r=this._iv;r?(a=r.slice(0),this._iv=void 0):a=this._prevBlock,n.encryptBlock(a,0);for(var s=0;s<i;s++)e[t+s]^=a[s]}var t;return e.mode.CFB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize;r.call(this,e,t,n,i),this._prevBlock=e.slice(t,t+n)}}),t.Decryptor=t.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,a=e.slice(t,t+n);r.call(this,e,t,n,i),this._prevBlock=a}}),t),e.mode.CFB},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],139:[function(e,t,i){var n,a;n=this,a=function(e){function c(e){var t,i,n;return 255==(e>>24&255)?(i=e>>8&255,n=255&e,255===(t=e>>16&255)?(t=0,255===i?(i=0,255===n?n=0:++n):++i):++t,e=0,e=(e+=t<<16)+(i<<8)+n):e+=1<<24,e}var t,i;return e.mode.CTRGladman=(t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,a=this._iv,r=this._counter,s=(a&&(r=this._counter=a.slice(0),this._iv=void 0),0===((a=r)[0]=c(a[0]))&&(a[1]=c(a[1])),r.slice(0));i.encryptBlock(s,0);for(var o=0;o<n;o++)e[t+o]^=s[o]}}),t.Decryptor=i,t),e.mode.CTRGladman},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],140:[function(e,t,i){var n,a;n=this,a=function(e){var t,i;return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,a=this._iv,r=this._counter,s=(a&&(r=this._counter=a.slice(0),this._iv=void 0),r.slice(0));i.encryptBlock(s,0),r[n-1]=r[n-1]+1|0;for(var o=0;o<n;o++)e[t+o]^=s[o]}}),t.Decryptor=i,t),e.mode.CTR},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],141:[function(e,t,i){var n,a;n=this,a=function(e){var t;return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],142:[function(e,t,i){var n,a;n=this,a=function(e){var t,i;return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,a=this._iv,r=this._keystream;a&&(r=this._keystream=a.slice(0),this._iv=void 0),i.encryptBlock(r,0);for(var s=0;s<n;s++)e[t+s]^=r[s]}}),t.Decryptor=i,t),e.mode.OFB},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],143:[function(e,t,i){var n,a;n=this,a=function(e){return e.pad.AnsiX923={pad:function(e,t){var i=e.sigBytes,t=4*t,t=t-i%t,i=i+t-1;e.clamp(),e.words[i>>>2]|=t<<24-i%4*8,e.sigBytes+=t},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],144:[function(e,t,i){var n,a;n=this,a=function(i){return i.pad.Iso10126={pad:function(e,t){t*=4,t-=e.sigBytes%t;e.concat(i.lib.WordArray.random(t-1)).concat(i.lib.WordArray.create([t<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.pad.Iso10126},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],145:[function(e,t,i){var n,a;n=this,a=function(i){return i.pad.Iso97971={pad:function(e,t){e.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(e,t)},unpad:function(e){i.pad.ZeroPadding.unpad(e),e.sigBytes--}},i.pad.Iso97971},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],146:[function(e,t,i){var n,a;n=this,a=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],147:[function(e,t,i){var n,a;n=this,a=function(e){return e.pad.ZeroPadding={pad:function(e,t){t*=4;e.clamp(),e.sigBytes+=t-(e.sigBytes%t||t)},unpad:function(e){for(var t=e.words,i=e.sigBytes-1,i=e.sigBytes-1;0<=i;i--)if(t[i>>>2]>>>24-i%4*8&255){e.sigBytes=i+1;break}}},e.pad.ZeroPadding},"object"==typeof i?t.exports=i=a(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128}],148:[function(e,t,i){var n,a;n=this,a=function(e){var t,i,n,g,a,v,r;return i=(t=e).lib,n=i.Base,g=i.WordArray,i=t.algo,a=i.SHA256,v=i.HMAC,r=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=this.cfg,n=v.create(i.hasher,e),a=g.create(),r=g.create([1]),s=a.words,o=r.words,c=i.keySize,p=i.iterations;s.length<c;){for(var l=n.update(t).finalize(r),u=(n.reset(),l.words),d=u.length,h=l,f=1;f<p;f++){h=n.finalize(h),n.reset();for(var m=h.words,y=0;y<d;y++)u[y]^=m[y]}a.concat(l),o[0]++}return a.sigBytes=4*c,a}}),t.PBKDF2=function(e,t,i){return r.create(i).compute(e,t)},e.PBKDF2},"object"==typeof i?t.exports=i=a(e("./core"),e("./sha256"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha256","./hmac"],a):a(n.CryptoJS)},{"./core":128,"./hmac":134,"./sha256":155}],149:[function(e,t,i){var n,a;n=this,a=function(e){function o(){for(var e=this._X,t=this._C,i=0;i<8;i++)s[i]=t[i];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(i=0;i<8;i++){var n=e[i]+t[i],a=65535&n,r=n>>>16;c[i]=((a*a>>>17)+a*r>>>15)+r*r^((4294901760&n)*n|0)+((65535&n)*n|0)}e[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,e[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,e[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,e[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,e[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,e[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,e[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,e[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}var t,i,n,a,s,c;return i=(t=e).lib.StreamCipher,n=t.algo,a=[],s=[],c=[],n=n.RabbitLegacy=i.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]],a=this._b=0;a<4;a++)o.call(this);for(a=0;a<8;a++)n[a]^=i[a+4&7];if(t){var e=t.words,t=e[0],e=e[1],t=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8),e=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8),r=t>>>16|4294901760&e,s=e<<16|65535&t;n[0]^=t,n[1]^=r,n[2]^=e,n[3]^=s,n[4]^=t,n[5]^=r,n[6]^=e,n[7]^=s;for(a=0;a<4;a++)o.call(this)}},_doProcessBlock:function(e,t){var i=this._X;o.call(this),a[0]=i[0]^i[5]>>>16^i[3]<<16,a[1]=i[2]^i[7]>>>16^i[5]<<16,a[2]=i[4]^i[1]>>>16^i[7]<<16,a[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2}),t.RabbitLegacy=i._createHelper(n),e.RabbitLegacy},"object"==typeof i?t.exports=i=a(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128,"./enc-base64":129,"./evpkdf":132,"./md5":137}],150:[function(e,t,i){var n,a;n=this,a=function(e){function c(){for(var e=this._X,t=this._C,i=0;i<8;i++)s[i]=t[i];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(i=0;i<8;i++){var n=e[i]+t[i],a=65535&n,r=n>>>16;o[i]=((a*a>>>17)+a*r>>>15)+r*r^((4294901760&n)*n|0)+((65535&n)*n|0)}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}var t,i,n,a,s,o;return i=(t=e).lib.StreamCipher,n=t.algo,a=[],s=[],o=[],n=n.Rabbit=i.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);for(var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],a=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]],i=this._b=0;i<4;i++)c.call(this);for(i=0;i<8;i++)a[i]^=n[i+4&7];if(t){var t=t.words,r=t[0],t=t[1],r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8),s=r>>>16|4294901760&t,o=t<<16|65535&r;a[0]^=r,a[1]^=s,a[2]^=t,a[3]^=o,a[4]^=r,a[5]^=s,a[6]^=t,a[7]^=o;for(i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var i=this._X;c.call(this),a[0]=i[0]^i[5]>>>16^i[3]<<16,a[1]=i[2]^i[7]>>>16^i[5]<<16,a[2]=i[4]^i[1]>>>16^i[7]<<16,a[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2}),t.Rabbit=i._createHelper(n),e.Rabbit},"object"==typeof i?t.exports=i=a(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128,"./enc-base64":129,"./evpkdf":132,"./md5":137}],151:[function(e,t,i){var n,a;n=this,a=function(e){var t=e,i=t.lib.StreamCipher,n=t.algo,a=n.RC4=i.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes,n=this._S=[],a=0;a<256;a++)n[a]=a;for(var a=0,r=0;a<256;a++){var s=a%i,s=t[s>>>2]>>>24-s%4*8&255,r=(r+n[a]+s)%256,s=n[a];n[a]=n[r],n[r]=s}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var e=this._S,t=this._i,i=this._j,n=0,a=0;a<4;a++){var i=(i+e[t=(t+1)%256])%256,r=e[t];e[t]=e[i],e[i]=r,n|=e[(e[t]+e[i])%256]<<24-8*a}return this._i=t,this._j=i,n}return t.RC4=i._createHelper(a),n=n.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var e=this.cfg.drop;0<e;e--)r.call(this)}}),t.RC4Drop=i._createHelper(n),e.RC4},"object"==typeof i?t.exports=i=a(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128,"./enc-base64":129,"./evpkdf":132,"./md5":137}],152:[function(e,t,i){var n,a;n=this,a=function(e){function k(e,t,i){return e&t|~e&i}function E(e,t,i){return e&i|t&~i}function S(e,t){return e<<t|e>>>32-t}var t,i,n,a,D,C,T,A,O,I;return Math,i=(t=e).lib,n=i.WordArray,a=i.Hasher,i=t.algo,D=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),C=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),T=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),A=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),O=n.create([0,1518500249,1859775393,2400959708,2840853838]),I=n.create([1352829926,1548603684,1836072691,2053994217,0]),i=i.RIPEMD160=a.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}for(var r,s,o,c,p,l,u=this._hash.words,d=O.words,h=I.words,f=D.words,m=C.words,y=T.words,g=A.words,v=r=u[0],b=s=u[1],x=o=u[2],_=c=u[3],w=p=u[4],i=0;i<80;i+=1)l=(l=S(l=(l=r+e[t+f[i]]|0)+(i<16?(s^o^c)+d[0]:i<32?k(s,o,c)+d[1]:i<48?((s|~o)^c)+d[2]:i<64?E(s,o,c)+d[3]:(s^(o|~c))+d[4])|0,y[i]))+p|0,r=p,p=c,c=S(o,10),o=s,s=l,l=(l=S(l=(l=v+e[t+m[i]]|0)+(i<16?(b^(x|~_))+h[0]:i<32?E(b,x,_)+h[1]:i<48?((b|~x)^_)+h[2]:i<64?k(b,x,_)+h[3]:(b^x^_)+h[4])|0,g[i]))+w|0,v=w,w=_,_=S(x,10),x=b,b=l;l=u[1]+o+_|0,u[1]=u[2]+c+w|0,u[2]=u[3]+p+v|0,u[3]=u[4]+r+b|0,u[4]=u[0]+s+x|0,u[0]=l},_doFinalize:function(){for(var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes,n=(t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process(),this._hash),a=n.words,r=0;r<5;r++){var s=a[r];a[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return n},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),t.RIPEMD160=a._createHelper(i),t.HmacRIPEMD160=a._createHmacHelper(i),e.RIPEMD160},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],153:[function(e,t,i){var n,a;n=this,a=function(e){var t,i,n,a,l;return i=(t=e).lib,n=i.WordArray,a=i.Hasher,i=t.algo,l=[],i=i.SHA1=a.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],a=i[1],r=i[2],s=i[3],o=i[4],c=0;c<80;c++){l[c]=c<16?0|e[t+c]:(p=l[c-3]^l[c-8]^l[c-14]^l[c-16])<<1|p>>>31;var p=(n<<5|n>>>27)+o+l[c];p+=c<20?1518500249+(a&r|~a&s):c<40?1859775393+(a^r^s):c<60?(a&r|a&s|r&s)-1894007588:(a^r^s)-899497514,o=s,s=r,r=a<<30|a>>>2,a=n,n=p}i[0]=i[0]+n|0,i[1]=i[1]+a|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+o|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=Math.floor(i/4294967296),t[15+(64+n>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=a._createHelper(i),t.HmacSHA1=a._createHmacHelper(i),e.SHA1},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],154:[function(e,t,i){var n,a;n=this,a=function(e){var t,i,n,a;return i=(t=e).lib.WordArray,n=t.algo,a=n.SHA256,n=n.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=a._createHelper(n),t.HmacSHA224=a._createHmacHelper(n),e.SHA224},"object"==typeof i?t.exports=i=a(e("./core"),e("./sha256")):"function"==typeof define&&define.amd?define(["./core","./sha256"],a):a(n.CryptoJS)},{"./core":128,"./sha256":155}],155:[function(e,t,i){var n,a;n=this,a=function(e){var a=Math,t=e,i=(r=t.lib).WordArray,n=r.Hasher,r=t.algo,s=[],f=[];function o(e){return 4294967296*(e-(0|e))|0}for(var c=2,p=0;p<64;)!function(e){for(var t=a.sqrt(e),i=2;i<=t;i++)if(!(e%i))return;return 1}(c)||(p<8&&(s[p]=o(a.pow(c,.5))),f[p]=o(a.pow(c,1/3)),p++),c++;var m=[],r=r.SHA256=n.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],a=i[1],r=i[2],s=i[3],o=i[4],c=i[5],p=i[6],l=i[7],u=0;u<64;u++){m[u]=u<16?0|e[t+u]:(((d=m[u-15])<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+m[u-7]+(((d=m[u-2])<<15|d>>>17)^(d<<13|d>>>19)^d>>>10)+m[u-16];var d=n&a^n&r^a&r,h=l+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&c^~o&p)+f[u]+m[u],l=p,p=c,c=o,o=s+h|0,s=r,r=a,a=n,n=h+(((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+d)|0}i[0]=i[0]+n|0,i[1]=i[1]+a|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+o|0,i[5]=i[5]+c|0,i[6]=i[6]+p|0,i[7]=i[7]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=a.floor(i/4294967296),t[15+(64+n>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});return t.SHA256=n._createHelper(r),t.HmacSHA256=n._createHmacHelper(r),e.SHA256},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],156:[function(e,t,i){var n,a;n=this,a=function(e){for(var l=Math,t=e,u=(a=t.lib).WordArray,n=a.Hasher,i=t.x64.Word,a=t.algo,D=[],C=[],T=[],r=1,s=0,o=0;o<24;o++){D[r+5*s]=(o+1)*(o+2)/2%64;var c=(2*r+3*s)%5;r=s%5,s=c}for(r=0;r<5;r++)for(s=0;s<5;s++)C[r+5*s]=s+(2*r+3*s)%5*5;for(var p=1,d=0;d<24;d++){for(var h,f=0,m=0,y=0;y<7;y++)1&p&&((h=(1<<y)-1)<32?m^=1<<h:f^=1<<h-32),128&p?p=p<<1^113:p<<=1;T[d]=i.create(f,m)}for(var A=[],g=0;g<25;g++)A[g]=i.create();return a=a.SHA3=n.extend({cfg:n.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var i=this._state,n=this.blockSize/2,a=0;a<n;a++){var r=e[t+2*a],s=e[t+2*a+1],r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);(w=i[a]).high^=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),w.low^=r}for(var o=0;o<24;o++){for(var c=0;c<5;c++){for(var p=0,l=0,u=0;u<5;u++)p^=(w=i[c+5*u]).high,l^=w.low;var d=A[c];d.high=p,d.low=l}for(c=0;c<5;c++)for(var h=A[(c+4)%5],f=A[(c+1)%5],m=f.high,f=f.low,p=h.high^(m<<1|f>>>31),l=h.low^(f<<1|m>>>31),u=0;u<5;u++)(w=i[c+5*u]).high^=p,w.low^=l;for(var y=1;y<25;y++){var g=(w=i[y]).high,v=w.low,b=D[y],g=(l=b<32?(p=g<<b|v>>>32-b,v<<b|g>>>32-b):(p=v<<b-32|g>>>64-b,g<<b-32|v>>>64-b),A[C[y]]);g.high=p,g.low=l}var x=A[0],_=i[0];x.high=_.high,x.low=_.low;for(c=0;c<5;c++)for(u=0;u<5;u++){var w=i[y=c+5*u],k=A[y],E=A[(c+1)%5+5*u],S=A[(c+2)%5+5*u];w.high=k.high^~E.high&S.high,w.low=k.low^~E.low&S.low}w=i[0],x=T[o];w.high^=x.high,w.low^=x.low}},_doFinalize:function(){for(var e=this._data,t=e.words,i=(this._nDataBytes,8*e.sigBytes),n=32*this.blockSize,a=(t[i>>>5]|=1<<24-i%32,t[(l.ceil((1+i)/n)*n>>>5)-1]|=128,e.sigBytes=4*t.length,this._process(),this._state),i=this.cfg.outputLength/8,r=i/8,s=[],o=0;o<r;o++){var c=a[o],p=c.high,c=c.low,p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8);s.push(16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)),s.push(p)}return new u.init(s,i)},clone:function(){for(var e=n.clone.call(this),t=e._state=this._state.slice(0),i=0;i<25;i++)t[i]=t[i].clone();return e}}),t.SHA3=n._createHelper(a),t.HmacSHA3=n._createHmacHelper(a),e.SHA3},"object"==typeof i?t.exports=i=a(e("./core"),e("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],a):a(n.CryptoJS)},{"./core":128,"./x64-core":160}],157:[function(e,t,i){var n,a;n=this,a=function(e){var t,i,n,a,r;return i=(t=e).x64,n=i.Word,a=i.WordArray,i=t.algo,r=i.SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new a.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=r._createHelper(i),t.HmacSHA384=r._createHmacHelper(i),e.SHA384},"object"==typeof i?t.exports=i=a(e("./core"),e("./x64-core"),e("./sha512")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512"],a):a(n.CryptoJS)},{"./core":128,"./sha512":158,"./x64-core":160}],158:[function(e,t,i){var n,a;n=this,a=function(e){var t=e,i=t.lib.Hasher,n=(r=t.x64).Word,a=r.WordArray,r=t.algo;function s(){return n.create.apply(n,arguments)}for(var te=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],ie=[],o=0;o<80;o++)ie[o]=s();return r=r.SHA512=i.extend({_doReset:function(){this._hash=new a.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(M,L){for(var e=this._hash.words,t=e[0],i=e[1],n=e[2],a=e[3],r=e[4],s=e[5],o=e[6],e=e[7],B=t.high,c=t.low,F=i.high,p=i.low,q=n.high,l=n.low,U=a.high,u=a.low,H=r.high,d=r.low,z=s.high,h=s.low,G=o.high,f=o.low,W=e.high,m=e.low,y=B,g=c,v=F,b=p,x=q,_=l,K=U,w=u,k=H,E=d,$=z,S=h,V=G,Y=f,Q=W,J=m,D=0;D<80;D++)var C,T,A=ie[D],O=(D<16?(T=A.high=0|M[L+2*D],C=A.low=0|M[L+2*D+1]):(N=(j=ie[D-15]).high,j=j.low,R=(P=ie[D-2]).high,P=P.low,I=(O=ie[D-7]).high,O=O.low,X=(Z=ie[D-16]).high,T=(T=((N>>>1|j<<31)^(N>>>8|j<<24)^N>>>7)+I+((C=(I=(j>>>1|N<<31)^(j>>>8|N<<24)^(j>>>7|N<<25))+O)>>>0<I>>>0?1:0))+((R>>>19|P<<13)^(R<<3|P>>>29)^R>>>6)+((C+=j=(P>>>19|R<<13)^(P<<3|R>>>29)^(P>>>6|R<<26))>>>0<j>>>0?1:0),C+=N=Z.low,A.high=T=T+X+(C>>>0<N>>>0?1:0),A.low=C),k&$^~k&V),I=E&S^~E&Y,P=y&v^y&x^v&x,R=(g>>>28|y<<4)^(g<<30|y>>>2)^(g<<25|y>>>7),j=te[D],Z=j.high,X=j.low,N=J+((E>>>14|k<<18)^(E>>>18|k<<14)^(E<<23|k>>>9)),A=Q+((k>>>14|E<<18)^(k>>>18|E<<14)^(k<<23|E>>>9))+(N>>>0<J>>>0?1:0),ee=R+(g&b^g&_^b&_),Q=V,J=Y,V=$,Y=S,$=k,S=E,k=K+(A=A+O+((N=N+I)>>>0<I>>>0?1:0)+Z+((N=N+X)>>>0<X>>>0?1:0)+T+((N=N+C)>>>0<C>>>0?1:0))+((E=w+N|0)>>>0<w>>>0?1:0)|0,K=x,w=_,x=v,_=b,v=y,b=g,y=A+(((y>>>28|g<<4)^(y<<30|g>>>2)^(y<<25|g>>>7))+P+(ee>>>0<R>>>0?1:0))+((g=N+ee|0)>>>0<N>>>0?1:0)|0;c=t.low=c+g,t.high=B+y+(c>>>0<g>>>0?1:0),p=i.low=p+b,i.high=F+v+(p>>>0<b>>>0?1:0),l=n.low=l+_,n.high=q+x+(l>>>0<_>>>0?1:0),u=a.low=u+w,a.high=U+K+(u>>>0<w>>>0?1:0),d=r.low=d+E,r.high=H+k+(d>>>0<E>>>0?1:0),h=s.low=h+S,s.high=z+$+(h>>>0<S>>>0?1:0),f=o.low=f+Y,o.high=G+V+(f>>>0<Y>>>0?1:0),m=e.low=m+J,e.high=W+Q+(m>>>0<J>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(128+n>>>10<<5)]=Math.floor(i/4294967296),t[31+(128+n>>>10<<5)]=i,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=i._createHelper(r),t.HmacSHA512=i._createHmacHelper(r),e.SHA512},"object"==typeof i?t.exports=i=a(e("./core"),e("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],a):a(n.CryptoJS)},{"./core":128,"./x64-core":160}],159:[function(e,t,i){var n,a;n=this,a=function(e){var t=e,n=(i=t.lib).WordArray,i=i.BlockCipher,a=t.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],r=a.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],i=0;i<56;i++){var n=p[i]-1;t[i]=e[n>>>5]>>>31-n%32&1}for(var a=this._subKeys=[],r=0;r<16;r++){for(var s=a[r]=[],o=u[r],i=0;i<24;i++)s[i/6|0]|=t[(l[i]-1+o)%28]<<31-i%6,s[4+(i/6|0)]|=t[28+(l[i+24]-1+o)%28]<<31-i%6;s[0]=s[0]<<1|s[0]>>>31;for(i=1;i<7;i++)s[i]=s[i]>>>4*(i-1)+3;s[7]=s[7]<<5|s[7]>>>27}for(var c=this._invSubKeys=[],i=0;i<16;i++)c[i]=a[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,i){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),f.call(this,1,1431655765);for(var n=0;n<16;n++){for(var a=i[n],r=this._lBlock,s=this._rBlock,o=0,c=0;c<8;c++)o|=d[c][((s^a[c])&h[c])>>>0];this._lBlock=s,this._rBlock=r^o}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,f.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){t=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=t,this._lBlock^=t<<e}function m(e,t){t=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=t,this._rBlock^=t<<e}return t.DES=i._createHelper(r),a=a.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),i=e.length<4?e.slice(0,2):e.slice(2,4),e=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=r.createEncryptor(n.create(t)),this._des2=r.createEncryptor(n.create(i)),this._des3=r.createEncryptor(n.create(e))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),t.TripleDES=i._createHelper(a),e.TripleDES},"object"==typeof i?t.exports=i=a(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],a):a(n.CryptoJS)},{"./cipher-core":127,"./core":128,"./enc-base64":129,"./evpkdf":132,"./md5":137}],160:[function(e,t,i){var n,a;n=this,a=function(e){var t,a,r;return t=e.lib,a=t.Base,r=t.WordArray,(t=e.x64={}).Word=a.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],n=0;n<t;n++){var a=e[n];i.push(a.high),i.push(a.low)}return r.create(i,this.sigBytes)},clone:function(){for(var e=a.clone.call(this),t=e.words=this.words.slice(0),i=t.length,n=0;n<i;n++)t[n]=t[n].clone();return e}}),e},"object"==typeof i?t.exports=i=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(n.CryptoJS)},{"./core":128}],161:[function(e,t,i){"use strict";var s=e("type/value/is"),r=e("type/plain-function/is"),o=e("es5-ext/object/assign"),c=e("es5-ext/object/normalize-options"),p=e("es5-ext/string/#/contains");(t.exports=function(e,t){var i,n,a,r;return arguments.length<2||"string"!=typeof e?(r=t,t=e,e=null):r=arguments[2],s(e)?(i=p.call(e,"c"),n=p.call(e,"e"),a=p.call(e,"w")):n=!(i=a=!0),e={value:t,configurable:i,enumerable:n,writable:a},r?o(c(r),e):e}).gs=function(e,t,i){var n,a;return"string"!=typeof e?(a=i,i=t,t=e,e=null):a=arguments[3],s(t)?r(t)?s(i)?r(i)||(a=i,i=void 0):i=void 0:(a=t,t=i=void 0):t=void 0,e=s(e)?(n=p.call(e,"c"),p.call(e,"e")):!(n=!0),t={get:t,set:i,configurable:n,enumerable:e},a?o(c(a),t):t}},{"es5-ext/object/assign":217,"es5-ext/object/normalize-options":228,"es5-ext/string/#/contains":235,"type/plain-function/is":168,"type/value/is":172}],162:[function(e,t,i){"use strict";var p=e("type/plain-function/is"),l=e("type/value/ensure"),u=e("type/value/is"),n=e("es5-ext/object/map"),d=e("es5-ext/string/#/contains"),h=Function.prototype.call,f=Object.defineProperty,m=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,v={configurable:!1,enumerable:!1,writable:!1,value:null},a=function(n,a){var r,t,i,s,o,e,c=!1;return a=Object(l(a)),i=a.cacheName,e=a.flat,u(i)||(i=n),delete a.cacheName,r=a.value,o=p(r),delete a.value,(t={configurable:Boolean(a.configurable),enumerable:Boolean(a.enumerable)}).get=n!==i?function(){return g.call(this,i)||(v.value=o?h.call(r,this,a):r,v.writable=c,f(this,i,v),v.value=null,s&&f(this,n,s)),this[i]}:e?function e(){var t,i=this;if(g.call(this,n)){if((t=m(this,n)).hasOwnProperty("value"))return t.value;if("function"==typeof t.get&&t.get!==e)return t.get.call(this)}for(;!g.call(i,n);)i=y(i);return s.value=o?h.call(r,i,a):r,f(i,n,s),s.value=null,i[n]}:function e(){var t;return g.call(this,n)&&(t=m(this,n))?t.hasOwnProperty("value")?t.value:"function"==typeof t.get&&t.get!==e?t.get.call(this):r:(s.value=o?h.call(r,this,a):r,f(this,n,s),s.value=null,this[n])},t.set=function(e){if(g.call(this,n))throw new TypeError("Cannot assign to lazy defined '"+n+"' property of "+this);t.get.call(this),this[i]=e},a.desc?(s={configurable:d.call(a.desc,"c"),enumerable:d.call(a.desc,"e")},i===n?(s.writable=d.call(a.desc,"w"),s.value=null):(c=d.call(a.desc,"w"),s.get=t.get,s.set=t.set),delete a.desc):i===n&&(s={configurable:Boolean(a.configurable),enumerable:Boolean(a.enumerable),writable:Boolean(a.writable),value:null}),delete a.configurable,delete a.enumerable,delete a.writable,t};t.exports=function(e){return n(e,function(e,t){return a(t,e)})}},{"es5-ext/object/map":227,"es5-ext/string/#/contains":235,"type/plain-function/is":168,"type/value/ensure":171,"type/value/is":172}],163:[function(e,t,i){"use strict";var n=e("../prototype/is");t.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!n(e)}},{"../prototype/is":169}],164:[function(e,t,i){"use strict";function n(e,t){return e.replace("%v",o(t))}var a=e("../value/is"),r=e("../object/is"),s=e("../string/coerce"),o=e("./to-short-string");t.exports=function(e,t,i){if(!r(i))throw new TypeError(n(t,e));if(!a(e)){if("default"in i)return i.default;if(i.isOptional)return null}i=s(i.errorMessage);throw a(i)||(i=t),new TypeError(n(i,e))}},{"../object/is":167,"../string/coerce":170,"../value/is":172,"./to-short-string":166}],165:[function(e,t,i){"use strict";t.exports=function(t){try{return t.toString()}catch(e){try{return String(t)}catch(e){return null}}}},{}],166:[function(e,t,i){"use strict";var n=e("./safe-to-string"),a=/[\n\r\u2028\u2029]/g;t.exports=function(e){e=n(e);return null===e?"<Non-coercible to string value>":(e=100<e.length?e.slice(0,99)+"":e).replace(a,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})}},{"./safe-to-string":165}],167:[function(e,t,i){"use strict";var n=e("../value/is"),a={object:!0,function:!0,undefined:!0};t.exports=function(e){return!!n(e)&&hasOwnProperty.call(a,typeof e)}},{"../value/is":172}],168:[function(e,t,i){"use strict";var n=e("../function/is"),a=/^\s*class[\s{/}]/,r=Function.prototype.toString;t.exports=function(e){return!!n(e)&&!a.test(r.call(e))}},{"../function/is":163}],169:[function(e,t,i){"use strict";var n=e("../object/is");t.exports=function(e){if(!n(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch(e){return!1}}},{"../object/is":167}],170:[function(e,t,i){"use strict";var n=e("../value/is"),a=e("../object/is"),r=Object.prototype.toString;t.exports=function(e){if(!n(e))return null;if(a(e)){var t=e.toString;if("function"!=typeof t)return null;if(t===r)return null}try{return""+e}catch(e){return null}}},{"../object/is":167,"../value/is":172}],171:[function(e,t,i){"use strict";var n=e("../lib/resolve-exception"),a=e("./is");t.exports=function(e){return a(e)?e:n(e,"Cannot use %v",arguments[1])}},{"../lib/resolve-exception":164,"./is":172}],172:[function(e,t,i){"use strict";t.exports=function(e){return null!=e}},{}],173:[function(e,t,i){i.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,i=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e)&&(i=t)}),e.splice(i,0,n)}},i.save=function(e){try{e?i.storage.setItem("debug",e):i.storage.removeItem("debug")}catch(e){}},i.load=function(){let e;try{e=i.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},i.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},i.storage=function(){try{return localStorage}catch(e){}}(),i.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],i.log=console.debug||console.log||(()=>{}),t.exports=e("./common")(i);e=t.exports.formatters;e.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},{"./common":174}],174:[function(e,t,i){t.exports=function(t){function o(e){let i,t=null,n,a;function s(...a){if(s.enabled){const r=s;var e=Number(new Date),t=e-(i||e);r.diff=t,r.prev=i,r.curr=e,i=e,a[0]=o.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");let n=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;var i,t=o.formatters[t];return"function"==typeof t&&(i=a[n],e=t.call(r,i),a.splice(n,1),n--),e}),o.formatArgs.call(r,a),(r.log||o.log).apply(r,a)}}return s.namespace=e,s.useColors=o.useColors(),s.color=o.selectColor(e),s.extend=r,s.destroy=o.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==t?t:(n!==o.namespaces&&(n=o.namespaces,a=o.enabled(e)),a),set:e=>{t=e}}),"function"==typeof o.init&&o.init(s),s}function r(e,t){t=o(this.namespace+(void 0===t?":":t)+e);return t.log=this.log,t}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((o.debug=o).default=o).coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},o.disable=function(){var e=[...o.names.map(i),...o.skips.map(i).map(e=>"-"+e)].join(",");return o.enable(""),e},o.enable=function(e){o.save(e),o.namespaces=e,o.names=[],o.skips=[];let t;var i=("string"==typeof e?e:"").split(/[\s,]+/),n=i.length;for(t=0;t<n;t++)i[t]&&("-"===(e=i[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")))},o.enabled=function(e){if("*"===e[e.length-1])return!0;let t,i;for(t=0,i=o.skips.length;t<i;t++)if(o.skips[t].test(e))return!1;for(t=0,i=o.names.length;t<i;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=e("ms"),o.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{o[e]=t[e]}),o.names=[],o.skips=[],o.formatters={},o.selectColor=function(t){let i=0;for(let e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return o.colors[Math.abs(i)%o.colors.length]},o.enable(o.load()),o}},{ms:356}],175:[function(e,t,i){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=e("./browser.js"):t.exports=e("./node.js")},{"./browser.js":173,"./node.js":176}],176:[function(e,a,r){const t=e("tty"),i=e("util");r.init=function(t){t.inspectOpts={};var i=Object.keys(r.inspectOpts);for(let e=0;e<i.length;e++)t.inspectOpts[i[e]]=r.inspectOpts[i[e]]},r.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},r.formatArgs=function(e){var{namespace:t,useColors:i}=this;{var n;i?(i=this.color,e[0]=(n=`  ${i="[3"+(i<8?i:"8;5;"+i)};1m${t} [0m`)+e[0].split("\n").join("\n"+n),e.push(i+"m+"+a.exports.humanize(this.diff)+"[0m")):e[0]=function(){if(r.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+t+" "+e[0]}},r.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},r.load=function(){return process.env.DEBUG},r.useColors=function(){return"colors"in r.inspectOpts?Boolean(r.inspectOpts.colors):t.isatty(process.stderr.fd)},r.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),r.colors=[6,2,3,4,5,1];try{var n=e("supports-color");n&&2<=(n.stderr||n).level&&(r.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}r.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{var i=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[i]=n,e},{}),a.exports=e("./common")(r);n=a.exports.formatters;n.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},n.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},{"./common":174,"supports-color":497,tty:void 0,util:void 0}],177:[function(e,t,i){function n(e,t){if(!(this instanceof n))return new n(e,t);this.proto=e,this.target=t,this.methods=[],this.getters=[],this.setters=[],this.fluents=[]}(t.exports=n).prototype.method=function(e){var t=this.proto,i=this.target;return this.methods.push(e),t[e]=function(){return this[i][e].apply(this[i],arguments)},this},n.prototype.access=function(e){return this.getter(e).setter(e)},n.prototype.getter=function(e){var t=this.proto,i=this.target;return this.getters.push(e),t.__defineGetter__(e,function(){return this[i][e]}),this},n.prototype.setter=function(t){var e=this.proto,i=this.target;return this.setters.push(t),e.__defineSetter__(t,function(e){return this[i][t]=e}),this},n.prototype.fluent=function(t){var e=this.proto,i=this.target;return this.fluents.push(t),e[t]=function(e){return void 0!==e?(this[i][t]=e,this):this[i][t]},this}},{}],178:[function(e,t,i){"use strict";function n(e,t){t=t||{};this._head=0,this._tail=0,this._capacity=t.capacity,this._capacityMask=3,this._list=new Array(4),Array.isArray(e)&&this._fromArray(e)}n.prototype.peekAt=function(e){if(e===(0|e)){var t=this.size();if(!(t<=e||e<-t))return e<0&&(e+=t),e=this._head+e&this._capacityMask,this._list[e]}},n.prototype.get=function(e){return this.peekAt(e)},n.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},n.prototype.peekFront=function(){return this.peek()},n.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(n.prototype,"length",{get:function(){return this.size()}}),n.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},n.prototype.unshift=function(e){var t;return void 0===e?this.size():(t=this._list.length,this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail))},n.prototype.shift=function(){var e,t=this._head;if(t!==this._tail)return e=this._list[t],this._list[t]=void 0,this._head=t+1&this._capacityMask,t<2&&1e4<this._tail&&this._tail<=this._list.length>>>2&&this._shrinkArray(),e},n.prototype.push=function(e){var t;return void 0===e?this.size():(t=this._tail,this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail))},n.prototype.pop=function(){var e,t,i=this._tail;if(i!==this._head)return e=this._list.length,this._tail=i-1+e&this._capacityMask,t=this._list[this._tail],this._list[this._tail]=void 0,this._head<2&&1e4<i&&i<=e>>>2&&this._shrinkArray(),t},n.prototype.removeOne=function(e){var t=e;if(t===(0|t)&&this._head!==this._tail){var i=this.size(),n=this._list.length;if(!(i<=t||t<-i)){t<0&&(t+=i);var a,t=this._head+t&this._capacityMask,r=this._list[t];if(e<i/2){for(a=e;0<a;a--)this._list[t]=this._list[t=t-1+n&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+n&this._capacityMask}else{for(a=i-1-e;0<a;a--)this._list[t]=this._list[t=t+1+n&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+n&this._capacityMask}return r}}},n.prototype.remove=function(e,t){var i,n=e,a=t;if(n===(0|n)&&this._head!==this._tail){var r,s=this.size(),o=this._list.length;if(!(s<=n||n<-s||t<1)){if(n<0&&(n+=s),1!==t&&t)if(0===n&&s<=n+t)i=this.toArray(),this.clear();else{for(s<n+t&&(t=s-n),i=new Array(t),r=0;r<t;r++)i[r]=this._list[this._head+n+r&this._capacityMask];if(n=this._head+n&this._capacityMask,e+t===s)for(this._tail=this._tail-t+o&this._capacityMask,r=t;0<r;r--)this._list[n=n+1+o&this._capacityMask]=void 0;else if(0===e)for(this._head=this._head+t+o&this._capacityMask,r=t-1;0<r;r--)this._list[n=n+1+o&this._capacityMask]=void 0;else{if(n<s/2){for(this._head=this._head+e+t+o&this._capacityMask,r=e;0<r;r--)this.unshift(this._list[n=n-1+o&this._capacityMask]);for(n=this._head-1+o&this._capacityMask;0<a;)this._list[n=n-1+o&this._capacityMask]=void 0,a--;e<0&&(this._tail=n)}else{for(n=(this._tail=n)+t+o&this._capacityMask,r=s-(t+e);0<r;r--)this.push(this._list[n++]);for(n=this._tail;0<a;)this._list[n=n+1+o&this._capacityMask]=void 0,a--}this._head<2&&1e4<this._tail&&this._tail<=o>>>2&&this._shrinkArray()}}else(i=new Array(1))[0]=this.removeOne(n);return i}}},n.prototype.splice=function(e,t){var i=e;if(i===(0|i)){e=this.size();if(i<0&&(i+=e),!(e<i)){if(2<arguments.length){var n,a=arguments.length,r=this._list.length,s=2;if(!e||i<e/2){for(o=new Array(i),p=0;p<i;p++)o[p]=this._list[this._head+p&this._capacityMask];for(0===t?(n=[],0<i&&(this._head=this._head+i+r&this._capacityMask)):(n=this.remove(i,t),this._head=this._head+i+r&this._capacityMask);s<a;)this.unshift(arguments[--a]);for(p=i;0<p;p--)this.unshift(o[p-1])}else{for(var o,c=(o=new Array(e-(i+t))).length,p=0;p<c;p++)o[p]=this._list[this._head+i+t+p&this._capacityMask];for(0===t?(n=[],i!=e&&(this._tail=this._head+i+r&this._capacityMask)):(n=this.remove(i,t),this._tail=this._tail-c+r&this._capacityMask);s<a;)this.push(arguments[s++]);for(p=0;p<c;p++)this.push(o[p])}return n}return this.remove(i,t)}}},n.prototype.clear=function(){this._head=0,this._tail=0},n.prototype.isEmpty=function(){return this._head===this._tail},n.prototype.toArray=function(){return this._copyArray(!1)},n.prototype._fromArray=function(e){for(var t=0;t<e.length;t++)this.push(e[t])},n.prototype._copyArray=function(e){var t,i=[],n=this._list,a=n.length;if(e||this._head>this._tail){for(t=this._head;t<a;t++)i.push(n[t]);for(t=0;t<this._tail;t++)i.push(n[t])}else for(t=this._head;t<this._tail;t++)i.push(n[t]);return i},n.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length<<=1,this._capacityMask=this._capacityMask<<1|1},n.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},t.exports=n},{}],179:[function(e,t,i){var n=e("path").relative,a=(t.exports=function(e){var t;if(e)return t=h(g()[1])[0],i._file=t,i._ignored=function(e){if(process.noDeprecation)return!0;return r(process.env.NO_DEPRECATION||"",e)}(e),i._namespace=e,i._traced=function(e){if(process.traceDeprecation)return!0;return r(process.env.TRACE_DEPRECATION||"",e)}(e),i._warned=Object.create(null),i.function=c,i.property=p,i;throw new TypeError("argument namespace is required");function i(e){d.call(i,e)}},process.cwd());function r(e,t){for(var i=e.split(/[ ,]+/),n=String(t).toLowerCase(),a=0;a<i.length;a++){var r=i[a];if(r&&("*"===r||r.toLowerCase()===n))return!0}return!1}function d(e,t){i=process,u="deprecation";var i=0<("function"!=typeof i.listenerCount?i.listeners(u).length:i.listenerCount(u));if(i||!this._ignored){var n,a,r,s,o=0,c=!1,p=g(),l=this._file;for(t?(s=t,(r=h(p[1])).name=s.name,l=r[0]):r=s=h(p[o=2]);o<p.length;o++)if((a=(n=h(p[o]))[0])===l)c=!0;else if(a===this._file)l=this._file;else if(c)break;var u=n?s.join(":")+"__"+n.join(":"):void 0;void 0!==u&&u in this._warned||(this._warned[u]=!0,t=(t=e)||(r!==s&&r.name?f(r):f(s)),i?(u=v(this._namespace,t,p.slice(o)),process.emit("deprecation",u)):(e=(process.stderr.isTTY?y:m).call(this,t,n,p.slice(o)),process.stderr.write(e+"\n","utf8")))}}function h(e){var t=e.getFileName()||"<anonymous>",i=e.getLineNumber(),n=e.getColumnNumber(),t=[t=e.isEval()?e.getEvalOrigin()+", "+t:t,i,n];return t.callSite=e,t.name=e.getFunctionName(),t}function f(e){var t=e.callSite,i=(i=e.name)||"<anonymous@"+s(e)+">",e=t.getThis(),n=e&&t.getTypeName();return(n="Function"===(n="Object"===n?void 0:n)?e.name||n:n)&&t.getMethodName()?n+"."+i:i}function m(e,t,i){var n=(new Date).toUTCString()+" "+this._namespace+" deprecated "+e;if(this._traced)for(var a=0;a<i.length;a++)n+="\n    at "+i[a].toString();else t&&(n+=" at "+s(t));return n}function y(e,t,i){var n="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+e+"[39m";if(this._traced)for(var a=0;a<i.length;a++)n+="\n    [36mat "+i[a].toString()+"[39m";else t&&(n+=" [36m"+s(t)+"[39m");return n}function s(e){return n(a,e[0])+":"+e[1]+":"+e[2]}function g(){var e=Error.stackTraceLimit,t={},i=Error.prepareStackTrace,t=(Error.prepareStackTrace=o,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(t),t.stack.slice(1));return Error.prepareStackTrace=i,Error.stackTraceLimit=e,t}function o(e,t){return t}function c(e,t){if("function"!=typeof e)throw new TypeError("argument fn must be a function");var i=function(e){for(var t="",i=0;i<e;i++)t+=", arg"+i;return t.substr(2)}(e.length),n=h(g()[1]);return n.name=e.name,new Function("fn","log","deprecate","message","site",'"use strict"\nreturn function ('+i+") {log.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n}")(e,d,this,t,n)}function p(e,t,i){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,t);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var a,r,s,o,c=this,p=h(g()[1]),l=(p.name=t,"value"in n&&(a=e,r=t,s=Object.getOwnPropertyDescriptor(a,r),o=s.value,s.get=function(){return o},s.writable&&(s.set=function(e){return o=e}),delete s.value,delete s.writable,Object.defineProperty(a,r,s),n=s),n.get),u=n.set;"function"==typeof l&&(n.get=function(){return d.call(c,i,p),l.apply(this,arguments)}),"function"==typeof u&&(n.set=function(){return d.call(c,i,p),u.apply(this,arguments)}),Object.defineProperty(e,t,n)}function v(e,t,i){var n,a=new Error;return Object.defineProperty(a,"constructor",{value:v}),Object.defineProperty(a,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(a,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(a,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==n?n:n=function(e){var t=this.name+": "+this.namespace;this.message&&(t+=" deprecated "+this.message);for(var i=0;i<e.length;i++)t+="\n    at "+e[i].toString();return t}.call(this,i)},set:function(e){n=e}}),a}},{path:void 0}],180:[function(e,t,i){"use strict";var n=e("events").EventEmitter,a=e("fs").ReadStream,r=e("stream"),s=e("zlib");function o(){}function c(){this._binding.clear()}function p(){"number"==typeof this.fd&&this.close()}t.exports=function(e,t){!function(e){return e instanceof a}(e)?!function(e){return e instanceof s.Gzip||e instanceof s.Gunzip||e instanceof s.Deflate||e instanceof s.DeflateRaw||e instanceof s.Inflate||e instanceof s.InflateRaw||e instanceof s.Unzip}(e)?function(e){return e instanceof r&&"function"==typeof e.destroy}(e)&&e.destroy():function(e){"function"==typeof e.destroy?e._binding?(e.destroy(),e._processing?(e._needDrain=!0,e.once("drain",c)):e._binding.clear()):(!e._destroy||e._destroy===r.Transform.prototype._destroy)&&e._destroy&&"function"==typeof e.close?(e.destroyed=!0,e.close()):e.destroy():"function"==typeof e.close&&function(e){{var t;!0===e._hadError&&(t=null===e._binding?"_binding":"_handle",e[t]={close:function(){this[t]=null}})}e.close()}(e)}(e):function(e){e.destroy(),"function"==typeof e.close&&e.on("open",p)}(e);(function(e){return e instanceof n})(e)&&t&&(e.removeAllListeners("error"),e.addListener("error",o));return e}},{events:void 0,fs:void 0,stream:void 0,zlib:void 0}],181:[function(e,t,i){"use strict";var n=e("os").platform(),a=e("child_process").spawnSync,r=e("fs").readdirSync,e="glibc",s="musl",o={encoding:"utf8",env:process.env};function c(t){return function(e){return-1!==e.indexOf(t)}}function p(e){return e.split(/[\r\n]+/)[1].trim().split(/\s/)[1]}function l(e){try{return r(e)}catch(e){}return[]}var a=a||function(){return{status:126,stdout:"",stderr:""}},u="",d="",h="",o=("linux"===n&&(0===(n=a("getconf",["GNU_LIBC_VERSION"],o)).status?(u=e,d=n.stdout.trim().split(" ")[1],h="getconf"):0===(n=a("ldd",["--version"],o)).status&&-1!==n.stdout.indexOf(s)?(u=s,d=p(n.stdout),h="ldd"):1===n.status&&-1!==n.stderr.indexOf(s)?(u=s,d=p(n.stderr),h="ldd"):(a=l("/lib")).some(c("-linux-gnu"))?(u=e,h="filesystem"):a.some(c("libc.musl-"))||a.some(c("ld-musl-"))?(u=s,h="filesystem"):l("/usr/sbin").some(c("glibc"))&&(u=e,h="filesystem")),""!==u&&u!==e);t.exports={GLIBC:e,MUSL:s,family:u,version:d,method:h,isNonGlibcLinux:o}},{child_process:void 0,fs:void 0,os:void 0}],182:[function(e,t,i){"use strict";t.exports=function(e,t){if(!Array.isArray(e))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var i=[],n=0;n<e.length;n++){var a=e[n];if(!Array.isArray(a)||a.length<2)throw new TypeError("each array member must be [ee, events...]");for(var r=a[0],s=1;s<a.length;s++){var o=a[s],c=function(n,a){return function(e){for(var t=new Array(arguments.length),e="error"===n?e:null,i=0;i<t.length;i++)t[i]=arguments[i];a(e,this,n,t)}}(o,p);r.on(o,c),i.push({ee:r,event:o,fn:c})}}function p(){l(),t.apply(null,arguments)}function l(){for(var e,t=0;t<i.length;t++)(e=i[t]).ee.removeListener(e.event,e.fn)}function u(e){t=e}return u.cancel=l,u}},{}],183:[function(e,t,i){"use strict";t.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},{}],184:[function(e,t,i){"use strict";t.exports=function(e){return String(e).replace(a,r).replace(n,encodeURI)};var n=/(?:[^\x21\x25\x26-\x3B\x3D\x3F-\x5B\x5D\x5F\x61-\x7A\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g,a=/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]|[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/g,r="$1$2"},{}],185:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ERROR_PACKET=i.PACKET_TYPES_REVERSE=i.PACKET_TYPES=void 0;const n=Object.create(null),a=((i.PACKET_TYPES=n).open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6",Object.create(null));i.PACKET_TYPES_REVERSE=a,Object.keys(n).forEach(e=>{a[n[e]]=e});i.ERROR_PACKET={type:"error",data:"parser error"}},{}],186:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=e("./commons.js");const r=(e,t)=>{var i=Buffer.isBuffer(e);return"arraybuffer"===t&&i?n(e):e},n=t=>{var e=new ArrayBuffer(t.length),i=new Uint8Array(e);for(let e=0;e<t.length;e++)i[e]=t[e];return e};i.default=(e,t)=>{var i,n;return"string"!=typeof e?{type:"message",data:r(e,t)}:"b"===(i=e.charAt(0))?(n=Buffer.from(e.substring(1),"base64"),{type:"message",data:r(n,t)}):a.PACKET_TYPES_REVERSE[i]?1<e.length?{type:a.PACKET_TYPES_REVERSE[i],data:e.substring(1)}:{type:a.PACKET_TYPES_REVERSE[i]}:a.ERROR_PACKET}},{"./commons.js":185}],187:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const r=e("./commons.js");i.default=({type:e,data:t},i,n)=>{var a;return t instanceof ArrayBuffer||ArrayBuffer.isView(t)?(a=(e=>{if(Buffer.isBuffer(e))return e;else if(e instanceof ArrayBuffer)return Buffer.from(e);else return Buffer.from(e.buffer,e.byteOffset,e.byteLength)})(t),n((a=a,i?a:"b"+a.toString("base64")))):n(r.PACKET_TYPES[e]+(t||""))}},{"./commons.js":185}],188:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.decodePayload=i.decodePacket=i.encodePayload=i.encodePacket=i.protocol=void 0;const s=e("./encodePacket.js"),r=(i.encodePacket=s.default,e("./decodePacket.js")),o=(i.decodePacket=r.default,String.fromCharCode(30));i.encodePayload=(e,i)=>{const n=e.length,a=new Array(n);let r=0;e.forEach((e,t)=>{(0,s.default)(e,!1,e=>{a[t]=e,++r===n&&i(a.join(o))})})};i.decodePayload=(e,t)=>{var i=e.split(o),n=[];for(let e=0;e<i.length;e++){var a=(0,r.default)(i[e],t);if(n.push(a),"error"===a.type)break}return n},i.protocol=4},{"./decodePacket.js":186,"./encodePacket.js":187}],189:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.protocol=i.Transport=i.Socket=i.uServer=i.parser=i.attach=i.listen=i.transports=i.Server=void 0;const a=e("http"),n=e("./server");Object.defineProperty(i,"Server",{enumerable:!0,get:function(){return n.Server}});var r=e("./transports/index"),r=(i.transports=r.default,e("engine.io-parser")),s=(i.parser=r,e("./userver")),o=(Object.defineProperty(i,"uServer",{enumerable:!0,get:function(){return s.uServer}}),e("./socket")),c=(Object.defineProperty(i,"Socket",{enumerable:!0,get:function(){return o.Socket}}),e("./transport"));function p(e,t){var i=new n.Server(t);return i.attach(e,t),i}Object.defineProperty(i,"Transport",{enumerable:!0,get:function(){return c.Transport}}),i.protocol=r.protocol,i.listen=function(e,t,i){"function"==typeof t&&(i=t,t={});var n=(0,a.createServer)(function(e,t){t.writeHead(501),t.end("Not Implemented")});return((t=p(n,t)).httpServer=n).listen(e,i),t},i.attach=p},{"./server":192,"./socket":193,"./transport":194,"./transports/index":198,"./userver":202,"engine.io-parser":188,http:void 0}],190:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.decodePayloadAsBinary=a.encodePayloadAsBinary=a.decodePayload=a.encodePayload=a.decodeBase64Packet=a.decodePacket=a.encodeBase64Packet=a.encodePacket=a.packets=a.protocol=void 0;var r=e("./utf8");a.protocol=3;a.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var s=Object.keys(a.packets),u={type:"error",data:"parser error"};const n=Buffer.concat([]);function o(e,t,i,n){return"function"==typeof t&&(n=t,t=null),"function"==typeof i&&(n=i,i=null),Buffer.isBuffer(e.data)?c(e,t,n):e.data&&(e.data.buffer||e.data)instanceof ArrayBuffer?c({type:e.type,data:f(e.data)},t,n):(t=a.packets[e.type],void 0!==e.data&&(t+=i?r.encode(String(e.data),{strict:!1}):String(e.data)),n(""+t))}function c(e,t,i){var n;return t?(t=e.data,(n=Buffer.allocUnsafe(1))[0]=a.packets[e.type],i(Buffer.concat([n,t]))):p(e,i)}function p(e,t){var i=Buffer.isBuffer(e.data)?e.data:f(e.data),e="b"+a.packets[e.type];return t(e+=i.toString("base64"))}function d(e,t,i){var n;return void 0===e?u:"string"==typeof e?"b"===(n=e.charAt(0))?l(e.slice(1),t):(!i||!1!==(e=function(e){try{e=r.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))&&Number(n)==n&&s[n]?1<e.length?{type:s[n],data:e.slice(1)}:{type:s[n]}:u:"arraybuffer"===t?(n=(i=new Uint8Array(e))[0],{type:s[n],data:i.buffer.slice(1)}):(n=(e=e instanceof ArrayBuffer?f(e):e)[0],{type:s[n],data:e.slice(1)})}function l(e,t){var i=s[e.charAt(0)],n=Buffer.from(e.slice(1),"base64");if("arraybuffer"===t){for(var a=new Uint8Array(n.length),r=0;r<a.length;r++)a[r]=n[r];n=a.buffer}return{type:i,data:n}}function h(n,e,a){const r=new Array(n.length);let s=0;for(let i=0;i<n.length;i++)e(n[i],(e,t)=>{r[i]=t,++s===n.length&&a(null,r)})}function f(e){var t=e.byteLength||e.length,i=e.byteOffset||0;return Buffer.from(e.buffer||e,i,t)}function m(e,i){if(!e.length)return i(n);h(e,y,function(e,t){i(Buffer.concat(t))})}function y(e,a){o(e,!0,!0,function(e){var t=""+e.length;if("string"==typeof e){for(var i,n=(i=Buffer.allocUnsafe(t.length+2))[0]=0;n<t.length;n++)i[n+1]=parseInt(t[n],10);return i[i.length-1]=255,a(null,Buffer.concat([i,function(e){for(var t=Buffer.allocUnsafe(e.length),i=0,n=e.length;i<n;i++)t.writeUInt8(e.charCodeAt(i),i);return t}(e)]))}for((i=Buffer.allocUnsafe(t.length+2))[0]=1,n=0;n<t.length;n++)i[n+1]=parseInt(t[n],10);i[i.length-1]=255,a(null,Buffer.concat([i,e]))})}function g(e,t,i){"function"==typeof t&&(i=t,t=null);for(var n=e,a=[];0<n.length;){for(var r="",s=0===n[0],o=1;255!==n[o];o++){if(310<r.length)return i(u,0,1);r+=""+n[o]}var n=n.slice(r.length+1),c=parseInt(r,10),p=n.slice(1,c+1);s&&(p=function(e){for(var t="",i=0,n=e.length;i<n;i++)t+=String.fromCharCode(e[i]);return t}(p)),a.push(p),n=n.slice(c+1)}var l=a.length;for(o=0;o<l;o++)i(d(a[o],t,!0),o,l)}a.encodePacket=o,a.encodeBase64Packet=p,a.decodePacket=d,a.decodeBase64Packet=l,a.encodePayload=function(e,i,n){return"function"==typeof i&&(n=i,i=null),i&&(e=>{for(const t of e)if(t.data instanceof ArrayBuffer||ArrayBuffer.isView(t.data))return!0;return!1})(e)?m(e,n):e.length?void h(e,function(e,t){o(e,i,!1,function(e){t(null,e.length+":"+e)})},function(e,t){n(t.join(""))}):n("0:")},a.decodePayload=function(e,t,i){if("string"!=typeof e)return g(e,t,i);if("function"==typeof t&&(i=t,t=null),""===e)return i(u,0,1);for(var n,a="",r=0,s=e.length;r<s;r++){var o=e.charAt(r);if(":"!==o)a+=o;else{if(""===a||a!=(n=Number(a)))return i(u,0,1);if(a!=(o=e.slice(r+1,r+1+n)).length)return i(u,0,1);if(o.length){if(o=d(o,t,!1),u.type===o.type&&u.data===o.data)return i(u,0,1);if(!1===i(o,r+n,s))return}r+=n,a=""}}return""!==a?i(u,0,1):void 0},a.encodePayloadAsBinary=m,a.decodePayloadAsBinary=g},{"./utf8":191}],191:[function(e,t,i){var l,u,d,h=String.fromCharCode;function f(e){for(var t,i,n=[],a=0,r=e.length;a<r;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<r?56320==(64512&(i=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--):n.push(t);return n}function m(e,t){if(!(55296<=e&&e<=57343))return 1;if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function y(e,t){return h(e>>t&63|128)}function g(){if(u<=d)throw Error("Invalid byte index");var e=255&l[d];if(d++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}t.exports={version:"2.1.2",encode:function(e,t){for(var i,n,a,r=!1!==(t=t||{}).strict,s=f(e),o=s.length,c=-1,p="";++c<o;)i=s[c],p+=(n=r,a=void 0,0==(4294967168&(i=i))?h(i):(a="",0==(4294965248&i)?a=h(i>>6&31|192):0==(4294901760&i)?(m(i,n)||(i=65533),a=h(i>>12&15|224),a+=y(i,6)):0==(4292870144&i)&&(a=h(i>>18&7|240),a=(a+=y(i,12))+y(i,6)),a+h(63&i|128)));return p},decode:function(e,t){for(var i,n=!1!==(t=t||{}).strict,a=(l=f(e),u=l.length,d=0,[]);!1!==(i=function(e){var t,i;if(u<d)throw Error("Invalid byte index");if(d==u)return!1;if(t=255&l[d],d++,0==(128&t))return t;if(192==(224&t)){if(128<=(i=(31&t)<<6|g()))return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if(2048<=(i=(15&t)<<12|g()<<6|g()))return m(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&65536<=(i=(7&t)<<18|g()<<12|g()<<6|g())&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}(n));)a.push(i);for(var r,s=a,o=s.length,c=-1,p="";++c<o;)65535<(r=s[c])&&(p+=h((r-=65536)>>>10&1023|55296),r=56320|1023&r),p+=h(r);return p}}},{}],192:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Server=i.BaseServer=void 0;const n=t("querystring"),a=t("url"),r=t("base64id"),s=t("./transports");var o=t("events");const c=t("./socket");var p=t("debug");const l=t("cookie"),u=t("ws"),d=(0,p.default)("engine"),h=Symbol("responseHeaders");class f extends o.EventEmitter{constructor(e={}){super(),this.middlewares=[],this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:u.Server,pingTimeout:2e4,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:Object.keys(s.default),allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1,allowEIO3:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:!1!==e.cookie.path,sameSite:"lax"},e.cookie)),this.opts.cors&&this.use(t("cors")(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}_computePath(e){let t=(e.path||"/engine.io").replace(/\/$/,"");return!1!==e.addTrailingSlash&&(t+="/"),t}upgrades(e){return this.opts.allowUpgrades&&s.default[e].upgradesTo||[]}verify(e,t,i){var n,a,r=e._query.transport;return~this.opts.transports.indexOf(r)?function(t){if(!((t+="").length<1)){if(!b[t.charCodeAt(0)])return d('invalid header, index 0, char "%s"',t.charCodeAt(0)),!0;if(!(t.length<2)){if(!b[t.charCodeAt(1)])return d('invalid header, index 1, char "%s"',t.charCodeAt(1)),!0;if(!(t.length<3)){if(!b[t.charCodeAt(2)])return d('invalid header, index 2, char "%s"',t.charCodeAt(2)),!0;if(!(t.length<4)){if(!b[t.charCodeAt(3)])return d('invalid header, index 3, char "%s"',t.charCodeAt(3)),!0;for(let e=4;e<t.length;++e)if(!b[t.charCodeAt(e)])return d('invalid header, index "%i", char "%s"',e,t.charCodeAt(e)),!0}}}}return!1}(e.headers.origin)?(n=e.headers.origin,e.headers.origin=null,d("origin header invalid"),i(y.errors.BAD_REQUEST,{name:"INVALID_ORIGIN",origin:n})):(n=e._query.sid)?this.clients.hasOwnProperty(n)?(a=this.clients[n].transport.name,t||a===r?void i():(d("bad request: unexpected transport without upgrade"),i(y.errors.BAD_REQUEST,{name:"TRANSPORT_MISMATCH",transport:r,previousTransport:a}))):(d('unknown sid "%s"',n),i(y.errors.UNKNOWN_SID,{sid:n})):"GET"!==e.method?i(y.errors.BAD_HANDSHAKE_METHOD,{method:e.method}):"websocket"!==r||t?this.opts.allowRequest?this.opts.allowRequest(e,(e,t)=>{if(!t)return i(y.errors.FORBIDDEN,{message:e});i()}):i():(d("invalid transport upgrade"),i(y.errors.BAD_REQUEST,{name:"TRANSPORT_HANDSHAKE_ERROR"})):(d('unknown transport "%s"',r),i(y.errors.UNKNOWN_TRANSPORT,{transport:r}))}use(e){this.middlewares.push(e)}_applyMiddlewares(e,i,n){if(0===this.middlewares.length)return d("no middleware to apply, skipping"),n();const a=t=>{d("applying middleware n%d",t+1),this.middlewares[t](e,i,e=>{if(e)return n(e);t+1<this.middlewares.length?a(t+1):n()})};a(0)}close(){for(var e in d("closing all open clients"),this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.cleanup(),this}generateId(e){return r.generateId()}async handshake(t,n,a){var e="4"===n._query.EIO?4:3;if(3!=e||this.opts.allowEIO3){let i;try{i=await this.generateId(n)}catch(e){return d("error while generating an id"),this.emit("connection_error",{req:n,code:y.errors.BAD_REQUEST,message:y.errorMessages[y.errors.BAD_REQUEST],context:{name:"ID_GENERATION_ERROR",error:e}}),void a(y.errors.BAD_REQUEST)}d('handshaking client "%s"',i);try{var r=this.createTransport(t,n);"polling"===t?(r.maxHttpBufferSize=this.opts.maxHttpBufferSize,r.httpCompression=this.opts.httpCompression):"websocket"===t&&(r.perMessageDeflate=this.opts.perMessageDeflate),n._query&&n._query.b64?r.supportsBinary=!1:r.supportsBinary=!0}catch(e){return d('error handshaking to transport "%s"',t),this.emit("connection_error",{req:n,code:y.errors.BAD_REQUEST,message:y.errorMessages[y.errors.BAD_REQUEST],context:{name:"TRANSPORT_HANDSHAKE_ERROR",error:e}}),void a(y.errors.BAD_REQUEST)}t=new c.Socket(i,this,r,n,e);return r.on("headers",(e,t)=>{t._query.sid||(this.opts.cookie&&(e["Set-Cookie"]=[(0,l.serialize)(this.opts.cookie.name,i,this.opts.cookie)]),this.emit("initial_headers",e,t)),this.emit("headers",e,t)}),r.onRequest(n),this.clients[i]=t,this.clientsCount++,t.once("close",()=>{delete this.clients[i],this.clientsCount--}),this.emit("connection",t),r}d("unsupported protocol version"),this.emit("connection_error",{req:n,code:y.errors.UNSUPPORTED_PROTOCOL_VERSION,message:y.errorMessages[y.errors.UNSUPPORTED_PROTOCOL_VERSION],context:{protocol:e}}),a(y.errors.UNSUPPORTED_PROTOCOL_VERSION)}}(i.BaseServer=f).errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4,UNSUPPORTED_PROTOCOL_VERSION:5},f.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden",5:"Unsupported protocol version"};class m{constructor(e,t){this.req=e,this.socket=t,e[h]={}}setHeader(e,t){this.req[h][e]=t}getHeader(e){return this.req[h][e]}removeHeader(e){delete this.req[h][e]}write(){}writeHead(){}end(){this.socket.destroy()}}class y extends f{init(){~this.opts.transports.indexOf("websocket")&&(this.ws&&this.ws.close(),this.ws=new this.opts.wsEngine({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize}),"function"==typeof this.ws.on)&&this.ws.on("headers",(t,e)=>{const i=e[h]||{};delete e[h],e._query.sid||this.emit("initial_headers",i,e),this.emit("headers",i,e),d("writing headers: %j",i),Object.keys(i).forEach(e=>{t.push(e+": "+i[e])})})}cleanup(){this.ws&&(d("closing webSocketServer"),this.ws.close())}prepare(e){e._query||(e._query=~e.url.indexOf("?")?n.parse((0,a.parse)(e.url).query):{})}createTransport(e,t){return new s.default[e](t)}handleRequest(i,n){d('handling "%s" http request "%s"',i.method,i.url),this.prepare(i),i.res=n;const t=(e,t)=>{void 0!==e?(this.emit("connection_error",{req:i,code:e,message:y.errorMessages[e],context:t}),g(n,e,t)):i._query.sid?(d("setting new request for existing client"),this.clients[i._query.sid].transport.onRequest(i)):this.handshake(i._query.transport,i,(e,t)=>g(n,e,t))};this._applyMiddlewares(i,n,e=>{e?t(y.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(i,!1,t)})}handleUpgrade(i,n,a){this.prepare(i);const r=new m(i,n),t=(e,t)=>{void 0!==e?(this.emit("connection_error",{req:i,code:e,message:y.errorMessages[e],context:t}),v(n,e,t)):(e=Buffer.from(a),a=null,r.writeHead(),this.ws.handleUpgrade(i,n,e,e=>{this.onWebSocket(i,n,e)}))};this._applyMiddlewares(i,r,e=>{e?t(y.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(i,!0,t)})}onWebSocket(e,i,t){var n,a;function r(){d("websocket error before upgrade")}t.on("error",r),void 0===s.default[e._query.transport]||s.default[e._query.transport].prototype.handlesUpgrades?(n=e._query.sid,e.websocket=t,n?(n=this.clients[n])?n.upgrading?(d("transport has already been trying to upgrade"),t.close()):n.upgraded?(d("transport had already been upgraded"),t.close()):(d("upgrading existing transport"),t.removeListener("error",r),a=this.createTransport(e._query.transport,e),e._query&&e._query.b64?a.supportsBinary=!1:a.supportsBinary=!0,a.perMessageDeflate=this.opts.perMessageDeflate,n.maybeUpgrade(a)):(d("upgrade attempt for closed client"),t.close()):this.handshake(e._query.transport,e,(e,t)=>v(i,e,t))):(d("transport doesnt handle upgraded requests"),t.close())}attach(a,n={}){const r=this._computePath(n),s=n.destroyUpgradeTimeout||1e3;function o(e){return r===e.url.slice(0,r.length)}const c=a.listeners("request").slice(0);a.removeAllListeners("request"),a.on("close",this.close.bind(this)),a.on("listening",this.init.bind(this)),a.on("request",(t,i)=>{if(o(t))d('intercepting request for path "%s"',r),this.handleRequest(t,i);else{let e=0;for(var n=c.length;e<n;e++)c[e].call(a,t,i)}}),~this.opts.transports.indexOf("websocket")&&a.on("upgrade",(e,t,i)=>{o(e)?this.handleUpgrade(e,t,i):!1!==n.destroyUpgrade&&setTimeout(function(){if(t.writable&&t.bytesWritten<=0)return t.on("error",e=>{d("error while destroying upgrade: %s",e.message)}),t.end()},s)})}}function g(e,t,i){var n=t===y.errors.FORBIDDEN?403:400,i=i&&i.message?i.message:y.errorMessages[t];e.writeHead(n,{"Content-Type":"application/json"}),e.end(JSON.stringify({code:t,message:i}))}function v(e,t,i={}){e.on("error",()=>{d("ignoring error from closed connection")}),e.writable&&(i=i.message||y.errorMessages[t],t=Buffer.byteLength(i),e.write("HTTP/1.1 400 Bad Request\r\nConnection: close\r\nContent-type: text/html\r\nContent-Length: "+t+"\r\n\r\n"+i)),e.destroy()}i.Server=y;const b=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},{"./socket":193,"./transports":198,base64id:91,cookie:203,cors:124,debug:175,events:void 0,querystring:void 0,url:void 0,ws:518}],193:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Socket=void 0;var n=e("events"),a=e("debug");const o=e("timers"),c=(0,a.default)("engine:socket");class r extends n.EventEmitter{constructor(e,t,i,n,a){super(),this.id=e,this.server=t,this.upgrading=!1,this.upgraded=!1,this.readyState="opening",this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.request=n,this.protocol=a,n.websocket&&n.websocket._socket?this.remoteAddress=n.websocket._socket.remoteAddress:this.remoteAddress=n.connection.remoteAddress,this.checkIntervalTimer=null,this.upgradeTimeoutTimer=null,this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(i),this.onOpen()}get readyState(){return this._readyState}set readyState(e){c("readyState updated from %s to %s",this._readyState,e),this._readyState=e}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout,maxPayload:this.server.opts.maxHttpBufferSize})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),3===this.protocol?this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout):this.schedulePing()}onPacket(e){if("open"!==this.readyState)return c("packet received with closed socket");switch(c("received packet "+e.type),this.emit("packet",e),this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout),e.type){case"ping":3!==this.transport.protocol?this.onError("invalid heartbeat direction"):(c("got ping"),this.sendPacket("pong"),this.emit("heartbeat"));break;case"pong":3===this.transport.protocol?this.onError("invalid heartbeat direction"):(c("got pong"),this.pingIntervalTimer.refresh(),this.emit("heartbeat"));break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data)}}onError(e){c("transport error"),this.onClose("transport error",e)}schedulePing(){this.pingIntervalTimer=(0,o.setTimeout)(()=>{c("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout(this.server.opts.pingTimeout)},this.server.opts.pingInterval)}resetPingTimeout(e){(0,o.clearTimeout)(this.pingTimeoutTimer),this.pingTimeoutTimer=(0,o.setTimeout)(()=>{"closed"!==this.readyState&&this.onClose("ping timeout")},e)}setTransport(e){const t=this.onError.bind(this),i=this.onPacket.bind(this),n=this.flush.bind(this),a=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",t),this.transport.on("packet",i),this.transport.on("drain",n),this.transport.once("close",a),this.setupSendCallback(),this.cleanupFn.push(function(){e.removeListener("error",t),e.removeListener("packet",i),e.removeListener("drain",n),e.removeListener("close",a)})}maybeUpgrade(t){c('might upgrade socket transport from "%s" to "%s"',this.transport.name,t.name),this.upgrading=!0,this.upgradeTimeoutTimer=(0,o.setTimeout)(()=>{c("client did not complete upgrade - closing transport"),n(),"open"===t.readyState&&t.close()},this.server.opts.upgradeTimeout);const e=e=>{"ping"===e.type&&"probe"===e.data?(c("got probe ping packet, sending pong"),t.send([{type:"pong",data:"probe"}]),this.emit("upgrading",t),clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=setInterval(i,100)):"upgrade"===e.type&&"closed"!==this.readyState?(c("got upgrade packet - upgrading"),n(),this.transport.discard(),this.upgraded=!0,this.clearTransport(),this.setTransport(t),this.emit("upgrade",t),this.flush(),"closing"===this.readyState&&t.close(()=>{this.onClose("forced close")})):(n(),t.close())},i=()=>{"polling"===this.transport.name&&this.transport.writable&&(c("writing a noop packet to polling for fast upgrade"),this.transport.send([{type:"noop"}]))},n=()=>{this.upgrading=!1,clearInterval(this.checkIntervalTimer),(this.checkIntervalTimer=null,o.clearTimeout)(this.upgradeTimeoutTimer),this.upgradeTimeoutTimer=null,t.removeListener("packet",e),t.removeListener("close",r),t.removeListener("error",a),this.removeListener("close",s)},a=e=>{c("client did not complete upgrade - %s",e),n(),t.close(),t=null},r=()=>{a("transport closed")},s=()=>{a("socket closed")};t.on("packet",e),t.once("close",r),t.once("error",a),this.once("close",s)}clearTransport(){var t=this.cleanupFn.length;for(let e=0;e<t;e++)this.cleanupFn.shift()();this.transport.on("error",function(){c("error triggered by discarded transport")}),this.transport.close(),(0,o.clearTimeout)(this.pingTimeoutTimer)}onClose(e,t){"closed"!==this.readyState&&(this.readyState="closed",(0,o.clearTimeout)(this.pingIntervalTimer),(0,o.clearTimeout)(this.pingTimeoutTimer),clearInterval(this.checkIntervalTimer),(this.checkIntervalTimer=null,o.clearTimeout)(this.upgradeTimeoutTimer),process.nextTick(()=>{this.writeBuffer=[]}),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,t))}setupSendCallback(){const e=()=>{if(0<this.sentCallbackFn.length){var t=this.sentCallbackFn.splice(0,1)[0];if("function"==typeof t)c("executing send callback"),t(this.transport);else if(Array.isArray(t)){c("executing batch send callback");var i=t.length;let e=0;for(;e<i;e++)"function"==typeof t[e]&&t[e](this.transport)}}};this.transport.on("drain",e),this.cleanupFn.push(()=>{this.transport.removeListener("drain",e)})}send(e,t,i){return this.sendPacket("message",e,t,i),this}write(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i={},n){"function"==typeof i&&(n=i,i={}),"closing"!==this.readyState&&"closed"!==this.readyState&&(c('sending packet "%s" (%s)',e,t),i.compress=!1!==i.compress,e={type:e,options:i},t&&(e.data=t),this.emit("packetCreate",e),this.writeBuffer.push(e),n&&this.packetsFn.push(n),this.flush())}flush(){var e;"closed"!==this.readyState&&this.transport.writable&&this.writeBuffer.length&&(c("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer),e=this.writeBuffer,this.writeBuffer=[],this.transport.supportsFraming?this.sentCallbackFn.push.apply(this.sentCallbackFn,this.packetsFn):this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[],this.transport.send(e),this.emit("drain"),this.server.emit("drain",this))}getAvailableUpgrades(){var e=[],t=this.server.upgrades(this.transport.name);let i=0;for(var n=t.length;i<n;++i){var a=t[i];-1!==this.server.opts.transports.indexOf(a)&&e.push(a)}return e}close(e){"open"===this.readyState&&(this.readyState="closing",this.writeBuffer.length?(c("there are %d remaining packets in the buffer, waiting for the 'drain' event",this.writeBuffer.length),this.once("drain",()=>{c("all packets have been sent, closing the transport"),this.closeTransport(e)})):(c("the buffer is empty, closing the transport right away",e),this.closeTransport(e)))}closeTransport(e){c("closing the transport (discard? %s)",e),e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}}i.Socket=r},{debug:175,events:void 0,timers:void 0}],194:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Transport=void 0;var n=e("events");const a=e("engine.io-parser"),r=e("./parser-v3/index"),s=(0,e("debug").default)("engine:transport");function o(){}class c extends n.EventEmitter{constructor(e){super(),this.readyState="open",this.discarded=!1,this.protocol="4"===e._query.EIO?4:3,this.parser=4===this.protocol?a:r}get readyState(){return this._readyState}set readyState(e){s("readyState updated from %s to %s (%s)",this._readyState,e,this.name),this._readyState=e}discard(){this.discarded=!0}onRequest(e){s("setting request"),this.req=e}close(e){"closed"!==this.readyState&&"closing"!==this.readyState&&(this.readyState="closing",this.doClose(e||o))}onError(e,t){var i;this.listeners("error").length?((i=new Error(e)).type="TransportError",i.description=t,this.emit("error",i)):s("ignored transport error %s (%s)",e,t)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(this.parser.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}}i.Transport=c},{"./parser-v3/index":190,debug:175,"engine.io-parser":188,events:void 0}],195:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./polling"),e=e("./websocket");i.default={polling:n.Polling,websocket:e.WebSocket}},{"./polling":196,"./websocket":197}],196:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Polling=void 0;var n=e("../transport"),a=e("zlib");const o=e("accepts"),r=(0,e("debug").default)("engine:polling"),s={gzip:a.createGzip,deflate:a.createDeflate};class c extends n.Transport{constructor(e){super(e),this.closeTimeout=3e4}get name(){return"polling"}get supportsFraming(){return!1}onRequest(e){var t=e.res;"get"===e.getMethod()?this.onPollRequest(e,t):"post"===e.getMethod()?this.onDataRequest(e,t):(t.writeStatus("500 Internal Server Error"),t.end())}onPollRequest(e,t){this.req?(r("request overlap"),this.onError("overlap from client"),t.writeStatus("500 Internal Server Error"),t.end()):(r("setting request"),this.req=e,this.res=t,e.cleanup=()=>{this.req=this.res=null},t.onAborted(()=>{this.writable=!1,this.onError("poll connection closed prematurely")}),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(r("triggering empty send to append close packet"),this.send([{type:"noop"}])))}onDataRequest(e,r){if(this.dataReq)this.onError("data request overlap from client"),r.writeStatus("500 Internal Server Error"),r.end();else{const s=Number(e.headers["content-length"]);if(s)if(s>this.maxHttpBufferSize)this.onError("payload too large"),r.writeStatus("413 Payload Too Large").end();else{if("application/octet-stream"===e.headers["content-type"]&&4===this.protocol)return this.onError("invalid content");this.dataReq=e,this.dataRes=r;let n,a=0;var t,i={"Content-Type":"text/html"};for(t in this.headers(e,i),i)r.writeHeader(t,String(i[t]));const o=e=>{this.onData(e.toString()),this.onDataRequestCleanup(),r.end("ok")};r.onAborted(()=>{this.onDataRequestCleanup(),this.onError("data request connection closed prematurely")}),r.onData((e,t)=>{var i=a+e.byteLength;if(i>s)this.onError("content-length mismatch"),r.close();else{if(!n){if(t)return void o(Buffer.from(e));n=Buffer.allocUnsafe(s)}if(Buffer.from(e).copy(n,a),t)return i!=s?(this.onError("content-length mismatch"),r.writeStatus("400 Content-Length Mismatch").end(),void this.onDataRequestCleanup()):void o(n);a=i}})}else this.onError("content-length header required"),r.writeStatus("411 Length Required").end()}}onDataRequestCleanup(){this.dataReq=this.dataRes=null}onData(e){r('received "%s"',e);var t=e=>{if("close"===e.type)return r("got xhr close packet"),this.onClose(),!1;this.onPacket(e)};3===this.protocol?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(i){this.writable=!1,this.shouldClose&&(r("appending close packet to payload"),i.push({type:"close"}),this.shouldClose(),this.shouldClose=null);var e=e=>{var t=i.some(e=>e.options&&e.options.compress);this.write(e,{compress:t})};3===this.protocol?this.parser.encodePayload(i,this.supportsBinary,e):this.parser.encodePayload(i,e)}write(e,t){r('writing "%s"',e),this.doWrite(e,t,()=>{this.req.cleanup()})}doWrite(e,t,i){var n="string"==typeof e;const a={"Content-Type":n?"text/plain; charset=UTF-8":"application/octet-stream"},r=e=>{this.headers(this.req,a),Object.keys(a).forEach(e=>{this.res.writeHeader(e,String(a[e]))}),this.res.end(e),i()};if(this.httpCompression&&t.compress)if((n?Buffer.byteLength(e):e.length)<this.httpCompression.threshold)r(e);else{const s=o(this.req).encodings(["gzip","deflate"]);s?this.compress(e,s,(e,t)=>{e?(this.res.writeStatus("500 Internal Server Error"),this.res.end(),i(e)):(a["Content-Encoding"]=s,r(t))}):r(e)}else r(e)}compress(e,t,i){r("compressing");const n=[];let a=0;s[t](this.httpCompression).on("error",i).on("data",function(e){n.push(e),a+=e.length}).on("end",function(){i(null,Buffer.concat(n,a))}).end(e)}doClose(e){r("closing");let t;var i=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(r("transport writable - closing right away"),this.send([{type:"close"}]),i()):this.discarded?(r("transport discarded - closing right away"),i()):(r("transport not writable - buffering orderly close"),this.shouldClose=i,t=setTimeout(i,this.closeTimeout))}headers(e,t){t=t||{};var i=e.headers["user-agent"];return i&&(~i.indexOf(";MSIE")||~i.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),this.emit("headers",t,e),t}}i.Polling=c},{"../transport":194,accepts:81,debug:175,zlib:void 0}],197:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.WebSocket=void 0;var n=e("../transport");const r=(0,e("debug").default)("engine:ws");class a extends n.Transport{constructor(e){super(e),this.writable=!1,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}send(t){this.writable=!1;for(let e=0;e<t.length;e++){var i=t[e];const a=e+1===t.length;var n=e=>{var t="string"!=typeof e,i=this.perMessageDeflate&&Buffer.byteLength(e)>this.perMessageDeflate.threshold;r('writing "%s"',e),this.socket.send(e,t,i),a&&(this.writable=!0,this.emit("drain"))};i.options&&"string"==typeof i.options.wsPreEncoded?n(i.options.wsPreEncoded):this.parser.encodePacket(i,this.supportsBinary,n)}}doClose(e){r("closing"),e&&e(),this.socket.end()}}i.WebSocket=a},{"../transport":194,debug:175}],198:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=e("./polling"),a=e("./polling-jsonp");e=e("./websocket");function r(e){return new("string"==typeof e._query.j?a.JSONP:n.Polling)(e)}i.default={polling:r,websocket:e.WebSocket},r.upgradesTo=["websocket"]},{"./polling":200,"./polling-jsonp":199,"./websocket":201}],199:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.JSONP=void 0;var n=e("./polling");const a=e("querystring"),r=/\\\\n/g,s=/(\\)?\\n/g;class o extends n.Polling{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){"string"==typeof(e=a.parse(e).d)&&(e=e.replace(s,function(e,t){return t?e:"\n"}),super.onData(e.replace(r,"\\n")))}doWrite(e,t,i){var n=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+n+this.foot,super.doWrite(e,t,i)}}i.JSONP=o},{"./polling":200,querystring:void 0}],200:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Polling=void 0;var n=e("../transport"),a=e("zlib");const o=e("accepts"),r=(0,e("debug").default)("engine:polling"),s={gzip:a.createGzip,deflate:a.createDeflate};class c extends n.Transport{constructor(e){super(e),this.closeTimeout=3e4}get name(){return"polling"}get supportsFraming(){return!1}onRequest(e){var t=e.res;"GET"===e.method?this.onPollRequest(e,t):"POST"===e.method?this.onDataRequest(e,t):(t.writeHead(500),t.end())}onPollRequest(e,t){if(this.req)r("request overlap"),this.onError("overlap from client"),t.writeHead(400),t.end();else{r("setting request"),this.req=e,this.res=t;const i=()=>{this.onError("poll connection closed prematurely")};e.cleanup=()=>{e.removeListener("close",i),this.req=this.res=null},e.on("close",i),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(r("triggering empty send to append close packet"),this.send([{type:"noop"}]))}}onDataRequest(e,i){if(this.dataReq)return this.onError("data request overlap from client"),i.writeHead(400),void i.end();const n="application/octet-stream"===e.headers["content-type"];if(n&&4===this.protocol)return this.onError("invalid content");this.dataReq=e,this.dataRes=i;let a=n?Buffer.concat([]):"";const r=()=>{e.removeListener("data",s),e.removeListener("end",o),e.removeListener("close",t),this.dataReq=this.dataRes=a=null},t=()=>{r(),this.onError("data request connection closed prematurely")},s=e=>{let t;(t=n?(a=Buffer.concat([a,e])).length:(a+=e,Buffer.byteLength(a)))>this.maxHttpBufferSize&&(i.writeHead(413).end(),r())},o=()=>{this.onData(a);i.writeHead(200,this.headers(e,{"Content-Type":"text/html","Content-Length":2})),i.end("ok"),r()};e.on("close",t),n||e.setEncoding("utf8"),e.on("data",s),e.on("end",o)}onData(e){r('received "%s"',e);var t=e=>{if("close"===e.type)return r("got xhr close packet"),this.onClose(),!1;this.onPacket(e)};3===this.protocol?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(i){this.writable=!1,this.shouldClose&&(r("appending close packet to payload"),i.push({type:"close"}),this.shouldClose(),this.shouldClose=null);var e=e=>{var t=i.some(e=>e.options&&e.options.compress);this.write(e,{compress:t})};3===this.protocol?this.parser.encodePayload(i,this.supportsBinary,e):this.parser.encodePayload(i,e)}write(e,t){r('writing "%s"',e),this.doWrite(e,t,()=>{this.req.cleanup()})}doWrite(e,t,i){var n="string"==typeof e;const a={"Content-Type":n?"text/plain; charset=UTF-8":"application/octet-stream"},r=e=>{a["Content-Length"]="string"==typeof e?Buffer.byteLength(e):e.length,this.res.writeHead(200,this.headers(this.req,a)),this.res.end(e),i()};if(this.httpCompression&&t.compress)if((n?Buffer.byteLength(e):e.length)<this.httpCompression.threshold)r(e);else{const s=o(this.req).encodings(["gzip","deflate"]);s?this.compress(e,s,(e,t)=>{e?(this.res.writeHead(500),this.res.end(),i(e)):(a["Content-Encoding"]=s,r(t))}):r(e)}else r(e)}compress(e,t,i){r("compressing");const n=[];let a=0;s[t](this.httpCompression).on("error",i).on("data",function(e){n.push(e),a+=e.length}).on("end",function(){i(null,Buffer.concat(n,a))}).end(e)}doClose(e){r("closing");let t;this.dataReq&&(r("aborting ongoing data request"),this.dataReq.destroy());var i=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(r("transport writable - closing right away"),this.send([{type:"close"}]),i()):this.discarded?(r("transport discarded - closing right away"),i()):(r("transport not writable - buffering orderly close"),this.shouldClose=i,t=setTimeout(i,this.closeTimeout))}headers(e,t){t=t||{};var i=e.headers["user-agent"];return i&&(~i.indexOf(";MSIE")||~i.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),this.emit("headers",t,e),t}}i.Polling=c},{"../transport":194,accepts:81,debug:175,zlib:void 0}],201:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.WebSocket=void 0;var n=e("../transport");const o=(0,e("debug").default)("engine:ws");class a extends n.Transport{constructor(e){super(e),this.socket=e.websocket,this.socket.on("message",(e,t)=>{t=t?e:e.toString();o('received "%s"',t),super.onData(t)}),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}send(t){this.writable=!1;for(let e=0;e<t.length;e++){var i=t[e];const a=e+1===t.length,r={},s=(i.options&&(r.compress=i.options.compress),e=>{if(e)return this.onError("write error",e.stack);a&&(this.writable=!0,this.emit("drain"))});var n=e=>{this.perMessageDeflate&&("string"==typeof e?Buffer.byteLength(e):e.length)<this.perMessageDeflate.threshold&&(r.compress=!1),o('writing "%s"',e),this.socket.send(e,r,s)};i.options&&"string"==typeof i.options.wsPreEncoded?n(i.options.wsPreEncoded):this._canSendPreEncodedFrame(i)?this.socket._sender.sendFrame(i.options.wsPreEncodedFrame,s):this.parser.encodePacket(i,this.supportsBinary,n)}}_canSendPreEncodedFrame(e){var t;return!this.perMessageDeflate&&"function"==typeof(null==(t=null==(t=this.socket)?void 0:t._sender)?void 0:t.sendFrame)&&void 0!==(null==(t=e.options)?void 0:t.wsPreEncodedFrame)}doClose(e){o("closing"),this.socket.close(),e&&e()}}i.WebSocket=a},{"../transport":194,debug:175}],202:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.uServer=void 0;var n=e("debug");const s=e("./server"),a=e("./transports-uws"),o=(0,n.default)("engine:uws");class r extends s.BaseServer{init(){}cleanup(){}prepare(i,e){i.method=i.getMethod().toUpperCase(),i.url=i.getUrl();var t=new URLSearchParams(i.getQuery());i._query=Object.fromEntries(t.entries()),i.headers={},i.forEach((e,t)=>{i.headers[e]=t}),i.connection={remoteAddress:Buffer.from(e.getRemoteAddressAsText()).toString()},e.onAborted(()=>{o("response has been aborted")})}createTransport(e,t){return new a.default[e](t)}attach(e,t={}){var i=this._computePath(t);e.any(i,this.handleRequest.bind(this)).ws(i,{compression:t.compression,idleTimeout:t.idleTimeout,maxBackpressure:t.maxBackpressure,maxPayloadLength:this.opts.maxHttpBufferSize,upgrade:this.handleUpgrade.bind(this),open:e=>{(e.transport.socket=e).transport.writable=!0,e.transport.emit("drain")},message:(e,t,i)=>{e.transport.onData(i?t:Buffer.from(t).toString())},close:(e,t,i)=>{e.transport.onClose(t,i)}})}_applyMiddlewares(t,e,i){if(0===this.middlewares.length)return i();t.res=new c(e),super._applyMiddlewares(t,t.res,e=>{t.res.writeHead(),i(e)})}handleRequest(i,n){o('handling "%s" http request "%s"',n.getMethod(),n.getUrl()),this.prepare(n,i),n.res=i;const t=(e,t)=>{void 0!==e?(this.emit("connection_error",{req:n,code:e,message:s.Server.errorMessages[e],context:t}),this.abortRequest(n.res,e,t)):n._query.sid?(o("setting new request for existing client"),this.clients[n._query.sid].transport.onRequest(n)):this.handshake(n._query.transport,n,(e,t)=>this.abortRequest(i,e,t))};this._applyMiddlewares(n,i,e=>{e?t(s.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(n,!1,t)})}handleUpgrade(n,a,r){o("on upgrade"),this.prepare(a,n),a.res=n;const t=async(t,i)=>{if(void 0!==t)this.emit("connection_error",{req:a,code:t,message:s.Server.errorMessages[t],context:i}),this.abortRequest(n,t,i);else{t=a._query.sid;let e;if(t){i=this.clients[t];i?i.upgrading?(o("transport has already been trying to upgrade"),n.close()):i.upgraded?(o("transport had already been upgraded"),n.close()):(o("upgrading existing transport"),e=this.createTransport(a._query.transport,a),i.maybeUpgrade(e)):(o("upgrade attempt for closed client"),n.close())}else if(!(e=await this.handshake(a._query.transport,a,(e,t)=>this.abortRequest(n,e,t))))return;a.res.writeStatus("101 Switching Protocols"),n.upgrade({transport:e},a.getHeader("sec-websocket-key"),a.getHeader("sec-websocket-protocol"),a.getHeader("sec-websocket-extensions"),r)}};this._applyMiddlewares(a,n,e=>{e?t(s.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(a,!0,t)})}abortRequest(e,t,i){var n=t===s.Server.errors.FORBIDDEN?"403 Forbidden":"400 Bad Request",i=i&&i.message?i.message:s.Server.errorMessages[t];e.writeStatus(n),e.writeHeader("Content-Type","application/json"),e.end(JSON.stringify({code:t,message:i}))}}i.uServer=r;class c{constructor(e){this.res=e,this.statusWritten=!1,this.headers=[]}set statusCode(e){e&&this.writeStatus(200===e?"200 OK":"204 No Content")}writeHead(e){this.statusCode=e}setHeader(t,e){Array.isArray(e)?e.forEach(e=>{this.writeHeader(t,e)}):this.writeHeader(t,e)}removeHeader(){}getHeader(){}writeStatus(e){return this.res.writeStatus(e),this.statusWritten=!0,this.writeBufferedHeaders(),this}writeHeader(e,t){"Content-Length"!==e&&(this.statusWritten?this.res.writeHeader(e,t):this.headers.push([e,t]))}writeBufferedHeaders(){this.headers.forEach(([e,t])=>{this.res.writeHeader(e,t)})}end(e){this.statusWritten||this.writeBufferedHeaders(),this.res.end(e)}onData(e){this.res.onData(e)}onAborted(e){this.res.onAborted(e)}}},{"./server":192,"./transports-uws":195,debug:175}],203:[function(e,t,i){"use strict";i.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var i={},t=t||{},n=e.split(";"),a=t.decode||p,r=0;r<n.length;r++){var s,o=n[r],c=o.indexOf("=");c<0||(s=o.substring(0,c).trim(),null==i[s]&&('"'===(c=o.substring(c+1,o.length).trim())[0]&&(c=c.slice(1,-1)),i[s]=function(t,e){try{return e(t)}catch(e){return t}}(c,a)))}return i},i.serialize=function(e,t,i){var i=i||{},n=i.encode||r;if("function"!=typeof n)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");n=n(t);if(n&&!s.test(n))throw new TypeError("argument val is invalid");var a=e+"="+n;if(null!=i.maxAge){t=+i.maxAge;if(isNaN(t)||!isFinite(t))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(t)}if(i.domain){if(!s.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!s.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+i.expires.toUTCString()}i.httpOnly&&(a+="; HttpOnly");i.secure&&(a+="; Secure");if(i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a};var p=decodeURIComponent,r=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},{}],204:[function(e,t,i){"use strict";t.exports=e("./is-implemented")()?Array.from:e("./shim")},{"./is-implemented":205,"./shim":206}],205:[function(e,t,i){"use strict";t.exports=function(){var e,t=Array.from;return"function"==typeof t&&(e=t(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},{}],206:[function(e,t,i){"use strict";var h=e("es6-symbol").iterator,f=e("../../function/is-arguments"),m=e("../../function/is-function"),y=e("../../number/to-pos-integer"),g=e("../../object/valid-callable"),v=e("../../object/valid-value"),b=e("../../object/is-value"),x=e("../../string/is-string"),_=Array.isArray,w=Function.prototype.call,k={configurable:!0,enumerable:!0,writable:!0,value:null},E=Object.defineProperty;t.exports=function(e){var t,i,n,a,r,s,o,c,p,l,u=arguments[1],d=arguments[2];if(e=Object(v(e)),b(u)&&g(u),this&&this!==Array&&m(this))t=this;else{if(!u){if(f(e))return 1!==(r=e.length)?Array.apply(null,e):((a=new Array(1))[0]=e[0],a);if(_(e)){for(a=new Array(r=e.length),i=0;i<r;++i)a[i]=e[i];return a}}a=[]}if(!_(e))if(void 0!==(p=e[h])){for(o=g(p).call(e),t&&(a=new t),c=o.next(),i=0;!c.done;)l=u?w.call(u,d,c.value,i):c.value,t?(k.value=l,E(a,i,k)):a[i]=l,c=o.next(),++i;r=i}else if(x(e)){for(r=e.length,t&&(a=new t),n=i=0;i<r;++i)l=e[i],i+1<r&&55296<=(s=l.charCodeAt(0))&&s<=56319&&(l+=e[++i]),l=u?w.call(u,d,l,n):l,t?(k.value=l,E(a,n,k)):a[n]=l,++n;r=n}if(void 0===r)for(r=y(e.length),t&&(a=new t(r)),i=0;i<r;++i)l=u?w.call(u,d,e[i],i):e[i],t?(k.value=l,E(a,i,k)):a[i]=l;return t&&(k.value=null,a.length=r),a}},{"../../function/is-arguments":208,"../../function/is-function":209,"../../number/to-pos-integer":215,"../../object/is-value":223,"../../object/valid-callable":233,"../../object/valid-value":234,"../../string/is-string":238,"es6-symbol":239}],207:[function(e,t,i){"use strict";t.exports=function(e){return e}},{}],208:[function(e,t,i){"use strict";var n=Object.prototype.toString,a=n.call(function(){return arguments}());t.exports=function(e){return n.call(e)===a}},{}],209:[function(e,t,i){"use strict";var n=Object.prototype.toString,a=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(e){return"function"==typeof e&&a(n.call(e))}},{}],210:[function(e,t,i){"use strict";t.exports=function(){}},{}],211:[function(e,t,i){"use strict";t.exports=e("./is-implemented")()?Math.sign:e("./shim")},{"./is-implemented":212,"./shim":213}],212:[function(e,t,i){"use strict";t.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},{}],213:[function(e,t,i){"use strict";t.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:0<e?1:-1}},{}],214:[function(e,t,i){"use strict";var n=e("../math/sign"),a=Math.abs,r=Math.floor;t.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?n(e)*r(a(e)):e}},{"../math/sign":211}],215:[function(e,t,i){"use strict";var n=e("./to-integer"),a=Math.max;t.exports=function(e){return a(0,n(e))}},{"./to-integer":214}],216:[function(e,t,i){"use strict";var o=e("./valid-callable"),c=e("./valid-value"),p=Function.prototype.bind,l=Function.prototype.call,u=Object.keys,d=Object.prototype.propertyIsEnumerable;t.exports=function(r,s){return function(i,n){var e,a=arguments[2],t=arguments[3];return i=Object(c(i)),o(n),e=u(i),t&&e.sort("function"==typeof t?p.call(t,i):void 0),"function"!=typeof r&&(r=e[r]),l.call(r,e,function(e,t){return d.call(i,e)?l.call(n,a,i[e],e,i,t):s})}}},{"./valid-callable":233,"./valid-value":234}],217:[function(e,t,i){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":218,"./shim":219}],218:[function(e,t,i){"use strict";t.exports=function(){var e=Object.assign;return"function"==typeof e&&(e(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],219:[function(e,t,i){"use strict";var s=e("../keys"),o=e("../valid-value"),c=Math.max;t.exports=function(t,i){var n,e,a,r=c(arguments.length,2);for(t=Object(o(t)),a=function(e){try{t[e]=i[e]}catch(e){n=n||e}},e=1;e<r;++e)s(i=arguments[e]).forEach(a);if(void 0!==n)throw n;return t}},{"../keys":224,"../valid-value":234}],220:[function(e,t,i){"use strict";var n,a,r,s,o=Object.create;e("./set-prototype-of/is-implemented")()||(n=e("./set-prototype-of/shim")),t.exports=!n||1!==n.level?o:(s={configurable:!(r={}),enumerable:!(a={}),writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){r[e]="__proto__"===e?{configurable:!0,enumerable:!1,writable:!0,value:void 0}:s}),Object.defineProperties(a,r),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(e,t){return o(null===e?a:e,t)})},{"./set-prototype-of/is-implemented":230,"./set-prototype-of/shim":231}],221:[function(e,t,i){"use strict";t.exports=e("./_iterate")("forEach")},{"./_iterate":216}],222:[function(e,t,i){"use strict";var n=e("./is-value"),a={function:!0,object:!0};t.exports=function(e){return n(e)&&a[typeof e]||!1}},{"./is-value":223}],223:[function(e,t,i){"use strict";var n=e("../function/noop")();t.exports=function(e){return e!==n&&null!==e}},{"../function/noop":210}],224:[function(e,t,i){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":225,"./shim":226}],225:[function(e,t,i){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],226:[function(e,t,i){"use strict";var n=e("../is-value"),a=Object.keys;t.exports=function(e){return a(n(e)?Object(e):e)}},{"../is-value":223}],227:[function(e,t,i){"use strict";var n=e("./valid-callable"),o=e("./for-each"),c=Function.prototype.call;t.exports=function(e,a){var r={},s=arguments[2];return n(a),o(e,function(e,t,i,n){r[t]=c.call(a,s,e,t,i,n)}),r}},{"./for-each":221,"./valid-callable":233}],228:[function(e,t,i){"use strict";var r=e("./is-value"),n=Array.prototype.forEach,s=Object.create;t.exports=function(e){var a=s(null);return n.call(arguments,function(e){if(r(e)){var t,i=Object(e),n=a;for(t in i)n[t]=i[t]}}),a}},{"./is-value":223}],229:[function(e,t,i){"use strict";t.exports=e("./is-implemented")()?Object.setPrototypeOf:e("./shim")},{"./is-implemented":230,"./shim":231}],230:[function(e,t,i){"use strict";var n=Object.create,a=Object.getPrototypeOf,r={};t.exports=function(){var e=Object.setPrototypeOf;return"function"==typeof e&&a(e((arguments[0]||n)(null),r))===r}},{}],231:[function(e,t,i){"use strict";var n,a,r=e("../is-object"),s=e("../valid-value"),o=Object.prototype.isPrototypeOf,c=Object.defineProperty,p={configurable:!0,enumerable:!1,writable:!0,value:void 0},l=function(e,t){if(s(e),null===t||r(t))return e;throw new TypeError("Prototype must be null or an object")};t.exports=(t=function(){var e,t=Object.create(null),i={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{(e=n.set).call(t,i)}catch(e){}if(Object.getPrototypeOf(t)===i)return{set:e,level:2}}return t.__proto__=i,Object.getPrototypeOf(t)===i?{level:2}:((t={}).__proto__=i,Object.getPrototypeOf(t)===i&&{level:1})}())?(n=2===t.level?t.set?(a=t.set,function(e,t){return a.call(l(e,t),t),e}):function(e,t){return l(e,t).__proto__=t,e}:function e(t,i){var n;return l(t,i),(n=o.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,t.__proto__=i=null===i?e.nullPolyfill:i,n&&c(e.nullPolyfill,"__proto__",p),t},Object.defineProperty(n,"level",{configurable:!1,enumerable:!1,writable:!1,value:t.level})):null,e("../create")},{"../create":220,"../is-object":222,"../valid-value":234}],232:[function(e,t,i){"use strict";function n(e,t){return[t,e]}var o=e("./valid-callable"),c=e("./is-value"),p=e("./for-each"),l=Function.prototype.call;t.exports=function(e){var a=[],r=arguments[1],s=arguments[2],r=c(r)?o(r):n;return p(e,function(e,t,i,n){a.push(l.call(r,s,e,t,this,n))},e,arguments[3]),a}},{"./for-each":221,"./is-value":223,"./valid-callable":233}],233:[function(e,t,i){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],234:[function(e,t,i){"use strict";var n=e("./is-value");t.exports=function(e){if(n(e))return e;throw new TypeError("Cannot use null or undefined")}},{"./is-value":223}],235:[function(e,t,i){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":236,"./shim":237}],236:[function(e,t,i){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},{}],237:[function(e,t,i){"use strict";var n=String.prototype.indexOf;t.exports=function(e){return-1<n.call(this,e,arguments[1])}},{}],238:[function(e,t,i){"use strict";var n=Object.prototype.toString,a=n.call("");t.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===a)||!1}},{}],239:[function(e,t,i){"use strict";t.exports=e("./is-implemented")()?e("ext/global-this").Symbol:e("./polyfill")},{"./is-implemented":240,"./polyfill":245,"ext/global-this":272}],240:[function(e,t,i){"use strict";var n=e("ext/global-this"),a={object:!0,symbol:!0};t.exports=function(){var e,t=n.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!a[typeof t.iterator]&&!!a[typeof t.toPrimitive]&&!!a[typeof t.toStringTag]}},{"ext/global-this":272}],241:[function(e,t,i){"use strict";t.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},{}],242:[function(e,t,i){"use strict";var a=e("d"),e=Object.create,r=Object.defineProperty,s=Object.prototype,o=e(null);t.exports=function(e){for(var t,i,n=0;o[e+(n||"")];)++n;return o[e+=n||""]=!0,r(s,t="@@"+e,a.gs(null,function(e){i||(i=!0,r(this,t,a(e)),i=!1)})),t}},{d:161}],243:[function(e,t,i){"use strict";var n=e("d"),a=e("ext/global-this").Symbol;t.exports=function(e){return Object.defineProperties(e,{hasInstance:n("",a&&a.hasInstance||e("hasInstance")),isConcatSpreadable:n("",a&&a.isConcatSpreadable||e("isConcatSpreadable")),iterator:n("",a&&a.iterator||e("iterator")),match:n("",a&&a.match||e("match")),replace:n("",a&&a.replace||e("replace")),search:n("",a&&a.search||e("search")),species:n("",a&&a.species||e("species")),split:n("",a&&a.split||e("split")),toPrimitive:n("",a&&a.toPrimitive||e("toPrimitive")),toStringTag:n("",a&&a.toStringTag||e("toStringTag")),unscopables:n("",a&&a.unscopables||e("unscopables"))})}},{d:161,"ext/global-this":272}],244:[function(e,t,i){"use strict";var n=e("d"),a=e("../../../validate-symbol"),r=Object.create(null);t.exports=function(t){return Object.defineProperties(t,{for:n(function(e){return r[e]||(r[e]=t(String(e)))}),keyFor:n(function(e){for(var t in a(e),r)if(r[t]===e)return t})})}},{"../../../validate-symbol":246,d:161}],245:[function(e,t,i){"use strict";var n,a,r,s=e("d"),o=e("./validate-symbol"),c=e("ext/global-this").Symbol,p=e("./lib/private/generate-name"),l=e("./lib/private/setup/standard-symbols"),e=e("./lib/private/setup/symbol-registry"),u=Object.create,d=Object.defineProperties,h=Object.defineProperty;if("function"==typeof c)try{String(c()),r=!0}catch(e){}else c=null;a=function(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return n(e)},t.exports=n=function e(t){var i;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return r?c(t):(i=u(a.prototype),t=void 0===t?"":String(t),d(i,{__description__:s("",t),__name__:s("",p(t))}))},l(n),e(n),d(a.prototype,{constructor:s(n),toString:s("",function(){return this.__name__})}),d(n.prototype,{toString:s(function(){return"Symbol ("+o(this).__description__+")"}),valueOf:s(function(){return o(this)})}),h(n.prototype,n.toPrimitive,s("",function(){var e=o(this);return"symbol"==typeof e?e:e.toString()})),h(n.prototype,n.toStringTag,s("c","Symbol")),h(a.prototype,n.toStringTag,s("c",n.prototype[n.toStringTag])),h(a.prototype,n.toPrimitive,s("c",n.prototype[n.toPrimitive]))},{"./lib/private/generate-name":242,"./lib/private/setup/standard-symbols":243,"./lib/private/setup/symbol-registry":244,"./validate-symbol":246,d:161,"ext/global-this":272}],246:[function(e,t,i){"use strict";var n=e("./is-symbol");t.exports=function(e){if(n(e))return e;throw new TypeError(e+" is not a symbol")}},{"./is-symbol":241}],247:[function(e,t,i){"use strict";var s=/["'&<>]/;t.exports=function(e){var t,i=""+e,e=s.exec(i);if(!e)return i;var n="",a=0,r=0;for(a=e.index;a<i.length;a++){switch(i.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==a&&(n+=i.substring(r,a)),r=a+1,n+=t}return r!==a?n+i.substring(r,a):n}},{}],248:[function(e,t,i){"use strict";t.exports=function(e,t){if(null==e)throw new TypeError("argument entity is required");var i=function(e){if("function"==typeof a&&e instanceof a)return!0;return e&&"object"==typeof e&&"ctime"in e&&"[object Date]"===r.call(e.ctime)&&"mtime"in e&&"[object Date]"===r.call(e.mtime)&&"ino"in e&&"number"==typeof e.ino&&"size"in e&&"number"==typeof e.size}(e),t=t&&"boolean"==typeof t.weak?t.weak:i;if(i||"string"==typeof e||Buffer.isBuffer(e))return i=(i?function(e){var t=e.mtime.getTime().toString(16);return'"'+e.size.toString(16)+"-"+t+'"'}:function(e){if(0===e.length)return'"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"';var t=n.createHash("sha1").update(e,"utf8").digest("base64").substring(0,27);return'"'+("string"==typeof e?Buffer.byteLength(e,"utf8"):e.length).toString(16)+"-"+t+'"'})(e),t?"W/"+i:i;throw new TypeError("argument entity must be string, Buffer, or fs.Stats")};var n=e("crypto"),a=e("fs").Stats,r=Object.prototype.toString},{crypto:void 0,fs:void 0}],249:[function(e,t,i){"use strict";var n=e("d"),s=e("es5-ext/object/valid-callable"),o=Function.prototype.apply,c=Function.prototype.call,a=Object.create,r=Object.defineProperty,p=Object.defineProperties,l=Object.prototype.hasOwnProperty,u={configurable:!0,enumerable:!1,writable:!0},d=function(e,t){var i;return s(t),l.call(this,"__ee__")?i=this.__ee__:(i=u.value=a(null),r(this,"__ee__",u),u.value=null),i[e]?"object"==typeof i[e]?i[e].push(t):i[e]=[i[e],t]:i[e]=t,this},e=function(e,t){var i,n;return s(t),n=this,d.call(this,e,i=function(){h.call(n,e,i),o.call(t,this,arguments)}),i.__eeOnceListener__=t,this},h=function(e,t){var i,n,a,r;if(s(t),l.call(this,"__ee__")&&(i=this.__ee__)[e])if("object"==typeof(n=i[e]))for(r=0;a=n[r];++r)a!==t&&a.__eeOnceListener__!==t||(2===n.length?i[e]=n[r?0:1]:n.splice(r,1));else n!==t&&n.__eeOnceListener__!==t||delete i[e];return this},f=function(e){var t,i,n,a,r;if(l.call(this,"__ee__")&&(a=this.__ee__[e]))if("object"==typeof a){for(i=arguments.length,r=new Array(i-1),t=1;t<i;++t)r[t-1]=arguments[t];for(a=a.slice(),t=0;n=a[t];++t)o.call(n,this,r)}else switch(arguments.length){case 1:c.call(a,this);break;case 2:c.call(a,this,arguments[1]);break;case 3:c.call(a,this,arguments[1],arguments[2]);break;default:for(i=arguments.length,r=new Array(i-1),t=1;t<i;++t)r[t-1]=arguments[t];o.call(a,this,r)}},m={on:d,once:e,off:h,emit:f},y={on:n(d),once:n(e),off:n(h),emit:n(f)},g=p({},y);t.exports=i=function(e){return null==e?a(g):p(Object(e),y)},i.methods=m},{d:161,"es5-ext/object/valid-callable":233}],250:[function(e,t,i){"use strict";t.exports=e("./lib/express")},{"./lib/express":252}],251:[function(e,t,i){"use strict";var a=e("finalhandler"),n=e("./router"),r=e("methods"),s=e("./middleware/init"),o=e("./middleware/query"),c=e("debug")("express:application"),p=e("./view"),l=e("http"),u=e("./utils").compileETag,d=e("./utils").compileQueryParser,h=e("./utils").compileTrust,f=e("depd")("express"),m=e("array-flatten"),y=e("utils-merge"),g=e("path").resolve,v=e("setprototypeof"),b=Object.prototype.hasOwnProperty,x=Array.prototype.slice,_=t.exports={},w="@@symbol:trust_proxy_default";_.init=function(){this.cache={},this.engines={},this.settings={},this.defaultConfiguration()},_.defaultConfiguration=function(){var e=process.env.NODE_ENV||"development";this.enable("x-powered-by"),this.set("etag","weak"),this.set("env",e),this.set("query parser","extended"),this.set("subdomain offset",2),this.set("trust proxy",!1),Object.defineProperty(this.settings,w,{configurable:!0,value:!0}),c("booting in %s mode",e),this.on("mount",function(e){!0===this.settings[w]&&"function"==typeof e.settings["trust proxy fn"]&&(delete this.settings["trust proxy"],delete this.settings["trust proxy fn"]),v(this.request,e.request),v(this.response,e.response),v(this.engines,e.engines),v(this.settings,e.settings)}),this.locals=Object.create(null),this.mountpath="/",this.locals.settings=this.settings,this.set("view",p),this.set("views",g("views")),this.set("jsonp callback name","callback"),"production"===e&&this.enable("view cache"),Object.defineProperty(this,"router",{get:function(){throw new Error("'app.router' is deprecated!\nPlease see the 3.x to 4.x migration guide for details on how to update your app.")}})},_.lazyrouter=function(){this._router||(this._router=new n({caseSensitive:this.enabled("case sensitive routing"),strict:this.enabled("strict routing")}),this._router.use(o(this.get("query parser fn"))),this._router.use(s.init(this)))},_.handle=function(e,t,i){var n=this._router,i=i||a(e,t,{env:this.get("env"),onerror:function(e){"test"!==this.get("env")&&console.error(e.stack||e.toString())}.bind(this)});n?n.handle(e,t,i):(c("no routes defined on app"),i())},_.use=function(e){var t=0,i="/";if("function"!=typeof e){for(var n=e;Array.isArray(n)&&0!==n.length;)n=n[0];"function"!=typeof n&&(t=1,i=e)}e=m(x.call(arguments,t));if(0===e.length)throw new TypeError("app.use() requires a middleware function");this.lazyrouter();var a=this._router;return e.forEach(function(e){if(!e||!e.handle||!e.set)return a.use(i,e);c(".use app under %s",i),e.mountpath=i,e.parent=this,a.use(i,function(t,i,n){var a=t.app;e.handle(t,i,function(e){v(t,a.request),v(i,a.response),n(e)})}),e.emit("mount",this)},this),this},_.route=function(e){return this.lazyrouter(),this._router.route(e)},_.engine=function(e,t){if("function"!=typeof t)throw new Error("callback function required");e="."!==e[0]?"."+e:e;return this.engines[e]=t,this},_.param=function(e,t){if(this.lazyrouter(),Array.isArray(e))for(var i=0;i<e.length;i++)this.param(e[i],t);else this._router.param(e,t);return this},_.set=function(e,t){if(1!==arguments.length){switch(c('set "%s" to %o',e,t),this.settings[e]=t,e){case"etag":this.set("etag fn",u(t));break;case"query parser":this.set("query parser fn",d(t));break;case"trust proxy":this.set("trust proxy fn",h(t)),Object.defineProperty(this.settings,w,{configurable:!0,value:!1})}return this}for(var i=this.settings;i&&i!==Object.prototype;){if(b.call(i,e))return i[e];i=Object.getPrototypeOf(i)}},_.path=function(){return this.parent?this.parent.path()+this.mountpath:""},_.enabled=function(e){return Boolean(this.set(e))},_.disabled=function(e){return!this.set(e)},_.enable=function(e){return this.set(e,!0)},_.disable=function(e){return this.set(e,!1)},r.forEach(function(t){_[t]=function(e){if("get"===t&&1===arguments.length)return this.set(e);this.lazyrouter();e=this._router.route(e);return e[t].apply(e,x.call(arguments,1)),this}}),_.all=function(e){this.lazyrouter();for(var t=this._router.route(e),i=x.call(arguments,1),n=0;n<r.length;n++)t[r[n]].apply(t,i);return this},_.del=f.function(_.delete,"app.del: Use app.delete instead"),_.render=function(e,t,i){var n,a=this.cache,r=this.engines,s=t,o={};if("function"==typeof t&&(i=t,s={}),y(o,this.locals),s._locals&&y(o,s._locals),y(o,s),null==o.cache&&(o.cache=this.enabled("view cache")),!(n=o.cache?a[e]:n)){if(!(n=new(this.get("view"))(e,{defaultEngine:this.get("view engine"),root:this.get("views"),engines:r})).path)return t=Array.isArray(n.root)&&1<n.root.length?'directories "'+n.root.slice(0,-1).join('", "')+'" or "'+n.root[n.root.length-1]+'"':'directory "'+n.root+'"',(s=new Error('Failed to lookup view "'+e+'" in views '+t)).view=n,i(s);o.cache&&(a[e]=n)}r=n,t=o,s=i;try{r.render(t,s)}catch(e){s(e)}},_.listen=function(){var e=l.createServer(this);return e.listen.apply(e,arguments)}},{"./middleware/init":253,"./middleware/query":254,"./router":257,"./utils":260,"./view":261,"array-flatten":89,debug:264,depd:179,finalhandler:266,http:void 0,methods:349,path:void 0,setprototypeof:474,"utils-merge":514}],252:[function(e,t,i){"use strict";var n=e("body-parser"),a=e("events").EventEmitter,r=e("merge-descriptors"),s=e("./application"),o=e("./router/route"),c=e("./router"),p=e("./request"),l=e("./response");(i=t.exports=function(){function n(e,t,i){n.handle(e,t,i)}return r(n,a.prototype,!1),r(n,s,!1),n.request=Object.create(p,{app:{configurable:!0,enumerable:!0,writable:!0,value:n}}),n.response=Object.create(l,{app:{configurable:!0,enumerable:!0,writable:!0,value:n}}),n.init(),n}).application=s,i.request=p,i.response=l,i.Route=o,i.Router=c,i.json=n.json,i.query=e("./middleware/query"),i.raw=n.raw,i.static=e("serve-static"),i.text=n.text,i.urlencoded=n.urlencoded;["bodyParser","compress","cookieSession","session","logger","cookieParser","favicon","responseTime","errorHandler","timeout","methodOverride","vhost","csrf","directory","limit","multipart","staticCache"].forEach(function(e){Object.defineProperty(i,e,{get:function(){throw new Error("Most middleware (like "+e+") is no longer bundled with Express and must be installed separately. Please see https://github.com/senchalabs/connect#middleware.")},configurable:!0})})},{"./application":251,"./middleware/query":254,"./request":255,"./response":256,"./router":257,"./router/route":259,"body-parser":95,events:void 0,"merge-descriptors":348,"serve-static":472}],253:[function(e,t,i){"use strict";var a=e("setprototypeof");i.init=function(n){return function(e,t,i){n.enabled("x-powered-by")&&t.setHeader("X-Powered-By","Express"),((e.res=t).req=e).next=i,a(e,n.request),a(t,n.response),t.locals=t.locals||Object.create(null),i()}}},{setprototypeof:474}],254:[function(e,t,i){"use strict";var n=e("utils-merge"),s=e("parseurl"),o=e("qs");t.exports=function(e){var a=n({},e),r=o.parse;return"function"==typeof e&&(r=e,a=void 0),void 0!==a&&void 0===a.allowPrototypes&&(a.allowPrototypes=!0),function(e,t,i){var n;e.query||(n=s(e).query,e.query=r(n,a)),i()}}},{parseurl:369,qs:374,"utils-merge":514}],255:[function(e,t,i){"use strict";var n=e("accepts"),r=e("depd")("express"),a=e("net").isIP,s=e("type-is"),o=e("http"),c=e("fresh"),p=e("range-parser"),l=e("parseurl"),u=e("proxy-addr"),e=Object.create(o.IncomingMessage.prototype);function d(e,t,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:i})}(t.exports=e).get=e.header=function(e){if(!e)throw new TypeError("name argument is required to req.get");if("string"!=typeof e)throw new TypeError("name must be a string to req.get");var t=e.toLowerCase();switch(t){case"referer":case"referrer":return this.headers.referrer||this.headers.referer;default:return this.headers[t]}},e.accepts=function(){var e=n(this);return e.types.apply(e,arguments)},e.acceptsEncodings=function(){var e=n(this);return e.encodings.apply(e,arguments)},e.acceptsEncoding=r.function(e.acceptsEncodings,"req.acceptsEncoding: Use acceptsEncodings instead"),e.acceptsCharsets=function(){var e=n(this);return e.charsets.apply(e,arguments)},e.acceptsCharset=r.function(e.acceptsCharsets,"req.acceptsCharset: Use acceptsCharsets instead"),e.acceptsLanguages=function(){var e=n(this);return e.languages.apply(e,arguments)},e.acceptsLanguage=r.function(e.acceptsLanguages,"req.acceptsLanguage: Use acceptsLanguages instead"),e.range=function(e,t){var i;if(i=this.get("Range"))return p(e,i,t)},e.param=function(e,t){var i=this.params||{},n=this.body||{},a=this.query||{};return r("req.param("+(1===arguments.length?"name":"name, default")+"): Use req.params, req.body, or req.query instead"),null!=i[e]&&i.hasOwnProperty(e)?i[e]:null!=n[e]?n[e]:null!=a[e]?a[e]:t},e.is=function(e){var t=e;if(!Array.isArray(e))for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];return s(this,t)},d(e,"protocol",function(){var e,t,i=this.connection.encrypted?"https":"http";return this.app.get("trust proxy fn")(this.connection.remoteAddress,0)?(-1!==(t=(e=this.get("X-Forwarded-Proto")||i).indexOf(","))?e.substring(0,t):e).trim():i}),d(e,"secure",function(){return"https"===this.protocol}),d(e,"ip",function(){var e=this.app.get("trust proxy fn");return u(this,e)}),d(e,"ips",function(){var e=this.app.get("trust proxy fn"),e=u.all(this,e);return e.reverse().pop(),e}),d(e,"subdomains",function(){var e,t=this.hostname;return t?(e=this.app.get("subdomain offset"),(a(t)?[t]:t.split(".").reverse()).slice(e)):[]}),d(e,"path",function(){return l(this).pathname}),d(e,"hostname",function(){var e=this.app.get("trust proxy fn"),t=this.get("X-Forwarded-Host");if(t&&e(this.connection.remoteAddress,0)?-1!==t.indexOf(",")&&(t=t.substring(0,t.indexOf(",")).trimRight()):t=this.get("Host"),t)return e="["===t[0]?t.indexOf("]")+1:0,-1!==(e=t.indexOf(":",e))?t.substring(0,e):t}),d(e,"host",r.function(function(){return this.hostname},"req.host: Use req.hostname instead")),d(e,"fresh",function(){var e=this.method,t=this.res,i=t.statusCode;return("GET"===e||"HEAD"===e)&&(200<=i&&i<300||304===i)&&c(this.headers,{etag:t.get("ETag"),"last-modified":t.get("Last-Modified")})}),d(e,"stale",function(){return!this.fresh}),d(e,"xhr",function(){return"xmlhttprequest"===(this.get("X-Requested-With")||"").toLowerCase()})},{accepts:81,depd:179,fresh:281,http:void 0,net:void 0,parseurl:369,"proxy-addr":372,"range-parser":378,"type-is":499}],256:[function(e,t,i){"use strict";var s=e("safe-buffer").Buffer,l=e("content-disposition"),r=e("http-errors"),o=e("depd")("express"),n=e("encodeurl"),a=e("escape-html"),c=e("http"),p=e("./utils").isAbsolute,u=e("on-finished"),d=e("path"),h=e("statuses"),f=e("utils-merge"),m=e("cookie-signature").sign,y=e("./utils").normalizeType,g=e("./utils").normalizeTypes,v=e("./utils").setCharset,b=e("cookie"),x=e("send"),_=d.extname,w=x.mime,k=d.resolve,E=e("vary"),d=Object.create(c.ServerResponse.prototype),S=(t.exports=d,/;\s*charset\s*=/);function D(e,t,r,i){var n,a=!1;function s(){var e;a||(a=!0,(e=new Error("Request aborted")).code="ECONNABORTED",i(e))}function o(e){a||(a=!0,i(e))}t.on("directory",function(){var e;a||(a=!0,(e=new Error("EISDIR, read")).code="EISDIR",i(e))}),t.on("end",function(){a||(a=!0,i())}),t.on("error",o),t.on("file",function(){n=!1}),t.on("stream",function(){n=!0}),u(e,function(e){return e&&"ECONNRESET"===e.code?s():e?o(e):void(a||setImmediate(function(){!1===n||a?a||(a=!0,i()):s()}))}),r.headers&&t.on("headers",function(e){for(var t=r.headers,i=Object.keys(t),n=0;n<i.length;n++){var a=i[n];e.setHeader(a,t[a])}}),t.pipe(e)}function C(e,t,i,n){t=t||i?JSON.stringify(e,t,i):JSON.stringify(e);return t=n&&"string"==typeof t?t.replace(/[<>&]/g,function(e){switch(e.charCodeAt(0)){case 60:return"\\u003c";case 62:return"\\u003e";case 38:return"\\u0026";default:return e}}):t}d.status=function(e){return("string"==typeof e||Math.floor(e)!==e)&&99<e&&e<1e3&&o("res.status("+JSON.stringify(e)+"): use res.status("+Math.floor(e)+") instead"),this.statusCode=e,this},d.links=function(t){var e=this.get("Link")||"";return e&&(e+=", "),this.set("Link",e+Object.keys(t).map(function(e){return"<"+t[e]+'>; rel="'+e+'"'}).join(", "))},d.send=function(e){var t,i=e,n=this.req,a=this.app;switch(2===arguments.length&&("number"!=typeof e&&"number"==typeof arguments[1]?(o("res.send(body, status): Use res.status(status).send(body) instead"),this.statusCode=arguments[1]):(o("res.send(status, body): Use res.status(status).send(body) instead"),this.statusCode=e,i=arguments[1])),"number"==typeof i&&1===arguments.length&&(this.get("Content-Type")||this.type("txt"),o("res.send(status): Use res.sendStatus(status) instead"),this.statusCode=i,i=h.message[i]),typeof i){case"string":this.get("Content-Type")||this.type("html");break;case"boolean":case"number":case"object":if(null===i)i="";else{if(!s.isBuffer(i))return this.json(i);this.get("Content-Type")||this.type("bin")}}"string"==typeof i&&(t="utf8","string"==typeof(e=this.get("Content-Type")))&&this.set("Content-Type",v(e,"utf-8"));var r,e=a.get("etag fn"),a=!this.get("ETag")&&"function"==typeof e;return void 0!==i&&(r=s.isBuffer(i)?i.length:!a&&i.length<1e3?s.byteLength(i,t):(i=s.from(i,t),t=void 0,i.length),this.set("Content-Length",r)),a&&void 0!==r&&(a=e(i,t))&&this.set("ETag",a),n.fresh&&(this.statusCode=304),204!==this.statusCode&&304!==this.statusCode||(this.removeHeader("Content-Type"),this.removeHeader("Content-Length"),this.removeHeader("Transfer-Encoding"),i=""),205===this.statusCode&&(this.set("Content-Length","0"),this.removeHeader("Transfer-Encoding"),i=""),"HEAD"===n.method?this.end():this.end(i,t),this},d.json=function(e){var t=e,e=(2===arguments.length&&("number"==typeof arguments[1]?(o("res.json(obj, status): Use res.status(status).json(obj) instead"),this.statusCode=arguments[1]):(o("res.json(status, obj): Use res.status(status).json(obj) instead"),this.statusCode=e,t=arguments[1])),this.app),i=e.get("json escape"),t=C(t,e.get("json replacer"),e.get("json spaces"),i);return this.get("Content-Type")||this.set("Content-Type","application/json"),this.send(t)},d.jsonp=function(e){var t=e,e=(2===arguments.length&&("number"==typeof arguments[1]?(o("res.jsonp(obj, status): Use res.status(status).jsonp(obj) instead"),this.statusCode=arguments[1]):(o("res.jsonp(status, obj): Use res.status(status).jsonp(obj) instead"),this.statusCode=e,t=arguments[1])),this.app),i=e.get("json escape"),t=C(t,e.get("json replacer"),e.get("json spaces"),i),i=this.req.query[e.get("jsonp callback name")];return this.get("Content-Type")||(this.set("X-Content-Type-Options","nosniff"),this.set("Content-Type","application/json")),"string"==typeof(i=Array.isArray(i)?i[0]:i)&&0!==i.length&&(this.set("X-Content-Type-Options","nosniff"),this.set("Content-Type","text/javascript"),i=i.replace(/[^\[\]\w$.]/g,""),void 0===t?t="":"string"==typeof t&&(t=t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")),t="/**/ typeof "+i+" === 'function' && "+i+"("+t+");"),this.send(t)},d.sendStatus=function(e){var t=h.message[e]||String(e);return this.statusCode=e,this.type("txt"),this.send(t)},d.sendFile=function(e,t,i){var n=i,i=this.req,a=i.next,r=t||{};if(!e)throw new TypeError("path argument is required to res.sendFile");if("string"!=typeof e)throw new TypeError("path must be a string to res.sendFile");if("function"==typeof t&&(n=t,r={}),!r.root&&!p(e))throw new TypeError("path must be absolute or specify root to res.sendFile");t=encodeURI(e);D(this,x(i,t,r),r,function(e){return n?n(e):e&&"EISDIR"===e.code?a():void(e&&"ECONNABORTED"!==e.code&&"write"!==e.syscall&&a(e))})},d.sendfile=function(e,t,i){var n=i,i=this.req,a=i.next,r=t||{};"function"==typeof t&&(n=t,r={}),D(this,x(i,e,r),r,function(e){return n?n(e):e&&"EISDIR"===e.code?a():void(e&&"ECONNABORTED"!==e.code&&"write"!==e.syscall&&a(e))})},d.sendfile=o.function(d.sendfile,"res.sendfile: Use res.sendFile instead"),d.download=function(e,t,i,n){var a=t,r=i||null,s=("function"==typeof t?(n=t,r=a=null):"function"==typeof i&&(n=i,r=null),"object"!=typeof t||"function"!=typeof i&&void 0!==i||(a=null,r=t),{"Content-Disposition":l(a||e)});if(r&&r.headers)for(var o=Object.keys(r.headers),c=0;c<o.length;c++){var p=o[c];"content-disposition"!==p.toLowerCase()&&(s[p]=r.headers[p])}(r=Object.create(r)).headers=s;i=r.root?e:k(e);return this.sendFile(i,r,n)},d.contentType=d.type=function(e){e=-1===e.indexOf("/")?w.lookup(e):e;return this.set("Content-Type",e)},d.format=function(e){var t=this.req,i=t.next,n=Object.keys(e).filter(function(e){return"default"!==e}),a=0<n.length&&t.accepts(n);return this.vary("Accept"),a?(this.set("Content-Type",y(a).value),e[a](t,this,i)):e.default?e.default(t,this,i):i(r(406,{types:g(n).map(function(e){return e.value})})),this},d.attachment=function(e){return e&&this.type(_(e)),this.set("Content-Disposition",l(e)),this},d.append=function(e,t){var i=this.get(e),n=t;return i&&(n=Array.isArray(i)?i.concat(t):Array.isArray(t)?[i].concat(t):[i,t]),this.set(e,n)},d.set=d.header=function(e,t){if(2===arguments.length){var i,t=Array.isArray(t)?t.map(String):String(t);if("content-type"===e.toLowerCase()){if(Array.isArray(t))throw new TypeError("Content-Type cannot be set to an Array");S.test(t)||(i=w.charsets.lookup(t.split(";")[0]))&&(t+="; charset="+i.toLowerCase())}this.setHeader(e,t)}else for(var n in e)this.set(n,e[n]);return this},d.get=function(e){return this.getHeader(e)},d.clearCookie=function(e,t){t=f({expires:new Date(1),path:"/"},t);return this.cookie(e,"",t)},d.cookie=function(e,t,i){var i=f({},i),n=this.req.secret,a=i.signed;if(a&&!n)throw new Error('cookieParser("secret") required for signed cookies');t="object"==typeof t?"j:"+JSON.stringify(t):String(t);return a&&(t="s:"+m(t,n)),null!=i.maxAge&&(a=+i.maxAge,isNaN(a)||(i.expires=new Date(Date.now()+a),i.maxAge=Math.floor(a/1e3))),null==i.path&&(i.path="/"),this.append("Set-Cookie",b.serialize(e,String(t),i)),this},d.location=function(e){var t=e;return"back"===e&&(t=this.req.get("Referrer")||"/"),this.set("Location",n(t))},d.redirect=function(e){var t,i=e,n=302;2===arguments.length&&("number"==typeof e?(n=e,i=arguments[1]):(o("res.redirect(url, status): Use res.redirect(status, url) instead"),n=arguments[1])),i=this.location(i).get("Location"),this.format({text:function(){t=h.message[n]+". Redirecting to "+i},html:function(){var e=a(i);t="<p>"+h.message[n]+'. Redirecting to <a href="'+e+'">'+e+"</a></p>"},default:function(){t=""}}),this.statusCode=n,this.set("Content-Length",s.byteLength(t)),"HEAD"===this.req.method?this.end():this.end(t)},d.vary=function(e){return!e||Array.isArray(e)&&!e.length?o("res.vary(): Provide a field name"):E(this,e),this},d.render=function(e,t,i){var n=this.req.app,a=t||{},r=this.req,s=this;"function"==typeof t&&(i=t,a={}),a._locals=s.locals,n.render(e,a,i=i||function(e,t){if(e)return r.next(e);s.send(t)})}},{"./utils":260,"content-disposition":120,cookie:123,"cookie-signature":122,depd:179,encodeurl:184,"escape-html":247,http:void 0,"http-errors":310,"on-finished":268,path:void 0,"safe-buffer":413,send:462,statuses:270,"utils-merge":514,vary:515}],257:[function(e,t,i){"use strict";var n=e("./route"),c=e("./layer"),a=e("methods"),T=e("utils-merge"),A=e("debug")("express:router"),s=e("depd")("express"),p=e("array-flatten"),O=e("parseurl"),r=e("setprototypeof"),l=/^\[object (\S+)\]$/,u=Array.prototype.slice,d=Object.prototype.toString,o=t.exports=function(e){e=e||{};function n(e,t,i){n.handle(e,t,i)}return r(n,o),n.params={},n._params=[],n.caseSensitive=e.caseSensitive,n.mergeParams=e.mergeParams,n.strict=e.strict,n.stack=[],n};o.param=function(e,t){if("function"!=typeof e){var i,n=this._params,a=n.length;":"===e[0]&&(s("router.param("+JSON.stringify(e)+", fn): Use router.param("+JSON.stringify(e.slice(1))+", fn) instead"),e=e.slice(1));for(var r=0;r<a;++r)(i=n[r](e,t))&&(t=i);if("function"!=typeof t)throw new Error("invalid param() call for "+e+", got "+t);return(this.params[e]=this.params[e]||[]).push(t),this}s("router.param(fn): Refactor to use path params"),this._params.push(e)},o.handle=function(h,f,e){var n,a,m=this,y=(A("dispatching %s %s",h.method,h.url),0),g=function(e){if("string"!=typeof e||0===e.length||"/"===e[0])return;var t=e.indexOf("?"),t=-1!==t?t:e.length,t=e.slice(0,t).indexOf("://");return-1!==t?e.substring(0,e.indexOf("/",3+t)):void 0}(h.url)||"",v="",b=!1,x=0,_={},w=[],k=m.stack,E=h.params,S=h.baseUrl||"",D=function(t,i){for(var n=new Array(arguments.length-2),a=new Array(arguments.length-2),e=0;e<n.length;e++)n[e]=arguments[e+2],a[e]=i[n[e]];return function(){for(var e=0;e<n.length;e++)i[n[e]]=a[e];return t.apply(this,arguments)}}(e,h,"baseUrl","next","params");function C(e){var t="route"===e?null:e;if(b&&(h.url=h.url.slice(1),b=!1),0!==v.length&&(h.baseUrl=S,h.url=g+v+h.url.slice(g.length),v=""),"router"===t)setImmediate(D,null);else if(y>=k.length)setImmediate(D,t);else{if(100<++x)return setImmediate(C,e);var i,n,a,r=function(e){try{return O(e).pathname}catch(e){}}(h);if(null==r)return D(t);for(;!0!==n&&y<k.length;)if(n=function(e,t){try{return e.match(t)}catch(e){return e}}(i=k[y++],r),a=i.route,"boolean"!=typeof n&&(t=t||n),!0===n&&a)if(t)n=!1;else{var s=h.method,o=a._handles_method(s);if(!o&&"OPTIONS"===s){u=l=p=c=void 0;for(var c=w,p=a._options(),l=0;l<p.length;l++){var u=p[l];-1===c.indexOf(u)&&c.push(u)}}o||"HEAD"===s||(n=!1)}if(!0!==n)return D(t);a&&(h.route=a),h.params=m.mergeParams?function(e,t){if("object"!=typeof t||!t)return e;var i=T({},t);if(0 in e&&0 in t){for(var n=0,a=0;n in e;)n++;for(;a in t;)a++;for(n--;0<=n;n--)e[n+a]=e[n],n<a&&delete e[n]}return T(i,e)}(i.params,E):i.params;var d=i.path;m.process_params(i,_,h,f,function(e){e?C(t||e):a?i.handle_request(h,f,C):function(e,t,i,n){if(0!==i.length){if(i!==n.slice(0,i.length))return C(t);n=n[i.length];if(n&&"/"!==n&&"."!==n)return C(t);A("trim prefix (%s) from url %s",i,h.url),v=i,h.url=g+h.url.slice(g.length+v.length),g||"/"===h.url[0]||(h.url="/"+h.url,b=!0),h.baseUrl=S+("/"===v[v.length-1]?v.substring(0,v.length-1):v)}A("%s %s : %s",e.name,i,h.originalUrl),t?e.handle_error(t,h,f,C):e.handle_request(h,f,C)}(i,t,d,r),x=0})}}h.next=C,"OPTIONS"===h.method&&(n=D,a=function(t,e){if(e||0===w.length)return t(e);var e=f,i=w;try{var n=i.join(",");e.set("Allow",n),e.send(n)}catch(e){t(e)}},D=function(){var e=new Array(arguments.length+1);e[0]=n;for(var t=0,i=arguments.length;t<i;t++)e[t+1]=arguments[t];a.apply(this,e)}),h.baseUrl=S,h.originalUrl=h.originalUrl||h.url,C()},o.process_params=function(e,t,i,n,a){var r=this.params,s=e.keys;if(!s||0===s.length)return a();var o,c,p,l,u,d=0,h=0;function f(e){return e?a(e):d>=s.length?a():(h=0,c=s[d++],o=c.name,p=i.params[o],l=r[o],u=t[o],void 0!==p&&l?u&&(u.match===p||u.error&&"route"!==u.error)?(i.params[o]=u.value,f(u.error)):(t[o]=u={error:null,match:p,value:p},void m()):f())}function m(e){var t=l[h++];if(u.value=i.params[c.name],e)f(u.error=e);else{if(!t)return f();try{t(i,n,m,p,c.name)}catch(e){m(e)}}}f()},o.use=function(e){var t=0,i="/";if("function"!=typeof e){for(var n=e;Array.isArray(n)&&0!==n.length;)n=n[0];"function"!=typeof n&&(t=1,i=e)}var a=p(u.call(arguments,t));if(0===a.length)throw new TypeError("Router.use() requires a middleware function");for(var r,s=0;s<a.length;s++){e=a[s];if("function"!=typeof e)throw new TypeError("Router.use() requires a middleware function but got a "+(r=void 0,"object"==(r=typeof(o=e))?d.call(o).replace(l,"$1"):r));A("use %o %s",i,e.name||"<anonymous>");var o=new c(i,{sensitive:this.caseSensitive,strict:!1,end:!1},e);o.route=void 0,this.stack.push(o)}return this},o.route=function(e){var t=new n(e),e=new c(e,{sensitive:this.caseSensitive,strict:this.strict,end:!0},t.dispatch.bind(t));return e.route=t,this.stack.push(e),t},a.concat("all").forEach(function(t){o[t]=function(e){e=this.route(e);return e[t].apply(e,u.call(arguments,1)),this}})},{"./layer":258,"./route":259,"array-flatten":89,debug:264,depd:179,methods:349,parseurl:369,setprototypeof:474,"utils-merge":514}],258:[function(e,t,i){"use strict";var n=e("path-to-regexp"),a=e("debug")("express:router:layer"),o=Object.prototype.hasOwnProperty;function r(e,t,i){if(!(this instanceof r))return new r(e,t,i);a("new %o",e);t=t||{};this.handle=i,this.name=i.name||"<anonymous>",this.params=void 0,this.path=void 0,this.regexp=n(e,this.keys=[],t),this.regexp.fast_star="*"===e,this.regexp.fast_slash="/"===e&&!1===t.end}function c(t){if("string"!=typeof t||0===t.length)return t;try{return decodeURIComponent(t)}catch(e){throw e instanceof URIError&&(e.message="Failed to decode param '"+t+"'",e.status=e.statusCode=400),e}}(t.exports=r).prototype.handle_error=function(e,t,i,n){var a=this.handle;if(4!==a.length)return n(e);try{a(e,t,i,n)}catch(e){n(e)}},r.prototype.handle_request=function(e,t,i){var n=this.handle;if(3<n.length)return i();try{n(e,t,i)}catch(e){i(e)}},r.prototype.match=function(e){var t;if(null!=e){if(this.regexp.fast_slash)return this.params={},!(this.path="");if(this.regexp.fast_star)return this.params={0:c(e)},this.path=e,!0;t=this.regexp.exec(e)}if(!t)return this.params=void 0,this.path=void 0,!1;this.params={},this.path=t[0];for(var i=this.keys,n=this.params,a=1;a<t.length;a++){var r=i[a-1].name,s=c(t[a]);void 0===s&&o.call(n,r)||(n[r]=s)}return!0}},{debug:264,"path-to-regexp":371}],259:[function(e,t,i){"use strict";var r=e("debug")("express:router:route"),s=e("array-flatten"),o=e("./layer"),e=e("methods"),c=Array.prototype.slice,p=Object.prototype.toString;function n(e){this.path=e,this.stack=[],r("new %o",e),this.methods={}}(t.exports=n).prototype._handles_method=function(e){return!!this.methods._all||("head"!==(e=e.toLowerCase())||this.methods.head||(e="get"),Boolean(this.methods[e]))},n.prototype._options=function(){var e=Object.keys(this.methods);this.methods.get&&!this.methods.head&&e.push("head");for(var t=0;t<e.length;t++)e[t]=e[t].toUpperCase();return e},n.prototype.dispatch=function(n,a,r){var s=0,o=this.stack,c=0;if(0===o.length)return r();var p=n.method.toLowerCase();"head"!==p||this.methods.head||(p="get"),n.route=this,function e(t){if(t&&"route"===t)return r();if(t&&"router"===t)return r(t);if(100<++c)return setImmediate(e,t);var i=o[s++];if(!i)return r(t);i.method&&i.method!==p?e(t):t?i.handle_error(t,n,a,e):i.handle_request(n,a,e);c=0}()},n.prototype.all=function(){for(var e=s(c.call(arguments)),t=0;t<e.length;t++){var i=e[t];if("function"!=typeof i)throw n=p.call(i),new TypeError("Route.all() requires a callback function but got a "+n);var n=o("/",{},i);n.method=void 0,this.methods._all=!0,this.stack.push(n)}return this},e.forEach(function(a){n.prototype[a]=function(){for(var e=s(c.call(arguments)),t=0;t<e.length;t++){var i=e[t];if("function"!=typeof i)throw n=p.call(i),new Error("Route."+a+"() requires a callback function but got a "+n);r("%s %o",a,this.path);var n=o("/",{},i);n.method=a,this.methods[a]=!0,this.stack.push(n)}return this}})},{"./layer":258,"array-flatten":89,debug:264,methods:349}],260:[function(e,t,n){"use strict";var a=e("safe-buffer").Buffer,i=e("content-disposition"),r=e("content-type"),s=e("depd")("express"),o=e("array-flatten"),c=e("send").mime,p=e("etag"),l=e("proxy-addr"),u=e("qs"),d=e("querystring");function h(i){return function(e,t){e=a.isBuffer(e)?e:a.from(e,t);return p(e,i)}}function f(e){return u.parse(e,{allowPrototypes:!0})}function m(){return{}}n.etag=h({weak:!1}),n.wetag=h({weak:!0}),n.isAbsolute=function(e){return"/"===e[0]||":"===e[1]&&("\\"===e[2]||"/"===e[2])||"\\\\"===e.substring(0,2)||void 0},n.flatten=s.function(o,"utils.flatten: use array-flatten npm module instead"),n.normalizeType=function(e){if(~e.indexOf("/")){for(var t=void 0,i=e.split(/ *; */),n={value:i[0],quality:1,params:{},originalIndex:t},a=1;a<i.length;++a){var r=i[a].split(/ *= */);"q"===r[0]?n.quality=parseFloat(r[1]):n.params[r[0]]=r[1]}return n}return{value:c.lookup(e),params:{}}},n.normalizeTypes=function(e){for(var t=[],i=0;i<e.length;++i)t.push(n.normalizeType(e[i]));return t},n.contentDisposition=s.function(i,"utils.contentDisposition: use content-disposition npm module instead"),n.compileETag=function(e){var t;if("function"==typeof e)return e;switch(e){case!0:case"weak":t=n.wetag;break;case!1:break;case"strong":t=n.etag;break;default:throw new TypeError("unknown value for etag function: "+e)}return t},n.compileQueryParser=function(e){var t;if("function"==typeof e)return e;switch(e){case!0:case"simple":t=d.parse;break;case!1:t=m;break;case"extended":t=f;break;default:throw new TypeError("unknown value for query parser function: "+e)}return t},n.compileTrust=function(i){return"function"==typeof i?i:!0===i?function(){return!0}:"number"==typeof i?function(e,t){return t<i}:("string"==typeof i&&(i=i.split(",").map(function(e){return e.trim()})),l.compile(i||[]))},n.setCharset=function(e,t){var i;return e&&t?((i=r.parse(e)).parameters.charset=t,r.format(i)):e}},{"array-flatten":89,"content-disposition":120,"content-type":121,depd:179,etag:248,"proxy-addr":372,qs:374,querystring:void 0,"safe-buffer":413,send:462}],261:[function(a,e,t){"use strict";var s=a("debug")("express:view"),i=a("path"),n=a("fs"),o=i.dirname,c=i.basename,r=i.extname,p=i.join,l=i.resolve;function u(e,t){t=t||{};if(this.defaultEngine=t.defaultEngine,this.ext=r(e),this.name=e,this.root=t.root,!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");if(this.ext||(this.ext="."!==this.defaultEngine[0]?"."+this.defaultEngine:this.defaultEngine,e+=this.ext),!t.engines[this.ext]){var i=this.ext.slice(1),n=(s('require "%s"',i),a(i).__express);if("function"!=typeof n)throw new Error('Module "'+i+'" does not provide a view engine.');t.engines[this.ext]=n}this.engine=t.engines[this.ext],this.path=this.lookup(e)}function d(e){s('stat "%s"',e);try{return n.statSync(e)}catch(e){}}(e.exports=u).prototype.lookup=function(e){var t=[].concat(this.root);s('lookup "%s"',e);for(var i=0;i<t.length&&!r;i++)var n=t[i],n=l(n,e),a=o(n),n=c(n),r=this.resolve(a,n);return r},u.prototype.render=function(e,t){s('render "%s"',this.path),this.engine(this.path,e,t)},u.prototype.resolve=function(e,t){var i=this.ext,n=p(e,t),a=d(n);return a&&a.isFile()||(a=d(n=p(e,c(t,i),"index"+i)))&&a.isFile()?n:void 0}},{debug:264,fs:void 0,path:void 0}],262:[function(e,t,i){arguments[4][101][0].apply(i,arguments)},{"./debug":263,dup:101}],263:[function(e,t,i){arguments[4][102][0].apply(i,arguments)},{dup:102,ms:267}],264:[function(e,t,i){arguments[4][103][0].apply(i,arguments)},{"./browser.js":262,"./node.js":265,dup:103}],265:[function(e,t,i){arguments[4][104][0].apply(i,arguments)},{"./debug":263,dup:104,fs:void 0,net:void 0,tty:void 0,util:void 0}],266:[function(e,t,i){"use strict";var f=e("debug")("finalhandler"),m=e("encodeurl"),y=e("escape-html"),g=e("on-finished"),v=e("parseurl"),b=e("statuses"),x=e("unpipe"),_=/\x20{2}/g,w=/\n/g,k="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))},E=g.isFinished;function S(e){return"boolean"!=typeof e.headersSent?Boolean(e._header):e.headersSent}t.exports=function(r,u,e){var e=e||{},d=e.env||process.env.NODE_ENV||"development",h=e.onerror;return function(e){var t,i,s,o,c,p,l,n;function a(){var e='<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>Error</title>\n</head>\n<body>\n<pre>'+y(l).replace(w,"<br>").replace(_," &nbsp;")+"</pre>\n</body>\n</html>\n",t=(o.statusCode=c,o.statusMessage=b.message[c],o.removeHeader("Content-Encoding"),o.removeHeader("Content-Language"),o.removeHeader("Content-Range"),o),i=p;if(i)for(var n=Object.keys(i),a=0;a<n.length;a++){var r=n[a];t.setHeader(r,i[r])}o.setHeader("Content-Security-Policy","default-src 'none'"),o.setHeader("X-Content-Type-Options","nosniff"),o.setHeader("Content-Type","text/html; charset=utf-8"),o.setHeader("Content-Length",Buffer.byteLength(e,"utf8")),"HEAD"===s.method?o.end():o.end(e,"utf8")}!e&&S(u)?f("cannot 404 after headers sent"):(n=e?(void 0===(i=function(e){if("number"==typeof e.status&&400<=e.status&&e.status<600)return e.status;if("number"==typeof e.statusCode&&400<=e.statusCode&&e.statusCode<600)return e.statusCode;return}(e))?i=function(e){e=e.statusCode;("number"!=typeof e||e<400||599<e)&&(e=500);return e}(u):t=function(e){if(!e.headers||"object"!=typeof e.headers)return;for(var t=Object.create(null),i=Object.keys(e.headers),n=0;n<i.length;n++){var a=i[n];t[a]=e.headers[a]}return t}(e),function(e,t,i){var n;"production"===i||(n=e.stack)||"function"!=typeof e.toString||(n=e.toString());return n||b.message[t]}(e,i,d)):(i=404,"Cannot "+r.method+" "+m(function(e){try{return v.original(e).pathname}catch(e){return"resource"}}(r))),f("default %s",i),e&&h&&k(h,e,r,u),S(u)?(f("cannot %d after headers sent",i),r.socket.destroy()):(o=u,c=i,p=t,l=n,E(s=r)?a():(x(s),g(s,a),s.resume())))}}},{debug:264,encodeurl:184,"escape-html":247,"on-finished":268,parseurl:369,statuses:270,unpipe:512}],267:[function(e,t,i){arguments[4][105][0].apply(i,arguments)},{dup:105}],268:[function(e,t,i){arguments[4][106][0].apply(i,arguments)},{async_hooks:void 0,dup:106,"ee-first":182}],269:[function(e,t,i){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],270:[function(e,t,i){"use strict";var n,a,e=e("./codes.json");function r(e){if(Object.prototype.hasOwnProperty.call(s.message,e))return s.message[e];throw new Error("invalid status code: "+e)}function s(e){if("number"==typeof e)return r(e);if("string"!=typeof e)throw new TypeError("code must be a number or string");var t=parseInt(e,10);if(isNaN(t)){var i=e.toLowerCase();if(Object.prototype.hasOwnProperty.call(s.code,i))return s.code[i];throw new Error('invalid status message: "'+e+'"')}return r(t)}(t.exports=s).message=e,s.code=(n=e,a={},Object.keys(n).forEach(function(e){var t=n[e],e=Number(e);a[t.toLowerCase()]=e}),a),s.codes=Object.keys(e).map(function(e){return Number(e)}),s.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},s.empty={204:!0,205:!0,304:!0},s.retry={502:!0,503:!0,504:!0}},{"./codes.json":269}],271:[function(e,t,i){function n(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")}t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__?__global__:n()}finally{delete Object.prototype.__global__}}()},{}],272:[function(e,t,i){"use strict";t.exports=e("./is-implemented")()?globalThis:e("./implementation")},{"./implementation":271,"./is-implemented":273}],273:[function(e,t,i){"use strict";t.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},{}],274:[function(e,t,i){"use strict";var f=e("debug")("finalhandler"),m=e("encodeurl"),y=e("escape-html"),g=e("on-finished"),v=e("parseurl"),b=e("statuses"),x=e("unpipe"),_=/\x20{2}/g,w=/\n/g,k="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))},E=g.isFinished;function S(e){return"boolean"!=typeof e.headersSent?Boolean(e._header):e.headersSent}t.exports=function(r,u,e){var e=e||{},d=e.env||process.env.NODE_ENV||"development",h=e.onerror;return function(e){var t,i,s,o,c,p,l,n;function a(){var e='<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>Error</title>\n</head>\n<body>\n<pre>'+y(l).replace(w,"<br>").replace(_," &nbsp;")+"</pre>\n</body>\n</html>\n",t=(o.statusCode=c,o.statusMessage=b[c],o),i=p;if(i)for(var n=Object.keys(i),a=0;a<n.length;a++){var r=n[a];t.setHeader(r,i[r])}o.setHeader("Content-Security-Policy","default-src 'none'"),o.setHeader("X-Content-Type-Options","nosniff"),o.setHeader("Content-Type","text/html; charset=utf-8"),o.setHeader("Content-Length",Buffer.byteLength(e,"utf8")),"HEAD"===s.method?o.end():o.end(e,"utf8")}!e&&S(u)?f("cannot 404 after headers sent"):(n=e?(void 0===(i=function(e){if("number"==typeof e.status&&400<=e.status&&e.status<600)return e.status;if("number"==typeof e.statusCode&&400<=e.statusCode&&e.statusCode<600)return e.statusCode;return}(e))?i=function(e){e=e.statusCode;("number"!=typeof e||e<400||599<e)&&(e=500);return e}(u):t=function(e){if(!e.headers||"object"!=typeof e.headers)return;for(var t=Object.create(null),i=Object.keys(e.headers),n=0;n<i.length;n++){var a=i[n];t[a]=e.headers[a]}return t}(e),function(e,t,i){var n;"production"===i||(n=e.stack)||"function"!=typeof e.toString||(n=e.toString());return n||b[t]}(e,i,d)):(i=404,"Cannot "+r.method+" "+m(function(e){try{return v.original(e).pathname}catch(e){return"resource"}}(r))),f("default %s",i),e&&h&&k(h,e,r,u),S(u)?(f("cannot %d after headers sent",i),r.socket.destroy()):(o=u,c=i,p=t,l=n,E(s=r)?a():(x(s),g(s,a),s.resume())))}}},{debug:277,encodeurl:184,"escape-html":247,"on-finished":367,parseurl:369,statuses:493,unpipe:512}],275:[function(e,t,i){arguments[4][101][0].apply(i,arguments)},{"./debug":276,dup:101}],276:[function(e,t,i){arguments[4][102][0].apply(i,arguments)},{dup:102,ms:279}],277:[function(e,t,i){arguments[4][103][0].apply(i,arguments)},{"./browser.js":275,"./node.js":278,dup:103}],278:[function(e,t,i){arguments[4][104][0].apply(i,arguments)},{"./debug":276,dup:104,fs:void 0,net:void 0,tty:void 0,util:void 0}],279:[function(e,t,i){arguments[4][105][0].apply(i,arguments)},{dup:105}],280:[function(e,t,i){"use strict";t.exports=function(e){var t;if(e)return t=function(e){for(var t=e.length,i=[],n=e.length,a=e.length-1;0<=a;a--)switch(e.charCodeAt(a)){case 32:n===t&&(n=t=a);break;case 44:n!==t&&i.push(e.substring(n,t)),n=t=a;break;default:n=a}n!==t&&i.push(e.substring(n,t));return i}(e.headers["x-forwarded-for"]||""),[function(e){return(e.socket||e.connection).remoteAddress}(e)].concat(t);throw new TypeError("argument req is required")}},{}],281:[function(e,t,i){"use strict";var p=/(?:^|,)\s*?no-cache\s*?(?:,|$)/;function l(e){e=e&&Date.parse(e);return"number"==typeof e?e:NaN}t.exports=function(e,t){var i=e["if-modified-since"],n=e["if-none-match"];if(!i&&!n)return!1;e=e["cache-control"];if(e&&p.test(e))return!1;if(n&&"*"!==n){var a=t.etag;if(!a)return!1;for(var r=!0,s=function(e){for(var t=0,i=[],n=0,a=0,r=e.length;a<r;a++)switch(e.charCodeAt(a)){case 32:n===t&&(n=t=a+1);break;case 44:i.push(e.substring(n,t)),n=t=a+1;break;default:t=a+1}return i.push(e.substring(n,t)),i}(n),o=0;o<s.length;o++){var c=s[o];if(c===a||c==="W/"+a||"W/"+c===a){r=!1;break}}if(r)return!1}if(i){e=t["last-modified"];if(!(e&&l(e)<=l(i)))return!1}return!0}},{}],282:[function(e,t,i){((t.exports=p).realpath=p).sync=l,p.realpathSync=l,p.monkeypatch=function(){n.realpath=p,n.realpathSync=l},p.unmonkeypatch=function(){n.realpath=r,n.realpathSync=a};var n=e("fs"),r=n.realpath,a=n.realpathSync,t=process.version,s=/^v[0-5]\./.test(t),o=e("./old.js");function c(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function p(i,n,a){if(s)return r(i,n,a);"function"==typeof n&&(a=n,n=null),r(i,n,function(e,t){c(e)?o.realpath(i,n,a):a(e,t)})}function l(t,i){if(s)return a(t,i);try{return a(t,i)}catch(e){if(c(e))return o.realpathSync(t,i);throw e}}},{"./old.js":283,fs:void 0}],283:[function(e,t,i){var y=e("path"),g="win32"===process.platform,v=e("fs"),n=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function b(){var t;return n?(t=new Error,function(e){e&&(t.message=e.message,i(e=t))}):i;function i(e){if(e){if(process.throwDeprecation)throw e;process.noDeprecation||(e="fs: missing callback "+(e.stack||e.message),process.traceDeprecation?console.trace(e):console.error(e))}}}var x,_;y.normalize;x=g?/(.*?)(?:[\/\\]+|$)/g:/(.*?)(?:[\/]+|$)/g,_=g?/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:/^[\/]*/,i.realpathSync=function(t,e){if(t=y.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var i,n,a,r=t,s={},o={};function c(){var e=_.exec(t);i=e[0].length,n=e[0],a=e[0],u="",g&&!o[a]&&(v.lstatSync(a),o[a]=!0)}for(c();i<t.length;){x.lastIndex=i;var p,l=x.exec(t),u=n;if(n+=l[0],a=u+l[1],i=x.lastIndex,!(o[a]||e&&e[a]===a)){if(e&&Object.prototype.hasOwnProperty.call(e,a))p=e[a];else{l=v.lstatSync(a);if(!l.isSymbolicLink()){o[a]=!0,e&&(e[a]=a);continue}var d,h=null;g||(d=l.dev.toString(32)+":"+l.ino.toString(32),s.hasOwnProperty(d)&&(h=s[d])),null===h&&(v.statSync(a),h=v.readlinkSync(a)),p=y.resolve(u,h),e&&(e[a]=p),g||(s[d]=h)}t=y.resolve(p,t.slice(i)),c()}}return e&&(e[r]=t),t},i.realpath=function(t,n,a){var e;if("function"!=typeof a&&(a="function"==typeof(e=n)?e:b(),n=null),t=y.resolve(t),n&&Object.prototype.hasOwnProperty.call(n,t))return process.nextTick(a.bind(null,null,n[t]));var i,r,s,o,c=t,p={},l={};function u(){var e=_.exec(t);i=e[0].length,r=e[0],s=e[0],o="",g&&!l[s]?v.lstat(s,function(e){if(e)return a(e);l[s]=!0,d()}):process.nextTick(d)}function d(){if(i>=t.length)return n&&(n[c]=t),a(null,t);x.lastIndex=i;var e=x.exec(t);return o=r,r+=e[0],s=o+e[1],i=x.lastIndex,l[s]||n&&n[s]===s?process.nextTick(d):n&&Object.prototype.hasOwnProperty.call(n,s)?m(n[s]):v.lstat(s,h)}function h(e,t){if(e)return a(e);if(!t.isSymbolicLink())return l[s]=!0,n&&(n[s]=s),process.nextTick(d);if(!g){var i=t.dev.toString(32)+":"+t.ino.toString(32);if(p.hasOwnProperty(i))return f(null,p[i],s)}v.stat(s,function(e){if(e)return a(e);v.readlink(s,function(e,t){g||(p[i]=t),f(e,t)})})}function f(e,t,i){if(e)return a(e);e=y.resolve(o,t);n&&(n[i]=e),m(e)}function m(e){t=y.resolve(e,t.slice(i)),u()}u()}},{fs:void 0,path:void 0}],284:[function(e,t,i){"use strict";var c=Array.prototype.slice,p=Object.prototype.toString;t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==p.call(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var n,e,a=c.call(arguments,1),r=Math.max(0,i.length-a.length),s=[],o=0;o<r;o++)s.push("$"+o);return n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){var e;return this instanceof n?(e=i.apply(this,a.concat(c.call(arguments))),Object(e)===e?e:this):i.apply(t,a.concat(c.call(arguments)))}),i.prototype&&((e=function(){}).prototype=i.prototype,n.prototype=new e,e.prototype=null),n}},{}],285:[function(e,t,i){"use strict";e=e("./implementation");t.exports=Function.prototype.bind||e},{"./implementation":284}],286:[function(e,t,i){"use strict";var n=e("./spin.js"),a=e("./progress-bar.js");t.exports={activityIndicator:function(e,t,i){if(null!=e.spun)return n(t,e.spun)},progressbar:function(e,t,i){if(null!=e.completed)return a(t,i,e.completed)}}},{"./progress-bar.js":292,"./spin.js":296}],287:[function(e,t,i){"use strict";var a=e("util"),r=i.User=function e(t){t=new Error(t);return Error.captureStackTrace(t,e),t.code="EGAUGE",t};i.MissingTemplateValue=function e(t,i){var n=new r(a.format('Missing template value "%s"',t.type));return Error.captureStackTrace(n,e),n.template=t,n.values=i,n},i.Internal=function e(t){t=new Error(t);return Error.captureStackTrace(t,e),t.code="EGAUGEINTERNAL",t}},{util:void 0}],288:[function(e,t,i){"use strict";e=e("color-support");t.exports=e().hasBasic},{"color-support":111}],289:[function(e,t,i){"use strict";var a=e("./plumbing.js"),n=e("has-unicode"),r=e("./has-color.js"),s=e("signal-exit"),o=e("./themes"),c=e("./set-interval.js"),p=e("./process.js"),l=e("./set-immediate");function u(e,t){return function(){return t.call(e)}}function d(e,t){var e=e&&e.write?(n=e,t||{}):t&&t.write?(n=t,e||{}):(n=p.stderr,e||t||{}),t=(this._status={spun:0,section:"",subsection:""},this._paused=!1,this._disabled=!0,this._showing=!1,this._onScreen=!1,this._needsRedraw=!1,this._hideCursor=null==e.hideCursor||e.hideCursor,this._fixedFramerate=null==e.fixedFramerate?!/^v0\.8\./.test(p.version):e.fixedFramerate,this._lastUpdateAt=null,this._updateInterval=null==e.updateInterval?50:e.updateInterval,this._themes=e.themes||o,this._theme=e.theme,this._computeTheme(e.theme)),i=e.template||[{type:"progressbar",length:20},{type:"activityIndicator",kerning:1,length:1},{type:"section",kerning:1,default:""},{type:"subsection",kerning:1,default:""}],n=(this.setWriteTo(n,e.tty),e.Plumbing||a);this._gauge=new n(t,i,this.getWidth()),this._$$doRedraw=u(this,this._doRedraw),this._$$handleSizeChange=u(this,this._handleSizeChange),this._cleanupOnExit=null==e.cleanupOnExit||e.cleanupOnExit,this._removeOnExit=null,e.enabled||null==e.enabled&&this._tty&&this._tty.isTTY?this.enable():this.disable()}((t.exports=d).prototype={}).isEnabled=function(){return!this._disabled},d.prototype.setTemplate=function(e){this._gauge.setTemplate(e),this._showing&&this._requestRedraw()},d.prototype._computeTheme=function(e){var t,i;return"string"==typeof(e=e||{})?e=this._themes.getTheme(e):!e||0!==Object.keys(e).length&&null==e.hasUnicode&&null==e.hasColor||(t=null==e.hasUnicode?n():e.hasUnicode,i=null==e.hasColor?r:e.hasColor,e=this._themes.getDefault({hasUnicode:t,hasColor:i,platform:e.platform})),e},d.prototype.setThemeset=function(e){this._themes=e,this.setTheme(this._theme)},d.prototype.setTheme=function(e){this._gauge.setTheme(this._computeTheme(e)),this._showing&&this._requestRedraw(),this._theme=e},d.prototype._requestRedraw=function(){this._needsRedraw=!0,this._fixedFramerate||this._doRedraw()},d.prototype.getWidth=function(){return(this._tty&&this._tty.columns||80)-1},d.prototype.setWriteTo=function(e,t){var i=!this._disabled;i&&this.disable(),this._writeTo=e,this._tty=t||e===p.stderr&&p.stdout.isTTY&&p.stdout||e.isTTY&&e||this._tty,this._gauge&&this._gauge.setWidth(this.getWidth()),i&&this.enable()},d.prototype.enable=function(){this._disabled&&(this._disabled=!1,this._tty&&this._enableEvents(),this._showing)&&this.show()},d.prototype.disable=function(){this._disabled||(this._showing&&(this._lastUpdateAt=null,this._showing=!1,this._doRedraw(),this._showing=!0),this._disabled=!0,this._tty&&this._disableEvents())},d.prototype._enableEvents=function(){this._cleanupOnExit&&(this._removeOnExit=s(u(this,this.disable))),this._tty.on("resize",this._$$handleSizeChange),this._fixedFramerate&&(this.redrawTracker=c(this._$$doRedraw,this._updateInterval),this.redrawTracker.unref)&&this.redrawTracker.unref()},d.prototype._disableEvents=function(){this._tty.removeListener("resize",this._$$handleSizeChange),this._fixedFramerate&&clearInterval(this.redrawTracker),this._removeOnExit&&this._removeOnExit()},d.prototype.hide=function(e){return!this._disabled&&this._showing?(this._showing=!1,this._doRedraw(),void(e&&l(e))):e&&p.nextTick(e)},d.prototype.show=function(e,t){if(this._showing=!0,"string"==typeof e)this._status.section=e;else if("object"==typeof e)for(var i=Object.keys(e),n=0;n<i.length;++n){var a=i[n];this._status[a]=e[a]}null!=t&&(this._status.completed=t),this._disabled||this._requestRedraw()},d.prototype.pulse=function(e){this._status.subsection=e||"",this._status.spun++,this._disabled||this._showing&&this._requestRedraw()},d.prototype._handleSizeChange=function(){this._gauge.setWidth(this._tty.columns-1),this._requestRedraw()},d.prototype._doRedraw=function(){if(!this._disabled&&!this._paused){if(!this._fixedFramerate){var e=Date.now();if(this._lastUpdateAt&&e-this._lastUpdateAt<this._updateInterval)return;this._lastUpdateAt=e}if(!this._showing&&this._onScreen)return this._onScreen=!1,e=this._gauge.hide(),this._hideCursor&&(e+=this._gauge.showCursor()),this._writeTo.write(e);(this._showing||this._onScreen)&&(this._showing&&!this._onScreen&&(this._onScreen=!0,this._needsRedraw=!0,this._hideCursor)&&this._writeTo.write(this._gauge.hideCursor()),this._needsRedraw)&&!this._writeTo.write(this._gauge.show(this._status))&&(this._paused=!0,this._writeTo.on("drain",u(this,function(){this._paused=!1,this._doRedraw()})))}}},{"./has-color.js":288,"./plumbing.js":290,"./process.js":291,"./set-immediate":294,"./set-interval.js":295,"./themes":299,"has-unicode":308,"signal-exit":476}],290:[function(e,t,i){"use strict";var n=e("console-control-strings"),a=e("./render-template.js"),r=e("aproba"),e=t.exports=function(e,t,i){r("OAN",[e,t,i=i||80]),this.showing=!1,this.theme=e,this.width=i,this.template=t};(e.prototype={}).setTheme=function(e){r("O",[e]),this.theme=e},e.prototype.setTemplate=function(e){r("A",[e]),this.template=e},e.prototype.setWidth=function(e){r("N",[e]),this.width=e},e.prototype.hide=function(){return n.gotoSOL()+n.eraseLine()},e.prototype.hideCursor=n.hideCursor,e.prototype.showCursor=n.showCursor,e.prototype.show=function(e){var t,i=Object.create(this.theme);for(t in e)i[t]=e[t];return a(this.width,this.template,i).trim()+n.color("reset")+n.eraseLine()+n.gotoSOL()}},{"./render-template.js":293,aproba:83,"console-control-strings":119}],291:[function(e,t,i){"use strict";t.exports=process},{}],292:[function(e,t,i){"use strict";var a=e("aproba"),r=e("./render-template.js"),s=e("./wide-truncate"),o=e("string-width");function c(e,t){for(var i="",n=t;n%2&&(i+=e),e+=e,(n=Math.floor(n/2))&&o(i)<t;);return s(i,t)}t.exports=function(e,t,i){var n;return a("ONN",[e,t,i]),1<(i=i<0?0:i)&&(i=1),t<=0?"":(n=t-(i=Math.round(t*i)),i=[{type:"complete",value:c(e.complete,i),length:i},{type:"remaining",value:c(e.remaining,n),length:n}],r(t,i,e))}},{"./render-template.js":293,"./wide-truncate":300,aproba:83,"string-width":494}],293:[function(e,t,i){"use strict";var s=e("wide-align"),o=e("aproba"),c=e("./wide-truncate"),l=e("./error"),u=e("./template-item");function n(r){return function(e){return t=r,a=(e=e).getBaseLength(),null==(t="function"==typeof e.value?function(e,t,i){return o("OON",arguments),e.type?e.value(t,t[e.type+"Theme"]||{},i):e.value(t,{},i)}(e,t,a):e.value)||""===t?"":(n=s[e.align]||s.left,i=e.padLeft?s.left("",e.padLeft):"",e=e.padRight?s.right("",e.padRight):"",t=c(String(t),a),n=n(t,a),i+n+e);var t,i,n,a}}var d=t.exports=function(e,t,i){t=function(a,e,r){var i=e.map(function(e,t,i){var n=(e=new u(e,a)).type;if(null==e.value)if(n in r)e.value=r[n];else{if(null==e.default)throw new l.MissingTemplateValue(e,r);e.value=e.default}return null==e.value||""===e.value?null:(e.index=t,e.first=0===t,e.last=t===i.length-1,function(e,t){if(e.type)return t[h(e)]||t[f(e)]}(e,r)&&(e.value=function(e,t){var e=Object.assign({},e),n=Object.create(t),a=[],t=h(e),i=f(e);n[t]&&(a.push({value:n[t]}),n[t]=null);e.minLength=null,e.length=null,e.maxLength=null,a.push(e),n[e.type]=n[e.type],n[i]&&(a.push({value:n[i]}),n[i]=null);return function(e,t,i){return d(i,a,n)}}(e,r)),e)}).filter(function(e){return null!=e}),n=a,s=i.length;function t(e,t){if(e.finished)throw new l.Internal("Tried to finish template item that was already finished");if(t===1/0)throw new l.Internal("Length of template item cannot be infinity");if(null!=t&&(e.length=t),e.minLength=null,e.maxLength=null,--s,e.finished=!0,null==e.length&&(e.length=e.getBaseLength()),null==e.length)throw new l.Internal("Finished template items must have a length");t=e.getLength(),n-=t=n<t?n:t}i.forEach(function(e){var t;e.kerning&&(t=e.first?0:i[e.index-1].padRight,!e.first&&t<e.kerning&&(e.padLeft=e.kerning-t),e.last||(e.padRight=e.kerning))}),i.forEach(function(e){null!=e.getBaseLength()&&t(e)});var o,c,p=0;for(;o=!1,c=Math.round(n/s),i.forEach(function(e){e.finished||e.maxLength&&e.getMaxLength()<c&&(t(e,e.maxLength),o=!0)}),o&&p++<i.length;);if(o)throw new l.Internal("Resize loop iterated too many times while determining maxLength");p=0;for(;o=!1,c=Math.round(n/s),i.forEach(function(e){e.finished||e.minLength&&e.getMinLength()>=c&&(t(e,e.minLength),o=!0)}),o&&p++<i.length;);if(o)throw new l.Internal("Resize loop iterated too many times while determining minLength");return c=Math.round(n/s),i.forEach(function(e){e.finished||t(e,c)}),i}(e,t,i).map(n(i)).join("");return s.left(c(t,e),e)};function h(e){return"pre"+(e.type[0].toUpperCase()+e.type.slice(1))}function f(e){return"post"+(e.type[0].toUpperCase()+e.type.slice(1))}},{"./error":287,"./template-item":297,"./wide-truncate":300,aproba:83,"wide-align":516}],294:[function(t,i,e){"use strict";t=t("./process");try{i.exports=setImmediate}catch(e){i.exports=t.nextTick}},{"./process":291}],295:[function(e,t,i){"use strict";t.exports=setInterval},{}],296:[function(e,t,i){"use strict";t.exports=function(e,t){return e[t%e.length]}},{}],297:[function(e,t,i){"use strict";var n=e("string-width");function a(e){return"string"==typeof e&&"%"===e.slice(-1)}function r(e){return Number(e.slice(0,-1))/100}function s(e,t){if(this.overallOutputLength=t,this.finished=!1,this.type=null,this.value=null,this.length=null,this.maxLength=null,this.minLength=null,this.kerning=null,this.align="left",this.padLeft=0,this.padRight=0,this.index=null,this.first=null,this.last=null,"string"==typeof e)this.value=e;else for(var i in e)this[i]=e[i];return a(this.length)&&(this.length=Math.round(this.overallOutputLength*r(this.length))),a(this.minLength)&&(this.minLength=Math.round(this.overallOutputLength*r(this.minLength))),a(this.maxLength)&&(this.maxLength=Math.round(this.overallOutputLength*r(this.maxLength))),this}((t.exports=s).prototype={}).getBaseLength=function(){var e=this.length;return e=null==e&&"string"==typeof this.value&&null==this.maxLength&&null==this.minLength?n(this.value):e},s.prototype.getLength=function(){var e=this.getBaseLength();return null==e?null:e+this.padLeft+this.padRight},s.prototype.getMaxLength=function(){return null==this.maxLength?null:this.maxLength+this.padLeft+this.padRight},s.prototype.getMinLength=function(){return null==this.minLength?null:this.minLength+this.padLeft+this.padRight}},{"string-width":494}],298:[function(e,t,i){"use strict";var r=e("object-assign"),n=(t.exports=function(){return n.newThemeSet()},{});n.baseTheme=e("./base-theme.js"),n.newTheme=function(e,t){return t||(t=e,e=this.baseTheme),r({},e,t)},n.getThemeNames=function(){return Object.keys(this.themes)},n.addTheme=function(e,t,i){this.themes[e]=this.newTheme(t,i)},n.addToAllThemes=function(t){var i=this.themes;Object.keys(i).forEach(function(e){r(i[e],t)}),r(this.baseTheme,t)},n.getTheme=function(e){if(this.themes[e])return this.themes[e];throw this.newMissingThemeError(e)},n.setDefault=function(e,t){null==t&&(t=e,e={});var i=null==e.platform?"fallback":e.platform,n=!!e.hasUnicode,e=!!e.hasColor;this.defaults[i]||(this.defaults[i]={true:{},false:{}}),this.defaults[i][n][e]=t},n.getDefault=function(e){var t=(e=e||{}).platform||process.platform,i=this.defaults[t]||this.defaults.fallback,n=!!e.hasUnicode,a=!!e.hasColor;if(!i)throw this.newMissingDefaultThemeError(t,n,a);if(!i[n][a])if(n&&a&&i[!n][a])n=!1;else if(n&&a&&i[n][!a])a=!1;else if(n&&a&&i[!n][!a])a=n=!1;else if(n&&!a&&i[!n][a])n=!1;else if(!n&&a&&i[n][!a])a=!1;else if(i===this.defaults.fallback)throw this.newMissingDefaultThemeError(t,n,a);return i[n][a]?this.getTheme(i[n][a]):this.getDefault(r({},e,{platform:"fallback"}))},n.newMissingThemeError=function e(t){var i=new Error('Could not find a gauge theme named "'+t+'"');return Error.captureStackTrace.call(i,e),i.theme=t,i.code="EMISSINGTHEME",i},n.newMissingDefaultThemeError=function e(t,i,n){var a=new Error("Could not find a gauge theme for your platform/unicode/color use combo:\n    platform = "+t+"\n    hasUnicode = "+i+"\n    hasColor = "+n);return Error.captureStackTrace.call(a,e),a.platform=t,a.hasUnicode=i,a.hasColor=n,a.code="EMISSINGTHEME",a},n.newThemeSet=function(){function t(e){return t.getDefault(e)}return r(t,n,{themes:r({},this.themes),baseTheme:r({},this.baseTheme),defaults:JSON.parse(JSON.stringify(this.defaults||{}))})}},{"./base-theme.js":286,"object-assign":364}],299:[function(e,t,i){"use strict";var n=e("console-control-strings").color,e=e("./theme-set.js"),t=t.exports=new e;t.addTheme("ASCII",{preProgressbar:"[",postProgressbar:"]",progressbarTheme:{complete:"#",remaining:"."},activityIndicatorTheme:"-\\|/",preSubsection:">"}),t.addTheme("colorASCII",t.getTheme("ASCII"),{progressbarTheme:{preComplete:n("bgBrightWhite","brightWhite"),complete:"#",postComplete:n("reset"),preRemaining:n("bgBrightBlack","brightBlack"),remaining:".",postRemaining:n("reset")}}),t.addTheme("brailleSpinner",{preProgressbar:"",postProgressbar:"",progressbarTheme:{complete:"#",remaining:""},activityIndicatorTheme:"",preSubsection:">"}),t.addTheme("colorBrailleSpinner",t.getTheme("brailleSpinner"),{progressbarTheme:{preComplete:n("bgBrightWhite","brightWhite"),complete:"#",postComplete:n("reset"),preRemaining:n("bgBrightBlack","brightBlack"),remaining:"",postRemaining:n("reset")}}),t.setDefault({},"ASCII"),t.setDefault({hasColor:!0},"colorASCII"),t.setDefault({platform:"darwin",hasUnicode:!0},"brailleSpinner"),t.setDefault({platform:"darwin",hasUnicode:!0,hasColor:!0},"colorBrailleSpinner"),t.setDefault({platform:"linux",hasUnicode:!0},"brailleSpinner"),t.setDefault({platform:"linux",hasUnicode:!0,hasColor:!0},"colorBrailleSpinner")},{"./theme-set.js":298,"console-control-strings":119}],300:[function(e,t,i){"use strict";var a=e("string-width"),r=e("strip-ansi");t.exports=function(e,t){if(0===a(e))return e;if(t<=0)return"";if(a(e)<=t)return e;var i=r(e),i=e.length+i.length,n=e.slice(0,t+i);for(;a(n)>t;)n=n.slice(0,-1);return n}},{"string-width":494,"strip-ansi":496}],301:[function(e,t,i){"use strict";var n,d=SyntaxError,a=Function,h=TypeError,r=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(e){f=null}function s(){throw new h}var o=f?function(){try{return s}catch(e){try{return f(arguments,"callee").get}catch(e){return s}}}():s,c=e("has-symbols")(),p=Object.getPrototypeOf||function(e){return e.__proto__},m={},l="undefined"==typeof Uint8Array?n:p(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":c?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":m,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?p(""[Symbol.iterator]()):n,"%Symbol%":c?Symbol:n,"%SyntaxError%":d,"%ThrowTypeError%":o,"%TypedArray%":l,"%TypeError%":h,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};try{null.error}catch(e){c=p(p(e));y["%Error.prototype%"]=c}function g(e){var t,i;return"%AsyncFunction%"===e?t=r("async function () {}"):"%GeneratorFunction%"===e?t=r("function* () {}"):"%AsyncGeneratorFunction%"===e?t=r("async function* () {}"):"%AsyncGenerator%"===e?(i=g("%AsyncGeneratorFunction%"))&&(t=i.prototype):"%AsyncIteratorPrototype%"===e&&(i=g("%AsyncGenerator%"))&&(t=p(i.prototype)),y[e]=t}var v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},o=e("function-bind"),b=e("has"),x=o.call(Function.call,Array.prototype.concat),_=o.call(Function.apply,Array.prototype.splice),w=o.call(Function.call,String.prototype.replace),k=o.call(Function.call,String.prototype.slice),E=o.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g;t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new h("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof t)throw new h('"allowMissing" argument must be a boolean');if(null===E(/^%?[^%]*%?$/,e))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=function(e){var t=k(e,0,1),i=k(e,-1);if("%"===t&&"%"!==i)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new d("invalid intrinsic syntax, expected opening `%`");var a=[];return w(e,S,function(e,t,i,n){a[a.length]=i?w(n,D,"$1"):t||e}),a}(e),n=0<i.length?i[0]:"",a=function(e,t){var i,n=e;if(b(v,n)&&(n="%"+(i=v[n])[0]+"%"),b(y,n)){var a=y[n];if(void 0!==(a=a===m?g(n):a)||t)return{alias:i,name:n,value:a};throw new h("intrinsic "+e+" exists, but is not available. Please file an issue!")}throw new d("intrinsic "+e+" does not exist!")}("%"+n+"%",t),r=(a.name,a.value),s=!1,a=a.alias;a&&(n=a[0],_(i,x([0,1],a)));for(var o=1,c=!0;o<i.length;o+=1){var p=i[o],l=k(p,0,1),u=k(p,-1);if(('"'===l||"'"===l||"`"===l||'"'===u||"'"===u||"`"===u)&&l!==u)throw new d("property names with quotes must have matching quotes");if("constructor"!==p&&c||(s=!0),b(y,l="%"+(n+="."+p)+"%"))r=y[l];else if(null!=r){if(!(p in r)){if(t)return;throw new h("base intrinsic for "+e+" exists, but the property is not available.")}r=f&&o+1>=i.length?(c=!!(u=f(r,p)))&&"get"in u&&!("originalValue"in u.get)?u.get:r[p]:(c=b(r,p),r[p]),c&&!s&&(y[l]=r)}}return r}},{"function-bind":285,has:309,"has-symbols":306}],302:[function(e,t,i){function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.setopts=function(e,t,i){i=i||{};if(i.matchBase&&-1===t.indexOf("/")){if(i.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!i.silent,e.pattern=t,e.strict=!1!==i.strict,e.realpath=!!i.realpath,e.realpathCache=i.realpathCache||Object.create(null),e.follow=!!i.follow,e.dot=!!i.dot,e.mark=!!i.mark,e.nodir=!!i.nodir,e.nodir&&(e.mark=!0);e.sync=!!i.sync,e.nounique=!!i.nounique,e.nonull=!!i.nonull,e.nosort=!!i.nosort,e.nocase=!!i.nocase,e.stat=!!i.stat,e.noprocess=!!i.noprocess,e.absolute=!!i.absolute,e.fs=i.fs||r,e.maxLength=i.maxLength||1/0,e.cache=i.cache||Object.create(null),e.statCache=i.statCache||Object.create(null),e.symlinks=i.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,i),e.changedCwd=!1;var n=process.cwd();a(i,"cwd")?(e.cwd=s.resolve(i.cwd),e.changedCwd=e.cwd!==n):e.cwd=n;e.root=i.root||s.resolve(e.cwd,"/"),e.root=s.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=o(e.cwd)?e.cwd:u(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!i.nomount,i.nonegate=!0,i.nocomment=!0,e.minimatch=new c(t,i),e.options=e.minimatch.options},i.ownProp=a,i.makeAbs=u,i.finish=function(i){for(var e=i.nounique,t=e?[]:Object.create(null),n=0,a=i.matches.length;n<a;n++){var r=i.matches[n];r&&0!==Object.keys(r).length?(r=Object.keys(r),e?t.push.apply(t,r):r.forEach(function(e){t[e]=!0})):i.nonull&&(r=i.minimatch.globSet[n],e?t.push(r):t[r]=!0)}e||(t=Object.keys(t));i.nosort||(t=t.sort(p));if(i.mark){for(n=0;n<t.length;n++)t[n]=i._mark(t[n]);i.nodir&&(t=t.filter(function(e){var t=!/\/$/.test(e),e=i.cache[e]||i.cache[u(i,e)];return t=t&&e?"DIR"!==e&&!Array.isArray(e):t}))}i.ignore.length&&(t=t.filter(function(e){return!d(i,e)}));i.found=t},i.mark=function(e,t){var i=u(e,t),n=e.cache[i],a=t;{var r;n&&(n="DIR"===n||Array.isArray(n),r="/"===t.slice(-1),n&&!r?a+="/":!n&&r&&(a=a.slice(0,-1)),a!==t)&&(n=u(e,a),e.statCache[n]=e.statCache[i],e.cache[n]=e.cache[i])}return a},i.isIgnored=d,i.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var r=e("fs"),s=e("path"),i=e("minimatch"),o=e("path-is-absolute"),c=i.Minimatch;function p(e,t){return e.localeCompare(t,"en")}function l(e){var t,i=null;return"/**"===e.slice(-3)&&(t=e.replace(/(\/\*\*)+$/,""),i=new c(t,{dot:!0})),{matcher:new c(e,{dot:!0}),gmatcher:i}}function u(e,t){var i=t,i="/"===t.charAt(0)?s.join(e.root,t):o(t)||""===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t);return i="win32"===process.platform?i.replace(/\\/g,"/"):i}function d(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},{fs:void 0,minimatch:355,path:void 0,"path-is-absolute":370}],303:[function(e,t,i){t.exports=g;var c=e("fs.realpath"),p=e("minimatch"),t=(p.Minimatch,e("inherits")),n=e("events").EventEmitter,y=e("path"),l=e("assert"),u=e("path-is-absolute"),a=e("./sync.js"),r=e("./common.js"),d=r.setopts,o=r.ownProp,h=e("inflight"),f=(e("util"),r.childrenIgnored),s=r.isIgnored,m=e("once");function g(e,t,i){if("function"==typeof t&&(i=t,t={}),(t=t||{}).sync){if(i)throw new TypeError("callback provided to sync glob");return a(e,t)}return new b(e,t,i)}g.sync=a;var v=g.GlobSync=a.GlobSync;function b(e,t,i){if("function"==typeof t&&(i=t,t=null),t&&t.sync){if(i)throw new TypeError("callback provided to sync glob");return new v(e,t)}if(!(this instanceof b))return new b(e,t,i);d(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length,a=(this.matches=new Array(n),"function"==typeof i&&(i=m(i),this.on("error",i),this.on("end",function(e){i(null,e)})),this);if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return o();for(var r=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,o);function o(){--a._processing,a._processing<=0&&(r?process.nextTick(function(){a._finish()}):a._finish())}r=!1}(g.glob=g).hasMagic=function(e,t){t=function(e,t){if(null!==t&&"object"==typeof t)for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}({},t);t.noprocess=!0;var i=new b(e,t).minimatch.set;if(e){if(1<i.length)return!0;for(var n=0;n<i[0].length;n++)if("string"!=typeof i[0][n])return!0}return!1},t(g.Glob=b,n),b.prototype._finish=function(){if(l(this instanceof b),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();r.finish(this),this.emit("end",this.found)}},b.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,i=0;i<this.matches.length;i++)this._realpathSet(i,n)}function n(){0==--e&&t._finish()}},b.prototype._realpathSet=function(n,a){var r,s,o,e=this.matches[n];return!e||(e=Object.keys(e),r=this,0===(s=e.length))?a():(o=this.matches[n]=Object.create(null),void e.forEach(function(i,e){i=r._makeAbs(i),c.realpath(i,r.realpathCache,function(e,t){e?"stat"===e.syscall?o[i]=!0:r.emit("error",e):o[t]=!0,0==--s&&(r.matches[n]=o,a())})}))},b.prototype._mark=function(e){return r.mark(this,e)},b.prototype._makeAbs=function(e){return r.makeAbs(this,e)},b.prototype.abort=function(){this.aborted=!0,this.emit("abort")},b.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},b.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length)for(var e=this._emitQueue.slice(0),t=this._emitQueue.length=0;t<e.length;t++){var i=e[t];this._emitMatch(i[0],i[1])}if(this._processQueue.length)for(var n=this._processQueue.slice(0),t=this._processQueue.length=0;t<n.length;t++){var a=n[t];this._processing--,this._process(a[0],a[1],a[2],a[3])}}},b.prototype._process=function(e,t,i,n){if(l(this instanceof b),l("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,i,n]);else{for(var a,r=0;"string"==typeof e[r];)r++;switch(r){case e.length:return void this._processSimple(e.join("/"),t,n);case 0:a=null;break;default:a=e.slice(0,r).join("/")}var s=e.slice(r),o=null===a?".":u(a)||u(e.join("/"))?a=a&&u(a)?a:"/"+a:a,c=this._makeAbs(o);if(f(this,o))return n();s[0]===p.GLOBSTAR?this._processGlobStar(a,o,c,s,t,i,n):this._processReaddir(a,o,c,s,t,i,n)}},b.prototype._processReaddir=function(i,n,a,r,s,o,c){var p=this;this._readdir(a,o,function(e,t){return p._processReaddir2(i,n,a,r,s,o,t,c)})},b.prototype._processReaddir2=function(e,t,i,n,a,r,s,o){if(!s)return o();for(var c=n[0],p=!!this.minimatch.negate,l=c._glob,u=this.dot||"."===l.charAt(0),d=[],h=0;h<s.length;h++)"."===(m=s[h]).charAt(0)&&!u||(p&&!e?m.match(c):!m.match(c))||d.push(m);var f=d.length;if(0===f)return o();if(1===n.length&&!this.mark&&!this.stat){this.matches[a]||(this.matches[a]=Object.create(null));for(h=0;h<f;h++){var m=d[h];"/"!==(m=e?"/"!==e?e+"/"+m:e+m:m).charAt(0)||this.nomount||(m=y.join(this.root,m)),this._emitMatch(a,m)}return o()}n.shift();for(h=0;h<f;h++){m=d[h];this._process([m=e?"/"!==e?e+"/"+m:e+m:m].concat(n),a,r,o)}o()},b.prototype._emitMatch=function(e,t){if(!this.aborted&&!s(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var i=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=i),!this.matches[e][t]){if(this.nodir){var n=this.cache[i];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0;n=this.statCache[i];n&&this.emit("stat",t,n),this.emit("match",t)}}},b.prototype._readdirInGlobStar=function(i,n){var a,e;if(!this.aborted)return this.follow?this._readdir(i,!1,n):(a=this,void((e=h("lstat\0"+i,function(e,t){if(e&&"ENOENT"===e.code)return n();e=t&&t.isSymbolicLink();(a.symlinks[i]=e)||!t||t.isDirectory()?a._readdir(i,!1,n):(a.cache[i]="FILE",n())}))&&a.fs.lstat(i,e)))},b.prototype._readdir=function(e,t,i){if(!this.aborted&&(i=h("readdir\0"+e+"\0"+t,i))){if(t&&!o(this.symlinks,e))return this._readdirInGlobStar(e,i);if(o(this.cache,e)){t=this.cache[e];if(!t||"FILE"===t)return i();if(Array.isArray(t))return i(null,t)}var n,a,r;this.fs.readdir(e,(n=this,a=e,r=i,function(e,t){e?n._readdirError(a,e,r):n._readdirEntries(a,t,r)}))}},b.prototype._readdirEntries=function(e,t,i){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var a=t[n],a="/"===e?e+a:e+"/"+a;this.cache[a]=!0}return i(null,this.cache[e]=t)}},b.prototype._readdirError=function(e,t,i){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);this.cache[n]="FILE",n===this.cwdAbs&&((n=new Error(t.code+" invalid cwd "+this.cwd)).path=this.cwd,n.code=t.code,this.emit("error",n),this.abort());break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return i()}},b.prototype._processGlobStar=function(i,n,a,r,s,o,c){var p=this;this._readdir(a,o,function(e,t){p._processGlobStar2(i,n,a,r,s,o,t,c)})},b.prototype._processGlobStar2=function(e,t,i,n,a,r,s,o){if(!s)return o();var c=n.slice(1),p=e?[e]:[],e=p.concat(c),e=(this._process(e,a,!1,o),this.symlinks[i]),l=s.length;if(e&&r)return o();for(var u,d=0;d<l;d++)"."===s[d].charAt(0)&&!this.dot||(u=p.concat(s[d],c),this._process(u,a,!0,o),u=p.concat(s[d],n),this._process(u,a,!0,o));o()},b.prototype._processSimple=function(i,n,a){var r=this;this._stat(i,function(e,t){r._processSimple2(i,n,e,t,a)})},b.prototype._processSimple2=function(e,t,i,n,a){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return a();e&&u(e)&&!this.nomount&&(n=/[\/\\]$/.test(e),"/"===e.charAt(0)?e=y.join(this.root,e):(e=y.resolve(this.root,e),n&&(e+="/"))),"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),a()},b.prototype._stat=function(n,a){var r=this._makeAbs(n),e="/"===n.slice(-1);if(n.length>this.maxLength)return a();if(!this.stat&&o(this.cache,r)){var t=this.cache[r];if(Array.isArray(t)&&(t="DIR"),!e||"DIR"===t)return a(null,t);if(e&&"FILE"===t)return a()}var i,t=this.statCache[r];if(void 0!==t)return!1===t?a(null,t):(i=t.isDirectory()?"DIR":"FILE",e&&"FILE"==i?a():a(null,i,t));var s=this,e=h("stat\0"+r,function(e,i){{if(i&&i.isSymbolicLink())return s.fs.stat(r,function(e,t){e?s._stat2(n,r,null,i,a):s._stat2(n,r,e,t,a)});s._stat2(n,r,e,i,a)}});e&&s.fs.lstat(r,e)},b.prototype._stat2=function(e,t,i,n,a){return!i||"ENOENT"!==i.code&&"ENOTDIR"!==i.code?(i="/"===e.slice(-1),this.statCache[t]=n,"/"===t.slice(-1)&&n&&!n.isDirectory()?a(null,!1,n):(e=!0,n&&(e=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||e,i&&"FILE"===e?a():a(null,e,n))):(this.statCache[t]=!1,a())}},{"./common.js":302,"./sync.js":304,assert:void 0,events:void 0,"fs.realpath":282,inflight:334,inherits:335,minimatch:355,once:368,path:void 0,"path-is-absolute":370,util:void 0}],304:[function(e,t,i){(t.exports=d).GlobSync=h;var r=e("fs.realpath"),c=e("minimatch"),m=(c.Minimatch,e("./glob.js").Glob,e("util"),e("path")),p=e("assert"),l=e("path-is-absolute"),n=e("./common.js"),a=n.setopts,s=n.ownProp,u=n.childrenIgnored,o=n.isIgnored;function d(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new h(e,t).found}function h(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof h))return new h(e,t);if(a(this,e,t),this.noprocess)return this;var i=this.minimatch.set.length;this.matches=new Array(i);for(var n=0;n<i;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}h.prototype._finish=function(){var a;p(this instanceof h),this.realpath&&(a=this).matches.forEach(function(e,t){var i=a.matches[t]=Object.create(null);for(n in e)try{var n=a._makeAbs(n);i[r.realpathSync(n,a.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;i[a._makeAbs(n)]=!0}}),n.finish(this)},h.prototype._process=function(e,t,i){p(this instanceof h);for(var n,a=0;"string"==typeof e[a];)a++;switch(a){case e.length:return void this._processSimple(e.join("/"),t);case 0:n=null;break;default:n=e.slice(0,a).join("/")}var r=e.slice(a),s=null===n?".":l(n)||l(e.join("/"))?n=n&&l(n)?n:"/"+n:n,o=this._makeAbs(s);u(this,s)||(r[0]===c.GLOBSTAR?this._processGlobStar(n,s,o,r,t,i):this._processReaddir(n,s,o,r,t,i))},h.prototype._processReaddir=function(e,t,i,n,a,r){var s=this._readdir(i,r);if(s){for(var o=n[0],c=!!this.minimatch.negate,i=o._glob,p=this.dot||"."===i.charAt(0),l=[],u=0;u<s.length;u++)("."!==(h=s[u]).charAt(0)||p)&&(c&&!e?!h.match(o):h.match(o))&&l.push(h);var d=l.length;if(0!==d)if(1!==n.length||this.mark||this.stat){n.shift();for(u=0;u<d;u++){var h=l[u],f=e?[e,h]:[h];this._process(f.concat(n),a,r)}}else{this.matches[a]||(this.matches[a]=Object.create(null));for(var u=0;u<d;u++){var h=l[u];"/"!==(h=e?"/"!==e.slice(-1)?e+"/"+h:e+h:h).charAt(0)||this.nomount||(h=m.join(this.root,h)),this._emitMatch(a,h)}}}},h.prototype._emitMatch=function(e,t){if(!o(this,t)){var i=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=i),!this.matches[e][t]){if(this.nodir){i=this.cache[i];if("DIR"===i||Array.isArray(i))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},h.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,i;try{i=this.fs.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var n=i&&i.isSymbolicLink();return(this.symlinks[e]=n)||!i||i.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},h.prototype._readdir=function(t,e){if(e&&!s(this.symlinks,t))return this._readdirInGlobStar(t);if(s(this.cache,t)){e=this.cache[t];if(!e||"FILE"===e)return null;if(Array.isArray(e))return e}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},h.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var i=0;i<t.length;i++){var n=t[i],n="/"===e?e+n:e+"/"+n;this.cache[n]=!0}return this.cache[e]=t},h.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(e);if(this.cache[i]="FILE",i===this.cwdAbs)throw(i=new Error(t.code+" invalid cwd "+this.cwd)).path=this.cwd,i.code=t.code,i;break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},h.prototype._processGlobStar=function(e,t,i,n,a,r){var s=this._readdir(i,r);if(s){var o=n.slice(1),c=e?[e]:[],e=c.concat(o),p=(this._process(e,a,!1),s.length),e=this.symlinks[i];if(!e||!r)for(var l,u=0;u<p;u++)"."===s[u].charAt(0)&&!this.dot||(l=c.concat(s[u],o),this._process(l,a,!0),l=c.concat(s[u],n),this._process(l,a,!0))}},h.prototype._processSimple=function(e,t){var i=this._stat(e);this.matches[t]||(this.matches[t]=Object.create(null)),i&&(e&&l(e)&&!this.nomount&&(i=/[\/\\]$/.test(e),"/"===e.charAt(0)?e=m.join(this.root,e):(e=m.resolve(this.root,e),i&&(e+="/"))),"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e))},h.prototype._stat=function(t){var i=this._makeAbs(t),e="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&s(this.cache,i)){var n=this.cache[i];if(Array.isArray(n)&&(n="DIR"),!e||"DIR"===n)return n;if(e&&"FILE"===n)return!1}var a,t=this.statCache[i];if(!t){try{a=this.fs.lstatSync(i)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[i]=!1}if(a&&a.isSymbolicLink())try{t=this.fs.statSync(i)}catch(e){t=a}else t=a}n=!0;return(this.statCache[i]=t)&&(n=t.isDirectory()?"DIR":"FILE"),this.cache[i]=this.cache[i]||n,(!e||"FILE"!==n)&&n},h.prototype._mark=function(e){return n.mark(this,e)},h.prototype._makeAbs=function(e){return n.makeAbs(this,e)}},{"./common.js":302,"./glob.js":303,assert:void 0,"fs.realpath":282,minimatch:355,path:void 0,"path-is-absolute":370,util:void 0}],305:[function(e,t,i){"use strict";t.exports=(e,t=process.argv)=>{var i=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(i+e),e=t.indexOf("--");return-1!==i&&(-1===e||i<e)}},{}],306:[function(e,t,i){"use strict";var n="undefined"!=typeof Symbol&&Symbol,a=e("./shams");t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&a()}},{"./shams":307}],307:[function(e,t,i){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"!=typeof Symbol.iterator){var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}}return!0}},{}],308:[function(e,t,i){"use strict";var n=e("os");t.exports=function(){var e;return"Windows_NT"!=n.type()&&(e=process.env.LC_ALL||process.env.LC_CTYPE||process.env.LANG,/UTF-?8$/i.test(e))}},{os:void 0}],309:[function(e,t,i){"use strict";e=e("function-bind");t.exports=e.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":285}],310:[function(e,t,i){"use strict";var n,l,u,d=e("depd")("http-errors"),h=e("setprototypeof"),f=e("statuses"),m=e("inherits"),y=e("toidentifier");function a(){throw new TypeError("cannot construct abstract class")}function g(e){return Number(String(e).charAt(0)+"00")}function v(e,t){var i=Object.getOwnPropertyDescriptor(e,"name");i&&i.configurable&&(i.value=t,Object.defineProperty(e,"name",i))}function b(e){return"Error"!==e.substr(-5)?e+"Error":e}t.exports=function e(){var t;var i;var n=500;var a={};for(var r=0;r<arguments.length;r++){var s=arguments[r],o=typeof s;if("object"==o&&s instanceof Error)n=(t=s).status||t.statusCode||n;else if("number"==o&&0===r)n=s;else if("string"==o)i=s;else{if("object"!=o)throw new TypeError("argument #"+(r+1)+" unsupported type "+o);a=s}}"number"==typeof n&&(n<400||600<=n)&&d("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof n||!f.message[n]&&(n<400||600<=n))&&(n=500);var c=e[n]||e[g(n)];t||(t=c?new c(i):new Error(i||f.message[n]),Error.captureStackTrace(t,e));c&&t instanceof c&&t.status===n||(t.expose=n<500,t.status=t.statusCode=n);for(var p in a)"status"!==p&&"statusCode"!==p&&(t[p]=a[p]);return t},t.exports.HttpError=(m(a,Error),a),t.exports.isHttpError=(n=t.exports.HttpError,function(e){return!(!e||"object"!=typeof e)&&(e instanceof n||e instanceof Error&&"boolean"==typeof e.expose&&"number"==typeof e.statusCode&&e.status===e.statusCode)}),l=t.exports,e=f.codes,u=t.exports.HttpError,e.forEach(function(e){var t,i,n,a,r,s,o=y(f.message[e]);switch(g(e)){case 400:a=u,r=e,s=b(o),m(p,a),v(p,s),p.prototype.status=r,p.prototype.statusCode=r,p.prototype.expose=!0,t=p;break;case 500:a=u,i=e,n=b(o),m(c,a),v(c,n),c.prototype.status=i,c.prototype.statusCode=i,c.prototype.expose=!1,t=c}function c(e){var e=null!=e?e:f.message[i],t=new Error(e);return Error.captureStackTrace(t,c),h(t,c.prototype),Object.defineProperty(t,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),t}function p(e){var e=null!=e?e:f.message[r],t=new Error(e);return Error.captureStackTrace(t,p),h(t,p.prototype),Object.defineProperty(t,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,value:s,writable:!0}),t}t&&(l[e]=t,l[o]=t)})},{depd:179,inherits:335,setprototypeof:474,statuses:312,toidentifier:498}],311:[function(e,t,i){arguments[4][269][0].apply(i,arguments)},{dup:269}],312:[function(e,t,i){arguments[4][270][0].apply(i,arguments)},{"./codes.json":311,dup:270}],313:[function(e,t,i){"use strict";for(var f=e("safer-buffer").Buffer,m=(i._dbcs=a,-1),y=-2,g=-1e3,v=new Array(256),n=0;n<256;n++)v[n]=m;function a(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var i=e.table();this.decodeTables=[],this.decodeTables[0]=v.slice(0),this.decodeTableSeq=[];for(var n=0;n<i.length;n++)this._addDecodeChunk(i[n]);this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var a={};if(e.encodeSkipVals)for(n=0;n<e.encodeSkipVals.length;n++){var r=e.encodeSkipVals[n];if("number"==typeof r)a[r]=!0;else for(var s=r.from;s<=r.to;s++)a[s]=!0}if(this._fillEncodeTable(0,0,a),e.encodeAdd)for(var o in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,o)&&this._setEncodeChar(o.charCodeAt(0),e.encodeAdd[o]);if(this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===m&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===m&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof e.gb18030){this.gb18030=e.gb18030();for(var c=this.decodeTables.length,p=this.decodeTables[c]=v.slice(0),l=this.decodeTables.length,u=this.decodeTables[l]=v.slice(0),n=129;n<=254;n++)for(var d=g-this.decodeTables[0][n],h=this.decodeTables[d],s=48;s<=57;s++)h[s]=g-c;for(n=129;n<=254;n++)p[n]=g-l;for(n=48;n<=57;n++)u[n]=y}}function r(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function s(e,t){this.nodeIdx=0,this.prevBuf=f.alloc(0),this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function b(e,t){if(e[0]>t)return-1;for(var i=0,n=e.length;i<n-1;){var a=i+Math.floor((n-i+1)/2);e[a]<=t?i=a:n=a}return i}a.prototype.encoder=r,a.prototype.decoder=s,a.prototype._getDecodeTrieNode=function(e){for(var t=[];0<e;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var i=this.decodeTables[0],n=t.length-1;0<n;n--){var a=i[t[n]];if(a==m)i[t[n]]=g-this.decodeTables.length,this.decodeTables.push(i=v.slice(0));else{if(!(a<=g))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));i=this.decodeTables[g-a]}}return i},a.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),i=this._getDecodeTrieNode(t);t&=255;for(var n=1;n<e.length;n++){var a=e[n];if("string"==typeof a)for(var r=0;r<a.length;){var s=a.charCodeAt(r++);if(55296<=s&&s<56320){var o=a.charCodeAt(r++);if(!(56320<=o&&o<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);i[t++]=65536+1024*(s-55296)+(o-56320)}else if(4080<s&&s<=4095){for(var c=4095-s+2,p=[],l=0;l<c;l++)p.push(a.charCodeAt(r++));i[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(p)}else i[t++]=s}else{if("number"!=typeof a)throw new Error("Incorrect type '"+typeof a+"' given in "+this.encodingName+" at chunk "+e[0]);for(var u=i[t-1]+1,r=0;r<a;r++)i[t++]=u++}}if(255<t)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},a.prototype._getEncodeBucket=function(e){e>>=8;return void 0===this.encodeTable[e]&&(this.encodeTable[e]=v.slice(0)),this.encodeTable[e]},a.prototype._setEncodeChar=function(e,t){var i=this._getEncodeBucket(e),e=255&e;i[e]<=-10?this.encodeTableSeq[-10-i[e]][-1]=t:i[e]==m&&(i[e]=t)},a.prototype._setEncodeSequence=function(e,t){var i,n=e[0],a=this._getEncodeBucket(n),r=255&n;a[r]<=-10?i=this.encodeTableSeq[-10-a[r]]:(i={},a[r]!==m&&(i[-1]=a[r]),a[r]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(i));for(var s=1;s<e.length-1;s++){var o=i[n];"object"==typeof o?i=o:(i=i[n]={},void 0!==o&&(i[-1]=o))}i[n=e[e.length-1]]=t},a.prototype._fillEncodeTable=function(e,t,i){for(var n=this.decodeTables[e],a=0;a<256;a++){var r=n[a],s=t+a;i[s]||(0<=r?this._setEncodeChar(r,s):r<=g?this._fillEncodeTable(g-r,s<<8,i):r<=-10&&this._setEncodeSequence(this.decodeTableSeq[-10-r],s))}},r.prototype.write=function(e){for(var t=f.alloc(e.length*(this.gb18030?4:3)),i=this.leadSurrogate,n=this.seqObj,a=-1,r=0,s=0;;){if(-1===a){if(r==e.length)break;var o=e.charCodeAt(r++)}else o=a,a=-1;if(55296<=o&&o<57344)if(o<56320){if(-1===i){i=o;continue}i=o,o=m}else-1!==i?(o=65536+1024*(i-55296)+(o-56320),i=-1):o=m;else-1!==i&&(a=o,o=m,i=-1);var c=m;if(void 0!==n&&o!=m){var p=n[o];if("object"==typeof p){n=p;continue}"number"==typeof p?c=p:null==p&&void 0!==(p=n[-1])&&(c=p,a=o),n=void 0}else if(0<=o){p=this.encodeTable[o>>8];if((c=void 0!==p?p[255&o]:c)<=-10){n=this.encodeTableSeq[-10-c];continue}if(c==m&&this.gb18030){var l=b(this.gb18030.uChars,o);if(-1!=l){c=this.gb18030.gbChars[l]+(o-this.gb18030.uChars[l]);t[s++]=129+Math.floor(c/12600),c%=12600,t[s++]=48+Math.floor(c/1260),c%=1260,t[s++]=129+Math.floor(c/10),c%=10,t[s++]=48+c;continue}}}(c=c===m?this.defaultCharSingleByte:c)<256?t[s++]=c:(c<65536?t[s++]=c>>8:(t[s++]=c>>16,t[s++]=c>>8&255),t[s++]=255&c)}return this.seqObj=n,this.leadSurrogate=i,t.slice(0,s)},r.prototype.end=function(){var e,t,i;if(-1!==this.leadSurrogate||void 0!==this.seqObj)return e=f.alloc(10),t=0,this.seqObj&&(void 0!==(i=this.seqObj[-1])&&(i<256?e[t++]=i:(e[t++]=i>>8,e[t++]=255&i)),this.seqObj=void 0),-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)},r.prototype.findIdx=b,s.prototype.write=function(e){var t=f.alloc(2*e.length),i=this.nodeIdx,n=this.prevBuf,a=this.prevBuf.length,r=-this.prevBuf.length;0<a&&(n=f.concat([n,e.slice(0,10)]));for(var s=0,o=0;s<e.length;s++){var c=0<=s?e[s]:n[s+a],p=this.decodeTables[i][c];if(!(0<=p))if(p===m)s=r,p=this.defaultCharUnicode.charCodeAt(0);else if(p===y){var l=0<=r?e.slice(r,s+1):n.slice(r+a,s+1+a),l=12600*(l[0]-129)+1260*(l[1]-48)+10*(l[2]-129)+(l[3]-48),u=b(this.gb18030.gbChars,l);p=this.gb18030.uChars[u]+l-this.gb18030.gbChars[u]}else{if(p<=g){i=g-p;continue}if(!(p<=-10))throw new Error("iconv-lite internal error: invalid decoding table value "+p+" at "+i+"/"+c);for(var d=this.decodeTableSeq[-10-p],h=0;h<d.length-1;h++)p=d[h],t[o++]=255&p,t[o++]=p>>8;p=d[d.length-1]}65535<p&&(p-=65536,l=55296+Math.floor(p/1024),t[o++]=255&l,t[o++]=l>>8,p=56320+p%1024),t[o++]=255&p,t[o++]=p>>8,i=0,r=s+1}return this.nodeIdx=i,this.prevBuf=0<=r?e.slice(r):n.slice(r+a),t.slice(0,o).toString("ucs2")},s.prototype.end=function(){for(var e="";0<this.prevBuf.length;){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=f.alloc(0),(this.nodeIdx=0)<t.length&&(e+=this.write(t))}return this.nodeIdx=0,e}},{"safer-buffer":414}],314:[function(e,t,i){"use strict";t.exports={shiftjis:{type:"_dbcs",table:function(){return e("./tables/shiftjis.json")},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return e("./tables/eucjp.json")},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return e("./tables/cp936.json")}},gbk:{type:"_dbcs",table:function(){return e("./tables/cp936.json").concat(e("./tables/gbk-added.json"))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return e("./tables/cp936.json").concat(e("./tables/gbk-added.json"))},gb18030:function(){return e("./tables/gb18030-ranges.json")},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return e("./tables/cp949.json")}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return e("./tables/cp950.json")}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return e("./tables/cp950.json").concat(e("./tables/big5-added.json"))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},{"./tables/big5-added.json":320,"./tables/cp936.json":321,"./tables/cp949.json":322,"./tables/cp950.json":323,"./tables/eucjp.json":324,"./tables/gb18030-ranges.json":325,"./tables/gbk-added.json":326,"./tables/shiftjis.json":327}],315:[function(e,t,i){"use strict";for(var n,a=[e("./internal"),e("./utf16"),e("./utf7"),e("./sbcs-codec"),e("./sbcs-data"),e("./sbcs-data-generated"),e("./dbcs-codec"),e("./dbcs-data")],r=0;r<a.length;r++)for(n in t=a[r])Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])},{"./dbcs-codec":313,"./dbcs-data":314,"./internal":316,"./sbcs-codec":317,"./sbcs-data":319,"./sbcs-data-generated":318,"./utf16":328,"./utf7":329}],316:[function(e,t,i){"use strict";var r=e("safer-buffer").Buffer;function n(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=p,""!==r.from("eda0bdedb2a9","hex").toString())&&(this.decoder=l,this.defaultCharUnicode=t.defaultCharUnicode)}t.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:n},n.prototype.encoder=o,n.prototype.decoder=s;var a=e("string_decoder").StringDecoder;function s(e,t){a.call(this,t.enc)}function o(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function p(e,t){}function l(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}a.prototype.end||(a.prototype.end=function(){}),s.prototype=a.prototype,o.prototype.write=function(e){return r.from(e,this.enc)},o.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),r.from(e,"base64")},c.prototype.end=function(){return r.from(this.prevStr,"base64")},p.prototype.write=function(e){for(var t=r.alloc(3*e.length),i=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t[i++]=a:(a<2048?t[i++]=192+(a>>>6):(t[i++]=224+(a>>>12),t[i++]=128+(a>>>6&63)),t[i++]=128+(63&a))}return t.slice(0,i)},p.prototype.end=function(){},l.prototype.write=function(e){for(var t=this.acc,i=this.contBytes,n=this.accBytes,a="",r=0;r<e.length;r++){var s=e[r];128!=(192&s)?(0<i&&(a+=this.defaultCharUnicode,i=0),s<128?a+=String.fromCharCode(s):s<224?(t=31&s,n=i=1):s<240?(t=15&s,i=2,n=1):a+=this.defaultCharUnicode):0<i?(t=t<<6|63&s,n++,0===--i&&(a+=2===n&&t<128&&0<t||3===n&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):a+=this.defaultCharUnicode}return this.acc=t,this.contBytes=i,this.accBytes=n,a},l.prototype.end=function(){var e=0;return 0<this.contBytes&&(e+=this.defaultCharUnicode),e}},{"safer-buffer":414,string_decoder:void 0}],317:[function(e,t,i){"use strict";var s=e("safer-buffer").Buffer;function n(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var i="",n=0;n<128;n++)i+=String.fromCharCode(n);e.chars=i+e.chars}this.decodeBuf=s.from(e.chars,"ucs2");for(var a=s.alloc(65536,t.defaultCharSingleByte.charCodeAt(0)),n=0;n<e.chars.length;n++)a[e.chars.charCodeAt(n)]=n;this.encodeBuf=a}function a(e,t){this.encodeBuf=t.encodeBuf}function r(e,t){this.decodeBuf=t.decodeBuf}(i._sbcs=n).prototype.encoder=a,n.prototype.decoder=r,a.prototype.write=function(e){for(var t=s.alloc(e.length),i=0;i<e.length;i++)t[i]=this.encodeBuf[e.charCodeAt(i)];return t},a.prototype.end=function(){},r.prototype.write=function(e){for(var t,i,n=this.decodeBuf,a=s.alloc(2*e.length),r=0;r<e.length;r++)t=2*e[r],a[i=2*r]=n[t],a[1+i]=n[1+t];return a.toString("ucs2")},r.prototype.end=function(){}},{"safer-buffer":414}],318:[function(e,t,i){"use strict";t.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},{}],319:[function(e,t,i){"use strict";t.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},{}],320:[function(e,t,i){t.exports=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]},{}],321:[function(e,t,i){t.exports=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]},{}],322:[function(e,t,i){t.exports=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]},{}],323:[function(e,t,i){t.exports=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]},{}],324:[function(e,t,i){t.exports=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]},{}],325:[function(e,t,i){t.exports={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]}},{}],326:[function(e,t,i){t.exports=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]},{}],327:[function(e,t,i){t.exports=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]},{}],328:[function(e,t,i){"use strict";var a=e("safer-buffer").Buffer;function n(){}function r(){}function s(){this.overflowByte=-1}function o(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function p(e,t){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=e||{},this.iconv=t.iconv}function l(e,t){t=t||"utf-16le";if(2<=e.length)if(254==e[0]&&255==e[1])t="utf-16be";else if(255==e[0]&&254==e[1])t="utf-16le";else{for(var i=0,n=0,a=Math.min(e.length-e.length%2,64),r=0;r<a;r+=2)0===e[r]&&0!==e[r+1]&&n++,0!==e[r]&&0===e[r+1]&&i++;i<n?t="utf-16be":n<i&&(t="utf-16le")}return t}(i.utf16be=n).prototype.encoder=r,n.prototype.decoder=s,n.prototype.bomAware=!0,r.prototype.write=function(e){for(var t=a.from(e,"ucs2"),i=0;i<t.length;i+=2){var n=t[i];t[i]=t[i+1],t[i+1]=n}return t},r.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=a.alloc(e.length+1),i=0,n=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,i=1,n=2);i<e.length-1;i+=2,n+=2)t[n]=e[i+1],t[n+1]=e[i];return this.overflowByte=i==e.length-1?e[e.length-1]:-1,t.slice(0,n).toString("ucs2")},s.prototype.end=function(){},(i.utf16=o).prototype.encoder=c,o.prototype.decoder=p,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},p.prototype.write=function(e){if(!this.decoder){if(this.initialBytes.push(e),this.initialBytesLen+=e.length,this.initialBytesLen<16)return"";var t=l(e=a.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(e)},p.prototype.end=function(){var e,t;return this.decoder?this.decoder.end():(e=l(t=a.concat(this.initialBytes),this.options.defaultEncoding),this.decoder=this.iconv.getDecoder(e,this.options),e=this.decoder.write(t),(t=this.decoder.end())?e+t:e)}},{"safer-buffer":414}],329:[function(e,t,i){"use strict";var c=e("safer-buffer").Buffer;function n(e,t){this.iconv=t}i.utf7=n,i.unicode11utf7="utf7",n.prototype.encoder=r,n.prototype.decoder=s,n.prototype.bomAware=!0;var a=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function r(e,t){this.iconv=t.iconv}function s(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}r.prototype.write=function(e){return c.from(e.replace(a,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},r.prototype.end=function(){};for(var o=/[A-Za-z0-9\/+]/,p=[],l=0;l<256;l++)p[l]=o.test(String.fromCharCode(l));var u="+".charCodeAt(0),d="-".charCodeAt(0),h="&".charCodeAt(0);function f(e,t){this.iconv=t}function m(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=c.alloc(6),this.base64AccumIdx=0}function y(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){for(var t,i,n="",a=0,r=this.inBase64,s=this.base64Accum,o=0;o<e.length;o++)r?p[e[o]]||(o==a&&e[o]==d?n+="+":(t=s+e.slice(a,o).toString(),n+=this.iconv.decode(c.from(t,"base64"),"utf16-be")),e[o]!=d&&o--,a=o+1,r=!1,s=""):e[o]==u&&(n+=this.iconv.decode(e.slice(a,o),"ascii"),a=o+1,r=!0);return r?(i=(t=s+e.slice(a).toString()).length-t.length%8,s=t.slice(i),t=t.slice(0,i),n+=this.iconv.decode(c.from(t,"base64"),"utf16-be")):n+=this.iconv.decode(e.slice(a),"ascii"),this.inBase64=r,this.base64Accum=s,n},s.prototype.end=function(){var e="";return this.inBase64&&0<this.base64Accum.length&&(e=this.iconv.decode(c.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},(i.utf7imap=f).prototype.encoder=m,f.prototype.decoder=y,f.prototype.bomAware=!0,m.prototype.write=function(e){for(var t=this.inBase64,i=this.base64Accum,n=this.base64AccumIdx,a=c.alloc(5*e.length+10),r=0,s=0;s<e.length;s++){var o=e.charCodeAt(s);32<=o&&o<=126?(t&&(0<n&&(r+=a.write(i.slice(0,n).toString("base64").replace(/\//g,",").replace(/=+$/,""),r),n=0),a[r++]=d,t=!1),t||(a[r++]=o)===h&&(a[r++]=d)):(t||(a[r++]=h,t=!0),t&&(i[n++]=o>>8,i[n++]=255&o,n==i.length)&&(r+=a.write(i.toString("base64").replace(/\//g,","),r),n=0))}return this.inBase64=t,this.base64AccumIdx=n,a.slice(0,r)},m.prototype.end=function(){var e=c.alloc(10),t=0;return this.inBase64&&(0<this.base64AccumIdx&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=d,this.inBase64=!1),e.slice(0,t)};var g=p.slice();g[",".charCodeAt(0)]=!0,y.prototype.write=function(e){for(var t,i,n="",a=0,r=this.inBase64,s=this.base64Accum,o=0;o<e.length;o++)r?g[e[o]]||(o==a&&e[o]==d?n+="&":(t=s+e.slice(a,o).toString().replace(/,/g,"/"),n+=this.iconv.decode(c.from(t,"base64"),"utf16-be")),e[o]!=d&&o--,a=o+1,r=!1,s=""):e[o]==h&&(n+=this.iconv.decode(e.slice(a,o),"ascii"),a=o+1,r=!0);return r?(i=(t=s+e.slice(a).toString().replace(/,/g,"/")).length-t.length%8,s=t.slice(i),t=t.slice(0,i),n+=this.iconv.decode(c.from(t,"base64"),"utf16-be")):n+=this.iconv.decode(e.slice(a),"ascii"),this.inBase64=r,this.base64Accum=s,n},y.prototype.end=function(){var e="";return this.inBase64&&0<this.base64Accum.length&&(e=this.iconv.decode(c.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},{"safer-buffer":414}],330:[function(e,t,i){"use strict";function n(e,t){this.encoder=e,this.addBOM=!0}function a(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}(i.PrependBOM=n).prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},n.prototype.end=function(){return this.encoder.end()},(i.StripBOM=a).prototype.write=function(e){e=this.decoder.write(e);return!this.pass&&e&&("\ufeff"===e[0]&&(e=e.slice(1),"function"==typeof this.options.stripBOM)&&this.options.stripBOM(),this.pass=!0),e},a.prototype.end=function(){return this.decoder.end()}},{}],331:[function(i,e,t){"use strict";var l=i("buffer").Buffer;e.exports=function(c){var p=void 0;c.supportsNodeEncodingsExtension=!(l.from||new l(0)instanceof Uint8Array),c.extendNodeEncodings=function(){var t,e;p||(p={},c.supportsNodeEncodingsExtension?(t={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0},l.isNativeEncoding=function(e){return e&&t[e.toLowerCase()]},e=i("buffer").SlowBuffer,p.SlowBufferToString=e.prototype.toString,e.prototype.toString=function(e,t,i){return e=String(e||"utf8").toLowerCase(),l.isNativeEncoding(e)?p.SlowBufferToString.call(this,e,t,i):(void 0===i&&(i=this.length),c.decode(this.slice(t=void 0===t?0:t,i),e))},p.SlowBufferWrite=e.prototype.write,e.prototype.write=function(e,t,i,n){isFinite(t)?isFinite(i)||(n=i,i=void 0):(a=n,n=t,t=i,i=a);var a=this.length-(t=+t||0);if((!i||a<(i=+i))&&(i=a),n=String(n||"utf8").toLowerCase(),l.isNativeEncoding(n))return p.SlowBufferWrite.call(this,e,t,i,n);if(0<e.length&&(i<0||t<0))throw new RangeError("attempt to write beyond buffer bounds");a=c.encode(e,n);return a.length<i&&(i=a.length),a.copy(this,t,0,i),i},p.BufferIsEncoding=l.isEncoding,l.isEncoding=function(e){return l.isNativeEncoding(e)||c.encodingExists(e)},p.BufferByteLength=l.byteLength,l.byteLength=e.byteLength=function(e,t){return t=String(t||"utf8").toLowerCase(),l.isNativeEncoding(t)?p.BufferByteLength.call(this,e,t):c.encode(e,t).length},p.BufferToString=l.prototype.toString,l.prototype.toString=function(e,t,i){return e=String(e||"utf8").toLowerCase(),l.isNativeEncoding(e)?p.BufferToString.call(this,e,t,i):(void 0===i&&(i=this.length),c.decode(this.slice(t=void 0===t?0:t,i),e))},p.BufferWrite=l.prototype.write,l.prototype.write=function(e,t,i,n){var a=t,r=i,s=n;if(isFinite(t)?isFinite(i)||(n=i,i=void 0):(o=n,n=t,t=i,i=o),n=String(n||"utf8").toLowerCase(),l.isNativeEncoding(n))return p.BufferWrite.call(this,e,a,r,s);var o=this.length-(t=+t||0);if((!i||o<(i=+i))&&(i=o),0<e.length&&(i<0||t<0))throw new RangeError("attempt to write beyond buffer bounds");a=c.encode(e,n);return a.length<i&&(i=a.length),a.copy(this,t,0,i),i},c.supportsStreams&&(e=i("stream").Readable,p.ReadableSetEncoding=e.prototype.setEncoding,e.prototype.setEncoding=function(e,t){this._readableState.decoder=c.getDecoder(e,t),this._readableState.encoding=e},e.prototype.collect=c._collect)):(console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility")))},c.undoExtendNodeEncodings=function(){if(c.supportsNodeEncodingsExtension){if(!p)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete l.isNativeEncoding;var e=i("buffer").SlowBuffer;e.prototype.toString=p.SlowBufferToString,e.prototype.write=p.SlowBufferWrite,l.isEncoding=p.BufferIsEncoding,l.byteLength=p.BufferByteLength,l.prototype.toString=p.BufferToString,l.prototype.write=p.BufferWrite,c.supportsStreams&&((e=i("stream").Readable).prototype.setEncoding=p.ReadableSetEncoding,delete e.prototype.collect),p=void 0}}}},{buffer:void 0,stream:void 0}],332:[function(s,e,t){"use strict";var n=s("safer-buffer").Buffer,a=s("./bom-handling"),o=e.exports,e=(o.encodings=null,o.defaultCharUnicode="",o.defaultCharSingleByte="?",o.encode=function(e,t,i){e=""+(e||"");t=o.getEncoder(t,i),i=t.write(e),e=t.end();return e&&0<e.length?n.concat([i,e]):i},o.decode=function(e,t,i){"string"==typeof e&&(o.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),o.skipDecodeWarning=!0),e=n.from(""+(e||""),"binary"));t=o.getDecoder(t,i),i=t.write(e),e=t.end();return e?i+e:i},o.encodingExists=function(e){try{return o.getCodec(e),!0}catch(e){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(e){o.encodings||(o.encodings=s("../encodings"));for(var t=o._canonicalizeEncoding(e),i={};;){var n=o._codecDataCache[t];if(n)return n;var a=o.encodings[t];switch(typeof a){case"string":t=a;break;case"object":for(var r in a)i[r]=a[r];i.encodingName||(i.encodingName=t),t=a.type;break;case"function":return i.encodingName||(i.encodingName=t),n=new a(i,o),o._codecDataCache[i.encodingName]=n;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},o._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},o.getEncoder=function(e,t){var e=o.getCodec(e),i=new e.encoder(t,e);return i=e.bomAware&&t&&t.addBOM?new a.PrependBOM(i,t):i},o.getDecoder=function(e,t){var e=o.getCodec(e),i=new e.decoder(t,e);return i=!e.bomAware||t&&!1===t.stripBOM?i:new a.StripBOM(i,t)},"undefined"!=typeof process&&process.versions&&process.versions.node);e&&((0<(e=e.split(".").map(Number))[0]||10<=e[1])&&s("./streams")(o),s("./extend-node")(o))},{"../encodings":315,"./bom-handling":330,"./extend-node":331,"./streams":333,"safer-buffer":414}],333:[function(e,t,i){"use strict";var a=e("buffer").Buffer,n=e("stream").Transform;function r(e,t){this.conv=e,(t=t||{}).decodeStrings=!1,n.call(this,t)}function s(e,t){this.conv=e,(t=t||{}).encoding=this.encoding="utf8",n.call(this,t)}t.exports=function(i){i.encodeStream=function(e,t){return new r(i.getEncoder(e,t),t)},i.decodeStream=function(e,t){return new s(i.getDecoder(e,t),t)},i.supportsStreams=!0,i.IconvLiteEncoderStream=r,i.IconvLiteDecoderStream=s,i._collect=s.prototype.collect},(r.prototype=Object.create(n.prototype,{constructor:{value:r}}))._transform=function(e,t,i){if("string"!=typeof e)return i(new Error("Iconv encoding stream needs strings as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n),i()}catch(e){i(e)}},r.prototype._flush=function(t){try{var e=this.conv.end();e&&e.length&&this.push(e),t()}catch(e){t(e)}},r.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",function(e){t.push(e)}),this.on("end",function(){e(null,a.concat(t))}),this},(s.prototype=Object.create(n.prototype,{constructor:{value:s}}))._transform=function(e,t,i){if(!a.isBuffer(e))return i(new Error("Iconv decoding stream needs buffers as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n,this.encoding),i()}catch(e){i(e)}},s.prototype._flush=function(t){try{var e=this.conv.end();e&&e.length&&this.push(e,this.encoding),t()}catch(e){t(e)}},s.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",function(e){t+=e}),this.on("end",function(){e(null,t)}),this}},{buffer:void 0,stream:void 0}],334:[function(e,t,i){var n=e("wrappy"),s=Object.create(null),a=e("once");t.exports=n(function(e,t){return s[e]?(s[e].push(t),null):(s[e]=[t],function(r){return a(function e(){var t=s[r],i=t.length,n=function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n]=e[n];return i}(arguments);try{for(var a=0;a<i;a++)t[a].apply(null,n)}finally{t.length>i?(t.splice(0,i),process.nextTick(function(){e.apply(null,n)})):delete s[r]}})}(e))})},{once:368,wrappy:517}],335:[function(t,i,e){try{var n=t("util");if("function"!=typeof n.inherits)throw"";i.exports=n.inherits}catch(e){i.exports=t("./inherits_browser.js")}},{"./inherits_browser.js":336,util:void 0}],336:[function(e,t,i){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){var i;t&&(e.super_=t,(i=function(){}).prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e)}},{}],337:[function(e,p,t){!function(){var s,i,e,l,t,c,n,a;function r(e){var t,i,n;if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");for(t=0,i=e.length;t<i;t++)if(!(0<=(n=e[t])&&n<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}function o(e,t){var i,n,a,r,s,o;if(16===e.length)for(this.parts=[],i=n=0;n<=14;i=n+=2)this.parts.push(e[i]<<8|e[i+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(a=0,r=(o=this.parts).length;a<r;a++)if(!(0<=(s=o[a])&&s<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}i={},null!=p&&p.exports?p.exports=i:this.ipaddr=i,n=function(e,t,i,n){var a,r;if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(a=0;0<n;){if((r=i-n)<0&&(r=0),e[a]>>r!=t[a]>>r)return!1;n-=i,a+=1}return!0},i.subnetMatch=function(e,t,i){var n,a,r,s,o;for(r in null==i&&(i="unicast"),t)for(a=(s=!(s=t[r])[n=0]||s[0]instanceof Array?s:[s]).length;n<a;n++)if(o=s[n],e.kind()===o[0].kind()&&e.match.apply(e,o))return r;return i},i.IPv4=(r.prototype.kind=function(){return"ipv4"},r.prototype.toString=function(){return this.octets.join(".")},r.prototype.toNormalizedString=function(){return this.toString()},r.prototype.toByteArray=function(){return this.octets.slice(0)},r.prototype.match=function(e,t){var i;if(void 0===t&&(e=(i=e)[0],t=i[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return n(this.octets,e.octets,8,t)},r.prototype.SpecialRanges={unspecified:[[new r([0,0,0,0]),8]],broadcast:[[new r([255,255,255,255]),32]],multicast:[[new r([224,0,0,0]),4]],linkLocal:[[new r([169,254,0,0]),16]],loopback:[[new r([127,0,0,0]),8]],carrierGradeNat:[[new r([100,64,0,0]),10]],private:[[new r([10,0,0,0]),8],[new r([172,16,0,0]),12],[new r([192,168,0,0]),16]],reserved:[[new r([192,0,0,0]),24],[new r([192,0,2,0]),24],[new r([192,88,99,0]),24],[new r([198,51,100,0]),24],[new r([203,0,113,0]),24],[new r([240,0,0,0]),4]]},r.prototype.range=function(){return i.subnetMatch(this,this.SpecialRanges)},r.prototype.toIPv4MappedAddress=function(){return i.IPv6.parse("::ffff:"+this.toString())},r.prototype.prefixLengthFromSubnetMask=function(){for(var e,t,i={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},n=0,a=!1,r=e=3;0<=e;r=e+=-1){if(!((t=this.octets[r])in i))return null;if(t=i[t],a&&0!==t)return null;8!==t&&(a=!0),n+=t}return 32-n},r),e="(0?\\d+|0x[a-f0-9]+)",l={fourOctet:new RegExp("^"+e+"\\."+e+"\\."+e+"\\."+e+"$","i"),longValue:new RegExp("^"+e+"$","i")},i.IPv4.parser=function(e){var t,i,n,a,r=function(e){return"0"===e[0]&&"x"!==e[1]?parseInt(e,8):parseInt(e)};if(t=e.match(l.fourOctet)){for(var s=t.slice(1,6),o=[],c=0,p=s.length;c<p;c++)i=s[c],o.push(r(i));return o}if(t=e.match(l.longValue)){if(4294967295<(a=r(t[1]))||a<0)throw new Error("ipaddr: address outside defined range");return function(){var e,t=[];for(n=e=0;e<=24;n=e+=8)t.push(a>>n&255);return t}().reverse()}return null},i.IPv6=(o.prototype.kind=function(){return"ipv6"},o.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},o.prototype.toRFC5952String=function(){for(var e,t=/((^|:)(0(:|$)){2,})/g,i=this.toNormalizedString(),n=0,a=-1;e=t.exec(i);)e[0].length>a&&(n=e.index,a=e[0].length);return a<0?i:i.substring(0,n)+"::"+i.substring(n+a)},o.prototype.toByteArray=function(){for(var e,t=[],i=this.parts,n=0,a=i.length;n<a;n++)e=i[n],t.push(e>>8),t.push(255&e);return t},o.prototype.toNormalizedString=function(){var a,e="";return function(){for(var e=this.parts,t=[],i=0,n=e.length;i<n;i++)a=e[i],t.push(a.toString(16));return t}.call(this).join(":")+(e=this.zoneId?"%"+this.zoneId:e)},o.prototype.toFixedLengthString=function(){var a,e="";return function(){for(var e=this.parts,t=[],i=0,n=e.length;i<n;i++)a=e[i],t.push(a.toString(16).padStart(4,"0"));return t}.call(this).join(":")+(e=this.zoneId?"%"+this.zoneId:e)},o.prototype.match=function(e,t){var i;if(void 0===t&&(e=(i=e)[0],t=i[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return n(this.parts,e.parts,16,t)},o.prototype.SpecialRanges={unspecified:[new o([0,0,0,0,0,0,0,0]),128],linkLocal:[new o([65152,0,0,0,0,0,0,0]),10],multicast:[new o([65280,0,0,0,0,0,0,0]),8],loopback:[new o([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new o([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new o([0,0,0,0,0,65535,0,0]),96],rfc6145:[new o([0,0,0,0,65535,0,0,0]),96],rfc6052:[new o([100,65435,0,0,0,0,0,0]),96],"6to4":[new o([8194,0,0,0,0,0,0,0]),16],teredo:[new o([8193,0,0,0,0,0,0,0]),32],reserved:[[new o([8193,3512,0,0,0,0,0,0]),32]]},o.prototype.range=function(){return i.subnetMatch(this,this.SpecialRanges)},o.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},o.prototype.toIPv4Address=function(){var e,t;if(this.isIPv4MappedAddress())return e=(t=this.parts.slice(-2))[0],t=t[1],new i.IPv4([e>>8,255&e,t>>8,255&t]);throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4")},o.prototype.prefixLengthFromSubnetMask=function(){for(var e,t,i={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},n=0,a=!1,r=e=7;0<=e;r=e+=-1){if(!((t=this.parts[r])in i))return null;if(t=i[t],a&&0!==t)return null;16!==t&&(a=!0),n+=t}return 128-n},o),t="(?:[0-9a-f]+::?)+",a="%[0-9a-z]{1,}",c={zoneIndex:new RegExp(a,"i"),native:new RegExp("^(::)?("+t+")?([0-9a-f]+)?(::)?("+a+")?$","i"),transitional:new RegExp("^((?:"+t+")|(?:::)(?:"+t+")?)"+e+"\\."+e+"\\."+e+"\\."+e+"("+a+")?$","i")},s=function(a,e){var t,i,r,n,s,o;if(a.indexOf("::")!==a.lastIndexOf("::"))return null;for((o=(a.match(c.zoneIndex)||[])[0])&&(o=o.substring(1),a=a.replace(/%.+$/,"")),t=0,i=-1;0<=(i=a.indexOf(":",i+1));)t++;if("::"===a.substr(0,2)&&t--,"::"===a.substr(-2,2)&&t--,e<t)return null;for(s=e-t,n=":";s--;)n+="0:";return":"===(a=":"===(a=a.replace("::",n))[0]?a.slice(1):a)[a.length-1]&&(a=a.slice(0,-1)),{parts:e=function(){for(var e=a.split(":"),t=[],i=0,n=e.length;i<n;i++)r=e[i],t.push(parseInt(r,16));return t}(),zoneId:o}},i.IPv6.parser=function(e){var t,i,n,a,r;if(c.native.test(e))return s(e,8);if((e=e.match(c.transitional))&&(r=e[6]||"",(r=s(e[1].slice(0,-1)+r,6)).parts)){for(t=0,i=(a=[parseInt(e[2]),parseInt(e[3]),parseInt(e[4]),parseInt(e[5])]).length;t<i;t++)if(!(0<=(n=a[t])&&n<=255))return null;return r.parts.push(a[0]<<8|a[1]),r.parts.push(a[2]<<8|a[3]),{parts:r.parts,zoneId:r.zoneId}}return null},i.IPv4.isIPv4=i.IPv6.isIPv6=function(e){return null!==this.parser(e)},i.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},i.IPv4.isValidFourPartDecimal=function(e){return!(!i.IPv4.isValid(e)||!e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},i.IPv6.isValid=function(e){var t;if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{return t=this.parser(e),new this(t.parts,t.zoneId),!0}catch(e){return!1}},i.IPv4.parse=function(e){e=this.parser(e);if(null===e)throw new Error("ipaddr: string is not formatted like ip address");return new this(e)},i.IPv6.parse=function(e){e=this.parser(e);if(null===e.parts)throw new Error("ipaddr: string is not formatted like ip address");return new this(e.parts,e.zoneId)},i.IPv4.parseCIDR=function(e){var t;if((e=e.match(/^(.+)\/(\d+)$/))&&0<=(t=parseInt(e[2]))&&t<=32)return e=[this.parse(e[1]),t],Object.defineProperty(e,"toString",{value:function(){return this.join("/")}}),e;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},i.IPv4.subnetMaskFromPrefixLength=function(e){var t,i,n;if((e=parseInt(e))<0||32<e)throw new Error("ipaddr: invalid IPv4 prefix length");for(n=[0,0,0,0],i=0,t=Math.floor(e/8);i<t;)n[i]=255,i++;return t<4&&(n[t]=Math.pow(2,e%8)-1<<8-e%8),new this(n)},i.IPv4.broadcastAddressFromCIDR=function(e){var t,i,n,a,r;try{for(n=(t=this.parseCIDR(e))[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),a=[],i=0;i<4;)a.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(a)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},i.IPv4.networkAddressFromCIDR=function(e){var t,i,n,a,r;try{for(n=(t=this.parseCIDR(e))[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),a=[],i=0;i<4;)a.push(parseInt(n[i],10)&parseInt(r[i],10)),i++;return new this(a)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},i.IPv6.parseCIDR=function(e){var t;if((e=e.match(/^(.+)\/(\d+)$/))&&0<=(t=parseInt(e[2]))&&t<=128)return e=[this.parse(e[1]),t],Object.defineProperty(e,"toString",{value:function(){return this.join("/")}}),e;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},i.isValid=function(e){return i.IPv6.isValid(e)||i.IPv4.isValid(e)},i.parse=function(e){if(i.IPv6.isValid(e))return i.IPv6.parse(e);if(i.IPv4.isValid(e))return i.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},i.parseCIDR=function(t){try{return i.IPv6.parseCIDR(t)}catch(e){0;try{return i.IPv4.parseCIDR(t)}catch(e){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},i.fromByteArray=function(e){var t=e.length;if(4===t)return new i.IPv4(e);if(16===t)return new i.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},i.process=function(e){e=this.parse(e);return"ipv6"===e.kind()&&e.isIPv4MappedAddress()?e.toIPv4Address():e}}.call(this)},{}],338:[function(e,t,i){"use strict";var n=e=>!Number.isNaN(e)&&4352<=e&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);t.exports=n,t.exports.default=n},{}],339:[function(e,t,i){"use strict";e=e("./lib/private/logger-prototype");t.exports=e._createLevel("info")},{"./lib/private/logger-prototype":344}],340:[function(e,t,i){t.exports=["error","warning","notice","info","debug"]},{}],341:[function(e,t,i){"use strict";var n=e("uni-global")("medikoo/log/202110");n.emitter?t.exports=n.emitter:(e=e("event-emitter"),t.exports=n.emitter=e())},{"event-emitter":249,"uni-global":509}],342:[function(e,t,i){"use strict";t.exports=RegExp.prototype.test.bind(/^[a-z0-9-]+$/)},{}],343:[function(e,t,i){"use strict";var n=e("es5-ext/function/noop"),a=e("es5-ext/object/for-each"),e=e("d");t.exports={isEnabled:e("ew",!0),enable:e(function(){return this._setEnabledState(!0)}),disable:e(function(){return this._setEnabledState(!1)}),_setEnabledState:e(function(t){var e=[],i=(this._setEnabledStateRecursively(t,e),{restore:function(){e.forEach(function(e){e.hasDirectSetting?e.logger.isEnabled=!t:delete e.logger.isEnabled}),i.restore=n}});return i}),_setEnabledStateRecursively:e(function(t,i){this.isEnabled!==t&&(i.push({logger:this,hasDirectSetting:hasOwnProperty.call(this,"isEnabled")}),this.isEnabled=t),a(this._childNamespaceLoggers,function(e){e._setEnabledStateRecursively(t,i)})})}},{d:161,"es5-ext/function/noop":210,"es5-ext/object/for-each":221}],344:[function(e,t,i){"use strict";var n=e("type/string/ensure"),a=e("es5-ext/array/from"),r=e("es5-ext/object/assign"),s=e("es5-ext/object/set-prototype-of"),o=e("d"),c=e("d/lazy"),p=e("../../../levels"),l=e("../../emitter"),u=e("./enable-disable-props"),e=e("./namespace-props"),d=Object.create(null),h=Object.create(Function.prototype,r({isLevelInitialized:o("e",function(e){return e=n(e),this.level===e||!!(e=d[e])&&(!this.namespace||e.isNamespaceInitialized(this.namespace))}),getAllInitializedLevels:o("e",function(){return Object.keys(d).filter(function(e){return this.isLevelInitialized(e)},this).map(function(e){return this._getLevelLogger(e)},this)}),_createLogger:o(function(){return s(function e(t){l.emit("log",{logger:e,messageTokens:a(arguments)})},this)}),_createLevel:o(function(e){var t;return d[e]||(t=h._createLogger(),Object.defineProperties(t,{level:o("e",e),levelIndex:o("e",p.indexOf(e)),levelRoot:o("e",t)}),d[e]=t,l.emit("init",{logger:t}),t)}),_getLevelLogger:o(function(e){return this.level===e?this:(e=this._createLevel(e),this.namespaceTokens.reduce(function(e,t){return e._createNamespace(t)},e))})},c(r(p.reduce(function(e,t){return e[t]=o("e",function(){return this._getLevelLogger(t)},{cacheName:"_"+t}),e},{}),{warn:o(function(){return this._getLevelLogger("warning")},{cacheName:"_warning"})})),e,u));t.exports=h},{"../../../levels":340,"../../emitter":341,"./enable-disable-props":343,"./namespace-props":345,d:161,"d/lazy":162,"es5-ext/array/from":204,"es5-ext/object/assign":217,"es5-ext/object/set-prototype-of":229,"type/string/ensure":506}],345:[function(e,t,i){"use strict";var n=e("type/string/ensure"),a=e("type/lib/to-short-string"),r=e("es5-ext/function/identity"),s=e("es5-ext/object/assign"),o=e("es5-ext/object/to-array"),c=e("d"),p=e("d/lazy"),l=e("../../emitter"),u=e("../is-namespace-token");t.exports=s({get:c(function(t){var e=(t=n(t)).split(":");return e.forEach(function(e){if(!u(e))throw new TypeError(a(t)+" is not a valid namespace string (only 'a-z0-9-' chars are allowed and ':' as delimiter)")}),e.reduce(function(e,t){return e._createNamespace(t)},this)}),isNamespaceInitialized:c("e",function(e){var e=n(e).split(":"),t=this;return e.every(function(e){return t=t._childNamespaceLoggers[e]})}),getAllInitializedNamespaces:c("e",function(){return o(this._childNamespaceLoggers,r)}),_createNamespace:c(function(e){var t;return this._childNamespaceLoggers[e]||(t=Object.defineProperties(this._createLogger(),{_namespaceToken:c("",e)}),this._childNamespaceLoggers[e]=t,l.emit("init",{logger:t}),t)}),_namespaceToken:c("",null)},p({namespace:c("e",function(){return this.namespaceTokens.join(":")||null},{cacheName:"_namespace"}),namespaceTokens:c("e",function(){return this._namespaceToken?Object.getPrototypeOf(this).namespaceTokens.concat(this._namespaceToken):[]},{cacheName:"_namespaceTokens"}),_childNamespaceLoggers:c("",function(){return Object.create(null)},{cacheName:"__childNamespaceLoggers"})}))},{"../../emitter":341,"../is-namespace-token":342,d:161,"d/lazy":162,"es5-ext/function/identity":207,"es5-ext/object/assign":217,"es5-ext/object/to-array":232,"type/lib/to-short-string":503,"type/string/ensure":506}],346:[function(e,t,i){"use strict";const n=e("yallist"),s=Symbol("max"),o=Symbol("length"),c=Symbol("lengthCalculator"),r=Symbol("allowStale"),p=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),a=Symbol("updateAgeOnGet"),f=()=>1;const m=(e,t,i)=>{t=e[h].get(t);if(t){var n=t.value;if(y(e,n)){if(v(e,t),!e[r])return}else i&&(e[a]&&(t.value.now=Date.now()),e[d].unshiftNode(t));return n.value}},y=(e,t)=>{var i;return!(!t||!t.maxAge&&!e[p])&&(i=Date.now()-t.now,t.maxAge?i>t.maxAge:e[p]&&i>e[p])},g=t=>{if(t[o]>t[s])for(let e=t[d].tail;t[o]>t[s]&&null!==e;){var i=e.prev;v(t,e),e=i}},v=(e,t)=>{var i;t&&(i=t.value,e[l]&&e[l](i.key,i.value),e[o]-=i.length,e[h].delete(i.key),e[d].removeNode(t))};class b{constructor(e,t,i,n,a){this.key=e,this.value=t,this.length=i,this.now=n,this.maxAge=a||0}}const x=(e,t,i,n)=>{let a=i.value;y(e,a)&&(v(e,i),e[r]||(a=void 0)),a&&t.call(n,a.value,a.key,e)};t.exports=class{constructor(e){if((e=(e="number"==typeof e?{max:e}:e)||{}).max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[s]=e.max||1/0;var t=e.length||f;if(this[c]="function"!=typeof t?f:t,this[r]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[p]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[a]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[s]=e||1/0,g(this)}get max(){return this[s]}set allowStale(e){this[r]=!!e}get allowStale(){return this[r]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[p]=e,g(this)}get maxAge(){return this[p]}set lengthCalculator(e){(e="function"!=typeof e?f:e)!==this[c]&&(this[c]=e,this[o]=0,this[d].forEach(e=>{e.length=this[c](e.value,e.key),this[o]+=e.length})),g(this)}get lengthCalculator(){return this[c]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(t,i){i=i||this;for(let e=this[d].tail;null!==e;){var n=e.prev;x(this,t,e,i),e=n}}forEach(t,i){i=i||this;for(let e=this[d].head;null!==e;){var n=e.next;x(this,t,e,i),e=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[l]&&this[d]&&this[d].length&&this[d].forEach(e=>this[l](e.key,e.value)),this[h]=new Map,this[d]=new n,this[o]=0}dump(){return this[d].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,i){if((i=i||this[p])&&"number"!=typeof i)throw new TypeError("maxAge must be a number");var n,a=i?Date.now():0,r=this[c](t,e);return this[h].has(e)?r>this[s]?(v(this,this[h].get(e)),!1):(n=this[h].get(e).value,this[l]&&!this[u]&&this[l](e,n.value),n.now=a,n.maxAge=i,n.value=t,this[o]+=r-n.length,n.length=r,this.get(e),g(this),!0):(n=new b(e,t,r,a,i)).length>this[s]?(this[l]&&this[l](e,t),!1):(this[o]+=n.length,this[d].unshift(n),this[h].set(e,this[d].head),g(this),!0)}has(e){return!!this[h].has(e)&&(e=this[h].get(e).value,!y(this,e))}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){var e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(t){this.reset();var i=Date.now();for(let e=t.length-1;0<=e;e--){var n=t[e],a=n.e||0;0===a?this.set(n.k,n.v):0<(a=a-i)&&this.set(n.k,n.v,a)}}prune(){this[h].forEach((e,t)=>m(this,t,!1))}}},{yallist:533}],347:[function(e,t,i){var s=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,c=/^[\u0020-\u007e\u0080-\u00ff]+$/,p=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,o=/\\([\u0000-\u007f])/g,l=/([\\"])/g,u=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,d=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,h=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;i.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,i=e.subtype,n=e.suffix,e=e.type;if(!e||!d.test(e))throw new TypeError("invalid type");if(!i||!u.test(i))throw new TypeError("invalid subtype");var a,r=e+"/"+i;if(n){if(!d.test(n))throw new TypeError("invalid suffix");r+="+"+n}if(t&&"object"==typeof t)for(var s=Object.keys(t).sort(),o=0;o<s.length;o++){if(a=s[o],!p.test(a))throw new TypeError("invalid parameter name");r+="; "+a+"="+function(e){e=String(e);if(p.test(e))return e;if(0<e.length&&!c.test(e))throw new TypeError("invalid parameter value");return'"'+e.replace(l,"\\$1")+'"'}(t[a])}return r},i.parse=function(e){if(!e)throw new TypeError("argument string is required");"object"==typeof e&&(e=function(e){if("function"==typeof e.getHeader)return e.getHeader("content-type");if("object"==typeof e.headers)return e.headers&&e.headers["content-type"]}(e));if("string"!=typeof e)throw new TypeError("argument string is required to be a string");var t,i,n=e.indexOf(";"),a=function(e){e=h.exec(e.toLowerCase());if(!e)throw new TypeError("invalid media type");var t,i=e[1],e=e[2],n=e.lastIndexOf("+");-1!==n&&(t=e.substr(n+1),e=e.substr(0,n));return{type:i,subtype:e,suffix:t}}(-1!==n?e.substr(0,n):e),r={};s.lastIndex=n;for(;i=s.exec(e);){if(i.index!==n)throw new TypeError("invalid parameter format");n+=i[0].length,t=i[1].toLowerCase(),'"'===(i=i[2])[0]&&(i=i.substr(1,i.length-2).replace(o,"$1")),r[t]=i}if(-1===n||n===e.length)return a.parameters=r,a;throw new TypeError("invalid parameter format")}},{}],348:[function(e,t,i){"use strict";t.exports=function(i,n,a){if(!i)throw new TypeError("argument dest is required");if(!n)throw new TypeError("argument src is required");void 0===a&&(a=!0);return Object.getOwnPropertyNames(n).forEach(function(e){var t;!a&&r.call(i,e)||(t=Object.getOwnPropertyDescriptor(n,e),Object.defineProperty(i,e,t))}),i};var r=Object.prototype.hasOwnProperty},{}],349:[function(e,t,i){"use strict";e=e("http");t.exports=e.METHODS&&e.METHODS.map(function(e){return e.toLowerCase()})||["get","post","put","head","delete","options","trace","copy","lock","mkcol","move","purge","propfind","proppatch","unlock","report","mkactivity","checkout","merge","m-search","notify","subscribe","unsubscribe","patch","search","connect"]},{http:void 0}],350:[function(e,t,i){t.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}},{}],351:[function(e,t,i){t.exports=e("./db.json")},{"./db.json":350}],352:[function(e,t,i){"use strict";var o,c,p,l=e("mime-db"),n=e("path").extname,a=/^\s*([^;\s]*)(?:;|\s|$)/,r=/^text\//i;function s(e){var t;return!(!e||"string"!=typeof e)&&((t=(e=a.exec(e))&&l[e[1].toLowerCase()])&&t.charset?t.charset:!(!e||!r.test(e[1]))&&"UTF-8")}i.charset=s,i.charsets={lookup:s},i.contentType=function(e){if(!e||"string"!=typeof e)return!1;e=-1===e.indexOf("/")?i.lookup(e):e;if(!e)return!1;{var t;-1===e.indexOf("charset")&&(t=i.charset(e))&&(e+="; charset="+t.toLowerCase())}return e},i.extension=function(e){var t;return!(!e||"string"!=typeof e||(e=a.exec(e),!(t=e&&i.extensions[e[1].toLowerCase()]))||!t.length)&&t[0]},i.extensions=Object.create(null),i.lookup=function(e){return e&&"string"==typeof e&&(e=n("x."+e).toLowerCase().substr(1))&&i.types[e]||!1},i.types=Object.create(null),o=i.extensions,c=i.types,p=["nginx","apache",void 0,"iana"],Object.keys(l).forEach(function(e){var t=l[e],i=t.extensions;if(i&&i.length){o[e]=i;for(var n=0;n<i.length;n++){var a=i[n];if(c[a]){var r=p.indexOf(l[c[a]].source),s=p.indexOf(t.source);if("application/octet-stream"!==c[a]&&(s<r||r===s&&"application/"===c[a].substr(0,12)))continue}c[a]=e}}})},{"mime-db":351,path:void 0}],353:[function(e,t,i){e("path");var n=e("fs");function a(){this.types=Object.create(null),this.extensions=Object.create(null)}a.prototype.define=function(e){for(var t in e){for(var i=e[t],n=0;n<i.length;n++)process.env.DEBUG_MIME&&this.types[i[n]]&&console.warn((this._loading||"define()").replace(/.*\//,""),'changes "'+i[n]+'" extension type from '+this.types[i[n]]+" to "+t),this.types[i[n]]=t;this.extensions[t]||(this.extensions[t]=i[0])}},a.prototype.load=function(e){this._loading=e;var t={};n.readFileSync(e,"ascii").split(/[\r\n]+/).forEach(function(e){e=e.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);t[e.shift()]=e}),this.define(t),this._loading=null},a.prototype.lookup=function(e,t){e=e.replace(/^.*[\.\/\\]/,"").toLowerCase();return this.types[e]||t||this.default_type},a.prototype.extension=function(e){e=e.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[e]};var r=new a;r.define(e("./types.json")),r.default_type=r.lookup("bin"),r.Mime=a,r.charsets={lookup:function(e,t){return/^text\/|^application\/(javascript|json)/.test(e)?"UTF-8":t}},t.exports=r},{"./types.json":354,fs:void 0,path:void 0}],354:[function(e,t,i){t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":[],"application/font-woff2":[],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":[],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":[],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":[],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":[],"application/x-msdownload":["com","bat"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":[],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":[],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":[],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/wav":["wav"],"audio/wave":[],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":[],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":[],"audio/x-wav":[],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":[],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":[],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/rfc822":["eml","mime"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx"],"text/rtf":[],"text/sgml":["sgml","sgm"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/vtt":["vtt"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":[],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"text/xml":[],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],355:[function(e,t,i){(t.exports=s).Minimatch=a;var c=function(){try{return e("path")}catch(e){}}()||{sep:"/"},R=(s.sep=c.sep,s.GLOBSTAR=a.GLOBSTAR={}),n=e("brace-expansion"),j={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},N="[^/]*?",M="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var p=/\/+/;function r(t,i){i=i||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(i).forEach(function(e){n[e]=i[e]}),n}function s(e,t,i){return L(t),!(!(i=i||{}).nocomment&&"#"===t.charAt(0))&&new a(t,i).match(e)}function a(e,t){if(!(this instanceof a))return new a(e,t);L(e),t=t||{},e=e.trim(),t.allowWindowsEscape||"/"===c.sep||(e=e.split(c.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function o(e,t){return t=t||(this instanceof a?this.options:{}),e=void 0===e?this.pattern:e,L(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:n(e)}s.filter=function(n,a){return a=a||{},function(e,t,i){return s(e,n,a)}},s.defaults=function(n){var a,e;return n&&"object"==typeof n&&Object.keys(n).length?(a=s,((e=function(e,t,i){return a(e,t,r(n,i))}).Minimatch=function(e,t){return new a.Minimatch(e,r(n,t))}).defaults=function(e){return a.defaults(r(n,e)).Minimatch},e.filter=function(e,t){return a.filter(e,r(n,t))},e.defaults=function(e){return a.defaults(r(n,e))},e.makeRe=function(e,t){return a.makeRe(e,r(n,t))},e.braceExpand=function(e,t){return a.braceExpand(e,r(n,t))},e.match=function(e,t,i){return a.match(e,t,r(n,i))},e):s},a.defaults=function(e){return s.defaults(e).Minimatch},a.prototype.debug=function(){},a.prototype.make=function(){var e=this.pattern,t=this.options;t.nocomment||"#"!==e.charAt(0)?e?(this.parseNegate(),e=this.globSet=this.braceExpand(),t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,e),e=this.globParts=e.map(function(e){return e.split(p)}),this.debug(this.pattern,e),e=e.map(function(e,t,i){return e.map(this.parse,this)},this),this.debug(this.pattern,e),e=e.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,e),this.set=e):this.empty=!0:this.comment=!0},a.prototype.parseNegate=function(){var e=this.pattern,t=!1,i=this.options,n=0;if(!i.nonegate){for(var a=0,r=e.length;a<r&&"!"===e.charAt(a);a++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},s.braceExpand=function(e,t){return o(e,t)},a.prototype.braceExpand=o;var L=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(65536<e.length)throw new TypeError("pattern is too long")},B=(a.prototype.parse=function(e,t){L(e);var i=this.options;if("**"===e){if(!i.noglobstar)return R;e="*"}if(""===e)return"";var n,a="",r=!!i.nocase,s=!1,o=[],c=[],p=!1,l=-1,u=-1,d="."===e.charAt(0)?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function f(){if(n){switch(n){case"*":a+=N,r=!0;break;case"?":a+="[^/]",r=!0;break;default:a+="\\"+n}h.debug("clearStateChar %j %j",n,a),n=!1}}for(var m,y=0,g=e.length;y<g&&(m=e.charAt(y));y++)if(this.debug("%s\t%s %s %j",e,y,a,m),s&&M[m])a+="\\"+m,s=!1;else switch(m){case"/":return!1;case"\\":f(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,y,a,m),p){this.debug("  in class"),a+=m="!"===m&&y===u+1?"^":m;continue}h.debug("call clearStateChar %j",n),f(),n=m,i.noext&&f();continue;case"(":if(p){a+="(";continue}if(!n){a+="\\(";continue}o.push({type:n,start:y-1,reStart:a.length,open:j[n].open,close:j[n].close}),a+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,a),n=!1;continue;case")":if(p||!o.length){a+="\\)";continue}f(),r=!0;var v=o.pop();a+=v.close,"!"===v.type&&c.push(v),v.reEnd=a.length;continue;case"|":if(p||!o.length||s){a+="\\|",s=!1;continue}f(),a+="|";continue;case"[":if(f(),p){a+="\\"+m;continue}p=!0,u=y,l=a.length,a+=m;continue;case"]":if(y===u+1||!p){a+="\\"+m,s=!1;continue}var b=e.substring(u+1,y);try{RegExp("["+b+"]")}catch(e){var x=this.parse(b,B);a=a.substr(0,l)+"\\["+x[0]+"\\]",r=r||x[1],p=!1;continue}p=!(r=!0),a+=m;continue;default:f(),s?s=!1:!M[m]||"^"===m&&p||(a+="\\"),a+=m}p&&(b=e.substr(u+1),x=this.parse(b,B),a=a.substr(0,l)+"\\["+x[0],r=r||x[1]);for(v=o.pop();v;v=o.pop()){var _=a.slice(v.reStart+v.open.length),w=(this.debug("setting tail",a,v),_=_.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,i){return t+t+(i=i||"\\")+"|"}),this.debug("tail=%j\n   %s",_,_,v,a),"*"===v.type?N:"?"===v.type?"[^/]":"\\"+v.type);r=!0,a=a.slice(0,v.reStart)+w+"\\("+_}f(),s&&(a+="\\\\");var k=!1;switch(a.charAt(0)){case"[":case".":case"(":k=!0}for(var E=c.length-1;-1<E;E--){var S=c[E],D=a.slice(0,S.reStart),C=a.slice(S.reStart,S.reEnd-8),T=a.slice(S.reEnd-8,S.reEnd),S=a.slice(S.reEnd),A=(T+=S,D.split("(").length-1),O=S;for(y=0;y<A;y++)O=O.replace(/\)[+*?]?/,"");var I="",D=D+C+O+(I=""===(S=O)&&t!==B?"$":I)+T;a=D}""!==a&&r&&(a="(?=.)"+a);k&&(a=d+a);if(t===B)return[a,r];if(!r)return e.replace(/\\(.)/g,"$1");d=i.nocase?"i":"";try{var P=new RegExp("^"+a+"$",d)}catch(e){return new RegExp("$.")}return P._glob=e,P._src=a,P},{});s.makeRe=function(e,t){return new a(e,t||{}).makeRe()},a.prototype.makeRe=function(){if(!this.regexp&&!1!==this.regexp){var e=this.set;if(e.length){var t=this.options,i=t.noglobstar?N:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",t=t.nocase?"i":"",e=e.map(function(e){return e.map(function(e){return e===R?i:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src}).join("\\/")}).join("|");e="^(?:"+e+")$",this.negate&&(e="^(?!"+e+").*$");try{this.regexp=new RegExp(e,t)}catch(e){this.regexp=!1}}else this.regexp=!1}return this.regexp},s.match=function(e,t,i){var n=new a(t,i=i||{});return e=e.filter(function(e){return n.match(e)}),n.options.nonull&&!e.length&&e.push(t),e},a.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var i,n,a=this.options,r=(e=(e="/"!==c.sep?e.split(c.sep).join("/"):e).split(p),this.debug(this.pattern,"split",e),this.set);for(this.debug(this.pattern,"set",r),n=e.length-1;0<=n&&!(i=e[n]);n--);for(n=0;n<r.length;n++){var s=r[n],o=e;if(a.matchBase&&1===s.length&&(o=[i]),this.matchOne(o,s,t))return!!a.flipNegate||!this.negate}return!a.flipNegate&&this.negate},a.prototype.matchOne=function(e,t,i){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var a=0,r=0,s=e.length,o=t.length;a<s&&r<o;a++,r++){this.debug("matchOne loop");var c,p=t[r],l=e[a];if(this.debug(t,p,l),!1===p)return!1;if(p===R){this.debug("GLOBSTAR",[t,p,l]);var u=a,d=r+1;if(d===o){for(this.debug("** at the end");a<s;a++)if("."===e[a]||".."===e[a]||!n.dot&&"."===e[a].charAt(0))return!1;return!0}for(;u<s;){var h=e[u];if(this.debug("\nglobstar while",e,u,t,d,h),this.matchOne(e.slice(u),t.slice(d),i))return this.debug("globstar found match!",u,s,h),!0;if("."===h||".."===h||!n.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,u,t,d);break}this.debug("globstar swallow a segment, and continue"),u++}return i&&(this.debug("\n>>> no match, partial?",e,u,t,d),u===s)?!0:!1}if("string"==typeof p?this.debug("string match",p,l,c=l===p):(c=l.match(p),this.debug("pattern match",p,l,c)),!c)return!1}if(a===s&&r===o)return!0;if(a===s)return i;if(r===o)return a===s-1&&""===e[a];throw new Error("wtf?")}},{"brace-expansion":107,path:void 0}],356:[function(e,t,i){var a=864e5;function r(e,t,i,n){t=1.5*i<=t;return Math.round(e/i)+" "+n+(t?"s":"")}t.exports=function(e,t){t=t||{};var i=typeof e;if(!("string"==i&&0<e.length)){if("number"==i&&isFinite(e))return(t.long?function(e){var t=Math.abs(e);if(a<=t)return r(e,t,a,"day");if(36e5<=t)return r(e,t,36e5,"hour");if(6e4<=t)return r(e,t,6e4,"minute");if(1e3<=t)return r(e,t,1e3,"second");return e+" ms"}:function(e){var t=Math.abs(e);if(a<=t)return Math.round(e/a)+"d";if(36e5<=t)return Math.round(e/36e5)+"h";if(6e4<=t)return Math.round(e/6e4)+"m";if(1e3<=t)return Math.round(e/1e3)+"s";return e+"ms"})(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}i=e;if(!(100<(i=String(i)).length)){i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(i){var n=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}},{}],357:[function(e,t,i){"use strict";var n=e("./lib/charset"),a=e("./lib/encoding"),r=e("./lib/language"),s=e("./lib/mediaType");function o(e){if(!(this instanceof o))return new o(e);this.request=e}t.exports=o,(t.exports.Negotiator=o).prototype.charset=function(e){e=this.charsets(e);return e&&e[0]},o.prototype.charsets=function(e){return n(this.request.headers["accept-charset"],e)},o.prototype.encoding=function(e){e=this.encodings(e);return e&&e[0]},o.prototype.encodings=function(e){return a(this.request.headers["accept-encoding"],e)},o.prototype.language=function(e){e=this.languages(e);return e&&e[0]},o.prototype.languages=function(e){return r(this.request.headers["accept-language"],e)},o.prototype.mediaType=function(e){e=this.mediaTypes(e);return e&&e[0]},o.prototype.mediaTypes=function(e){return s(this.request.headers.accept,e)},o.prototype.preferredCharset=o.prototype.charset,o.prototype.preferredCharsets=o.prototype.charsets,o.prototype.preferredEncoding=o.prototype.encoding,o.prototype.preferredEncodings=o.prototype.encodings,o.prototype.preferredLanguage=o.prototype.language,o.prototype.preferredLanguages=o.prototype.languages,o.prototype.preferredMediaType=o.prototype.mediaType,o.prototype.preferredMediaTypes=o.prototype.mediaTypes},{"./lib/charset":358,"./lib/encoding":359,"./lib/language":360,"./lib/mediaType":361}],358:[function(e,t,i){"use strict";t.exports=n,t.exports.preferredCharsets=n;var o=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function a(e){for(var t=e.split(","),i=0,n=0;i<t.length;i++){var a=function(e,t){e=o.exec(e);if(!e)return null;var i=e[1],n=1;if(e[2])for(var a=e[2].split(";"),r=0;r<a.length;r++){var s=a[r].trim().split("=");if("q"===s[0]){n=parseFloat(s[1]);break}}return{charset:i,q:n,i:t}}(t[i].trim(),i);a&&(t[n++]=a)}return t.length=n,t}function r(e,t,i){for(var n={o:-1,q:0,s:0},a=0;a<t.length;a++){var r=function(e,t,i){var n=0;if(t.charset.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.charset)return null;return{i:i,o:t.i,q:t.q,s:n}}(e,t[a],i);r&&(n.s-r.s||n.q-r.q||n.o-r.o)<0&&(n=r)}return n}function n(e,t){var i,n=a(void 0===e?"*":e||"");return t?(i=t.map(function(e,t){return r(e,n,t)})).filter(p).sort(s).map(function(e){return t[i.indexOf(e)]}):n.filter(p).sort(s).map(c)}function s(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function c(e){return e.charset}function p(e){return 0<e.q}},{}],359:[function(e,t,i){"use strict";t.exports=a,t.exports.preferredEncodings=a;var o=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function n(e){for(var t=e.split(","),i=!1,n=1,a=0,r=0;a<t.length;a++){var s=function(e,t){e=o.exec(e);if(!e)return null;var i=e[1],n=1;if(e[2])for(var a=e[2].split(";"),r=0;r<a.length;r++){var s=a[r].trim().split("=");if("q"===s[0]){n=parseFloat(s[1]);break}}return{encoding:i,q:n,i:t}}(t[a].trim(),a);s&&(t[r++]=s,i=i||p("identity",s),n=Math.min(n,s.q||1))}return i||(t[r++]={encoding:"identity",q:n,i:a}),t.length=r,t}function p(e,t,i){var n=0;if(t.encoding.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.encoding)return null;return{i:i,o:t.i,q:t.q,s:n}}function a(e,t){var i,c=n(e||"");return t?(i=t.map(function(e,t){for(var i=e,n=c,a=t,r={o:-1,q:0,s:0},s=0;s<n.length;s++){var o=p(i,n[s],a);o&&(r.s-o.s||r.q-o.q||r.o-o.o)<0&&(r=o)}return r})).filter(l).sort(r).map(function(e){return t[i.indexOf(e)]}):c.filter(l).sort(r).map(s)}function r(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.encoding}function l(e){return 0<e.q}},{}],360:[function(e,t,i){"use strict";t.exports=n,t.exports.preferredLanguages=n;var p=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function s(e,t){e=p.exec(e);if(!e)return null;var i=e[1],n=e[2],a=i,r=(n&&(a+="-"+n),1);if(e[3])for(var s=e[3].split(";"),o=0;o<s.length;o++){var c=s[o].split("=");"q"===c[0]&&(r=parseFloat(c[1]))}return{prefix:i,suffix:n,q:r,i:t,full:a}}function a(e,t,i){for(var n={o:-1,q:0,s:0},a=0;a<t.length;a++){var r=function(e,t,i){e=s(e);if(!e)return null;var n=0;if(t.full.toLowerCase()===e.full.toLowerCase())n|=4;else if(t.prefix.toLowerCase()===e.full.toLowerCase())n|=2;else if(t.full.toLowerCase()===e.prefix.toLowerCase())n|=1;else if("*"!==t.full)return null;return{i:i,o:t.i,q:t.q,s:n}}(e,t[a],i);r&&(n.s-r.s||n.q-r.q||n.o-r.o)<0&&(n=r)}return n}function n(e,t){var i,n=function(e){for(var t=e.split(","),i=0,n=0;i<t.length;i++){var a=s(t[i].trim(),i);a&&(t[n++]=a)}return t.length=n,t}(void 0===e?"*":e||"");return t?(i=t.map(function(e,t){return a(e,n,t)})).filter(c).sort(r).map(function(e){return t[i.indexOf(e)]}):n.filter(c).sort(r).map(o)}function r(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function o(e){return e.full}function c(e){return 0<e.q}},{}],361:[function(e,t,i){"use strict";t.exports=n,t.exports.preferredMediaTypes=n;var l=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function a(e){for(var t=function(e){for(var t=e.split(","),i=1,n=0;i<t.length;i++)u(t[n])%2==0?t[++n]=t[i]:t[n]+=","+t[i];return t.length=n+1,t}(e),i=0,n=0;i<t.length;i++){var a=s(t[i].trim(),i);a&&(t[n++]=a)}return t.length=n,t}function s(e,t){e=l.exec(e);if(!e)return null;var i=Object.create(null),n=1,a=e[2],r=e[1];if(e[3])for(var s=function(e){for(var t=e.split(";"),i=1,n=0;i<t.length;i++)u(t[n])%2==0?t[++n]=t[i]:t[n]+=";"+t[i];t.length=n+1;for(i=0;i<t.length;i++)t[i]=t[i].trim();return t}(e[3]).map(d),o=0;o<s.length;o++){var c=s[o],p=c[0].toLowerCase(),c=c[1],c=c&&'"'===c[0]&&'"'===c[c.length-1]?c.substr(1,c.length-2):c;if("q"===p){n=parseFloat(c);break}i[p]=c}return{type:r,subtype:a,params:i,q:n,i:t}}function r(e,t,i){for(var n={o:-1,q:0,s:0},a=0;a<t.length;a++){var r=function(e,t,i){var n=s(e),e=0;if(!n)return null;if(t.type.toLowerCase()==n.type.toLowerCase())e|=4;else if("*"!=t.type)return null;if(t.subtype.toLowerCase()==n.subtype.toLowerCase())e|=2;else if("*"!=t.subtype)return null;var a=Object.keys(t.params);if(0<a.length){if(!a.every(function(e){return"*"==t.params[e]||(t.params[e]||"").toLowerCase()==(n.params[e]||"").toLowerCase()}))return null;e|=1}return{i:i,o:t.i,q:t.q,s:e}}(e,t[a],i);r&&(n.s-r.s||n.q-r.q||n.o-r.o)<0&&(n=r)}return n}function n(e,t){var i,n=a(void 0===e?"*/*":e||"");return t?(i=t.map(function(e,t){return r(e,n,t)})).filter(p).sort(o).map(function(e){return t[i.indexOf(e)]}):n.filter(p).sort(o).map(c)}function o(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function c(e){return e.type+"/"+e.subtype}function p(e){return 0<e.q}function u(e){for(var t=0,i=0;-1!==(i=e.indexOf('"',i));)t++,i++;return t}function d(e){var t,i,n=e.indexOf("=");return-1===n?t=e:(t=e.substr(0,n),i=e.substr(n+1)),[t,i]}},{}],362:[function(e,t,p){var y=process.env.DEBUG_NOPT||process.env.NOPT_DEBUG?function(){console.error.apply(console,arguments)}:function(){},n=e("url"),r=e("path"),a=e("stream").Stream,g=e("abbrev"),s=e("os");function o(a,r,s){s=s||p.typeDefs;var o={},c=[!1,!0,null,String,Array];Object.keys(a).forEach(function(i){var e,t,n;"argv"!==i&&(e=a[i],(t=Array.isArray(e))||(e=[e]),(n=(n=r[i])||c)===Array&&(n=c.concat(Array)),Array.isArray(n)||(n=[n]),y("val=%j",e),y("types=",n),(e=e.map(function(e){if("string"==typeof e&&(y("string %j",e),"null"===(e=e.trim())&&~n.indexOf(null)||"true"===e&&(~n.indexOf(!0)||~n.indexOf(Boolean))||"false"===e&&(~n.indexOf(!1)||~n.indexOf(Boolean))?(e=JSON.parse(e),y("jsonable %j",e)):~n.indexOf(Number)&&!isNaN(e)?(y("convert to number",e),e=+e):~n.indexOf(Date)&&!isNaN(Date.parse(e))&&(y("convert to date",e),e=new Date(e))),!r.hasOwnProperty(i))return e;!1!==e||!~n.indexOf(null)||~n.indexOf(!1)||~n.indexOf(Boolean)||(e=null);var t={};return t[i]=e,y("prevalidated val",t,e,r[i]),function e(t,i,n,a,r){if(Array.isArray(a)){for(var s=0,o=a.length;s<o;s++)if(a[s]!==Array&&e(t,i,n,a[s],r))return!0;return delete t[i],!1}if(a===Array)return!0;if(a!=a)return y("Poison NaN",i,n,a),delete t[i],!1;if(n===a)return y("Explicitly allowed %j",n),t[i]=n,!0;var c=!1,p=Object.keys(r);for(s=0,o=p.length;s<o;s++){y("test type %j %j %j",i,n,p[s]);var l=r[p[s]];if(l&&(a&&a.name&&l.type&&l.type.name?a.name===l.type.name:a===l.type)){var u={};if(c=!1!==l.validate(u,i,n),n=u[i],c){t[i]=n;break}}}y("OK? %j (%j %j %j)",c,i,n,p[s]);c||delete t[i];return c}(t,i,e,r[i],s)?(y("validated val",t,e,r[i]),t[i]):(p.invalidHandler?p.invalidHandler(i,e,r[i],a):!1!==p.invalidHandler&&y("invalid: "+i+"="+e,r[i]),o)}).filter(function(e){return e!==o})).length||-1!==n.indexOf(Array)?t?(y(t,a[i],e),a[i]=e):a[i]=e[0]:(y("VAL HAS NO LENGTH, DELETE IT",e,i,n.indexOf(Array)),delete a[i]),y("k=%s val=%j",i,e,a[i]))})}t.exports=p=function(e,t,i,n){i=i||process.argv,"number"!=typeof n&&(n=2);y(e=e||{},t=t||{},i,n),i=i.slice(n);var n={},a={remain:[],cooked:i,original:i.slice(0)};return function(e,t,i,n,a){y("parse",e,t,i);for(var r=g(Object.keys(n)),s=g(Object.keys(a)),o=0;o<e.length;o++){var c=e[o];if(y("arg",c),c.match(/^-{2,}$/)){i.push.apply(i,e.slice(o+1)),e[o]="--";break}var p=!1;if("-"===c.charAt(0)&&1<c.length){var l=c.indexOf("="),l=(-1<l&&(p=!0,d=c.substr(l+1),c=c.substr(0,l),e.splice(o,1,c,d)),function(e,t,i,n){if(e=e.replace(/^-+/,""),n[e]===e)return null;if(!t[e]){var a=t.___singles,r=(a||(a=Object.keys(t).filter(function(e){return 1===e.length}).reduce(function(e,t){return e[t]=!0,e},{}),t.___singles=a,y("shorthand singles",a)),e.split("").filter(function(e){return a[e]}));if(r.join("")===e)return r.map(function(e){return t[e]}).reduce(function(e,t){return e.concat(t)},[]);if(n[e]&&!t[e])return null;i[e]&&(e=i[e])}return t[e]&&!Array.isArray(t[e])&&(t[e]=t[e].split(/\s+/)),t[e]}(c,a,s,r));if(y("arg=%j shRes=%j",c,l),l&&(y(c,l),e.splice.apply(e,[o,1].concat(l)),c!==l[0]))o--;else{c=c.replace(/^-+/,"");for(var u=null;0===c.toLowerCase().indexOf("no-");)u=!u,c=c.substr(3);r[c]&&(c=r[c]);var d=n[c],l=Array.isArray(d),h=(l&&1===d.length&&(l=!1,d=d[0]),d===Array||l&&-1!==d.indexOf(Array));!n.hasOwnProperty(c)&&t.hasOwnProperty(c)&&(Array.isArray(t[c])||(t[c]=[t[c]]),h=!0);var f,m=e[o+1];"boolean"==typeof u||d===Boolean||l&&-1!==d.indexOf(Boolean)||void 0===d&&!p||"false"===m&&(null===d||l&&~d.indexOf(null))?(f=!u,"true"!==m&&"false"!==m||(f=JSON.parse(m),m=null,u&&(f=!f),o++),l&&m&&(~d.indexOf(m)?(f=m,o++):"null"===m&&~d.indexOf(null)?(f=null,o++):m.match(/^-{2,}[^-]/)||isNaN(m)||!~d.indexOf(Number)?!m.match(/^-[^-]/)&&~d.indexOf(String)&&(f=m,o++):(f=+m,o++)),h?(t[c]=t[c]||[]).push(f):t[c]=f):(d===String&&(void 0===m?m="":m.match(/^-{1,2}[^-]+/)&&(m="",o--)),m&&m.match(/^-{2,}$/)&&(m=void 0,o--),f=void 0===m||m,h?(t[c]=t[c]||[]).push(f):t[c]=f,o++)}}else i.push(c)}}(i,n,a.remain,e,t),o(n,e,p.typeDefs),n.argv=a,Object.defineProperty(n.argv,"toString",{value:function(){return this.original.map(JSON.stringify).join(" ")},enumerable:!1}),n},p.clean=o,p.typeDefs={String:{type:String,validate:function(e,t,i){e[t]=String(i)}},Boolean:{type:Boolean,validate:function(e,t,i){i=i instanceof Boolean?i.valueOf():"string"==typeof i?isNaN(i)?"null"!==i&&"false"!==i:!!+i:!!i;e[t]=i}},url:{type:n,validate:function(e,t,i){if(!(i=n.parse(String(i))).host)return!1;e[t]=i.href}},Number:{type:Number,validate:function(e,t,i){if(y("validate Number %j %j %j",t,i,isNaN(i)),isNaN(i))return!1;e[t]=+i}},path:{type:r,validate:function(e,t,i){var n,a;return!0!==i&&(null!==i&&(i=String(i),n="win32"===process.platform?/^~(\/|\\)/:/^~\//,(a=s.homedir())&&i.match(n)?e[t]=r.resolve(a,i.substr(2)):e[t]=r.resolve(i)),!0)}},Stream:{type:a,validate:function(e,t,i){if(!(i instanceof a))return!1;e[t]=i}},Date:{type:Date,validate:function(e,t,i){var n=Date.parse(i);if(y("validate Date %j %j %j",t,i,n),isNaN(n))return!1;e[t]=new Date(i)}}}},{abbrev:80,os:void 0,path:void 0,stream:void 0,url:void 0}],363:[function(e,t,i){"use strict";function n(i){return Object.keys(p).forEach(function(t){var e;"_"===t[0]||h.filter(function(e){return e===t}).length||i[t]||"function"==typeof p[t]&&(e=p[t],i[t]=function(){return e.apply(p,arguments)})}),i instanceof s.TrackerGroup&&h.forEach(function(e){var t=i[e];i[e]=function(){return n(t.apply(i,arguments))}}),i}var a,r,s=e("are-we-there-yet"),o=e("gauge"),c=e("events").EventEmitter,p=t.exports=new c,l=e("util"),t=e("set-blocking"),u=e("console-control-strings"),d=(t(!0),process.stderr),h=(Object.defineProperty(p,"stream",{set:function(e){d=e,this.gauge&&this.gauge.setWriteTo(d,d)},get:function(){return d}}),p.useColor=function(){return null!=a?a:d.isTTY},p.enableColor=function(){a=!0,this.gauge.setTheme({hasColor:a,hasUnicode:r})},p.disableColor=function(){a=!1,this.gauge.setTheme({hasColor:a,hasUnicode:r})},p.level="info",p.gauge=new o(d,{enabled:!1,theme:{hasColor:p.useColor()},template:[{type:"progressbar",length:20},{type:"activityIndicator",kerning:1,length:1},{type:"section",default:""},":",{type:"logline",kerning:1,default:""}]}),p.tracker=new s.TrackerGroup,p.progressEnabled=p.gauge.isEnabled(),p.enableUnicode=function(){r=!0,this.gauge.setTheme({hasColor:this.useColor(),hasUnicode:r})},p.disableUnicode=function(){r=!1,this.gauge.setTheme({hasColor:this.useColor(),hasUnicode:r})},p.setGaugeThemeset=function(e){this.gauge.setThemeset(e)},p.setGaugeTemplate=function(e){this.gauge.setTemplate(e)},p.enableProgress=function(){this.progressEnabled||(this.progressEnabled=!0,this.tracker.on("change",this.showProgress),this._paused)||this.gauge.enable()},p.disableProgress=function(){this.progressEnabled&&(this.progressEnabled=!1,this.tracker.removeListener("change",this.showProgress),this.gauge.disable())},["newGroup","newItem","newStream"]),f=(h.forEach(function(e){p[e]=function(){return n(this.tracker[e].apply(this.tracker,arguments))}}),p.clearProgress=function(e){if(!this.progressEnabled)return e&&process.nextTick(e);this.gauge.hide(e)},p.showProgress=function(e,t){var i,n;this.progressEnabled&&(i={},e&&(i.section=e),(e=p.record[p.record.length-1])&&(i.subsection=e.prefix,n=p.disp[e.level]||e.level,n=this._format(n,p.style[e.level]),e.prefix&&(n+=" "+this._format(e.prefix,this.prefixStyle)),n+=" "+e.message.split(/\r?\n/)[0],i.logline=n),i.completed=t||this.tracker.completed(),this.gauge.show(i))}.bind(p),p.pause=function(){this._paused=!0,this.progressEnabled&&this.gauge.disable()},p.resume=function(){var e;this._paused&&(this._paused=!1,e=this._buffer,this._buffer=[],e.forEach(function(e){this.emitLog(e)},this),this.progressEnabled)&&this.gauge.enable()},p._buffer=[],0);p.record=[],p.maxRecordSize=1e4,p.log=function(e,t,i){if(void 0===this.levels[e])return this.emit("error",new Error(l.format("Undefined log level: %j",e)));for(var n=new Array(arguments.length-2),a=null,r=2;r<arguments.length;r++){var s=n[r-2]=arguments[r];"object"==typeof s&&s instanceof Error&&s.stack&&Object.defineProperty(s,"stack",{value:a=s.stack+"",enumerable:!0,writable:!0})}a&&n.unshift(a+"\n"),i=l.format.apply(l,n);t={id:f++,level:e,prefix:String(t||""),message:i,messageRaw:n},this.emit("log",t),this.emit("log."+e,t),t.prefix&&this.emit(t.prefix,t),this.record.push(t),i=this.maxRecordSize;i/10<this.record.length-i&&(e=Math.floor(.9*i),this.record=this.record.slice(-1*e)),this.emitLog(t)}.bind(p),p.emitLog=function(i){var e,n;this._paused?this._buffer.push(i):(this.progressEnabled&&this.gauge.pulse(i.prefix),void 0===(e=this.levels[i.level])||e<this.levels[this.level]||0<e&&!isFinite(e)||(n=null!=p.disp[i.level]?p.disp[i.level]:i.level,this.clearProgress(),i.message.split(/\r?\n/).forEach(function(e){this.heading&&(this.write(this.heading,this.headingStyle),this.write(" ")),this.write(n,p.style[i.level]);var t=i.prefix||"";t&&this.write(" "),this.write(t,this.prefixStyle),this.write(" "+e+"\n")},this),this.showProgress()))},p._format=function(e,t){var i,n;if(d)return i="",this.useColor()&&(n=[],(t=t||{}).fg&&n.push(t.fg),t.bg&&n.push("bg"+t.bg[0].toUpperCase()+t.bg.slice(1)),t.bold&&n.push("bold"),t.underline&&n.push("underline"),t.inverse&&n.push("inverse"),n.length&&(i+=u.color(n)),t.beep)&&(i+=u.beep()),i+=e,this.useColor()&&(i+=u.color("reset")),i},p.write=function(e,t){d&&d.write(this._format(e,t))},p.addLevel=function(i,e,t,n){null==n&&(n=i),this.levels[i]=e,this.style[i]=t,this[i]||(this[i]=function(){var e=new Array(arguments.length+1);e[0]=i;for(var t=0;t<arguments.length;t++)e[t+1]=arguments[t];return this.log.apply(this,e)}.bind(this)),this.disp[i]=n},p.prefixStyle={fg:"magenta"},p.headingStyle={fg:"white",bg:"black"},p.style={},p.levels={},p.disp={},p.addLevel("silly",-1/0,{inverse:!0},"sill"),p.addLevel("verbose",1e3,{fg:"blue",bg:"black"},"verb"),p.addLevel("info",2e3,{fg:"green"}),p.addLevel("timing",2500,{fg:"green",bg:"black"}),p.addLevel("http",3e3,{fg:"green",bg:"black"}),p.addLevel("notice",3500,{fg:"blue",bg:"black"}),p.addLevel("warn",4e3,{fg:"black",bg:"yellow"},"WARN"),p.addLevel("error",5e3,{fg:"red",bg:"black"},"ERR!"),p.addLevel("silent",1/0),p.on("error",function(){})},{"are-we-there-yet":84,"console-control-strings":119,events:void 0,gauge:289,"set-blocking":473,util:void 0}],364:[function(e,t,i){"use strict";var c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(Object.assign){var e=new String("abc");if(e[5]="de","5"!==Object.getOwnPropertyNames(e)[0]){for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var n,a=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"===a.join(""))return n={},"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")?1:void 0}}}catch(e){}}()?Object.assign:function(e,t){for(var i,n=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var r in i=Object(arguments[a]))p.call(i,r)&&(n[r]=i[r]);if(c)for(var s=c(i),o=0;o<s.length;o++)l.call(i,s[o])&&(n[s[o]]=i[s[o]])}return n}},{}],365:[function(i,n,r){var e="function"==typeof Map&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,b=e&&t&&"function"==typeof t.get?t.get:null,x=e&&Map.prototype.forEach,t="function"==typeof Set&&Set.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_=t&&e&&"function"==typeof e.get?e.get:null,w=t&&Set.prototype.forEach,k="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,E="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,S="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Q=Boolean.prototype.valueOf,s=Object.prototype.toString,J=Function.prototype.toString,Z=String.prototype.match,D=String.prototype.slice,C=String.prototype.replace,o=String.prototype.toUpperCase,T=String.prototype.toLowerCase,l=RegExp.prototype.test,A=Array.prototype.concat,O=Array.prototype.join,X=Array.prototype.slice,a=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,u=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"==typeof Symbol&&"object"==typeof Symbol.iterator,j="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,N=Object.prototype.propertyIsEnumerable,M=("function"==typeof Reflect?Reflect:Object).getPrototypeOf||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L(e,t){if(e===1/0||e===-1/0||e!=e||e&&-1e3<e&&e<1e3||l.call(/e/,t))return t;var i=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-a(-e):a(e);if(n!==e)return e=String(n),n=D.call(t,e.length+1),C.call(e,i,"$&_")+"."+C.call(C.call(n,/([0-9]{3})/g,"$&_"),/_$/,"")}return C.call(t,i,"$&_")}var B=i("./util.inspect"),e=B.custom,F=z(e)?e:null;function q(e,t,i){i="double"===(i.quoteStyle||t)?'"':"'";return i+e+i}function U(e){return!("[object Array]"!==W(e)||j&&"object"==typeof e&&j in e)}function H(e){return!("[object RegExp]"!==W(e)||j&&"object"==typeof e&&j in e)}function z(e){if(R)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return 1;if(e&&"object"==typeof e&&P)try{return P.call(e),1}catch(e){}}n.exports=function n(i,e,a,r){var s=e||{};if(G(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');e=!G(s,"customInspect")||s.customInspect;if("boolean"!=typeof e&&"symbol"!==e)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&0<s.indent))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var t=s.numericSeparator;if(void 0===i)return"undefined";if(null===i)return"null";if("boolean"==typeof i)return i?"true":"false";if("string"==typeof i)return function e(t,i){if(t.length>i.maxStringLength)return n=t.length-i.maxStringLength,n="... "+n+" more character"+(1<n?"s":""),e(D.call(t,0,i.maxStringLength),i)+n;var n=C.call(C.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,te);return q(n,"single",i)}(i,s);if("number"==typeof i)return 0===i?0<1/0/i?"0":"-0":(f=String(i),t?L(i,f):f);if("bigint"==typeof i)return f=String(i)+"n",t?L(i,f):f;t=void 0===s.depth?5:s.depth;if(t<=(a=void 0===a?0:a)&&0<t&&"object"==typeof i)return U(i)?"[Array]":"[Object]";var o,c,p,l,u,d,h,f=function(e,t){var i;if("\t"===e.indent)i="\t";else{if(!("number"==typeof e.indent&&0<e.indent))return null;i=O.call(Array(e.indent+1)," ")}return{base:i,prev:O.call(Array(t+1),i)}}(s,a);if(void 0===r)r=[];else if(0<=ee(r,i))return"[Circular]";function m(e,t,i){return t&&(r=X.call(r)).push(t),i?(t={depth:s.depth},G(s,"quoteStyle")&&(t.quoteStyle=s.quoteStyle),n(e,t,a+1,r)):n(e,s,a+1,r)}if("function"==typeof i&&!H(i))return"[Function"+((c=function(e){if(e.name)return e.name;e=Z.call(J.call(e),/^function\s*([\w$]+)/);if(e)return e[1];return null}(i))?": "+c:" (anonymous)")+"]"+(0<(c=Y(i,m)).length?" { "+O.call(c,", ")+" }":"");if(z(i))return c=R?C.call(String(i),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(i),"object"!=typeof i||R?c:K(c);if(function(e){if(!e||"object"!=typeof e)return;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return 1;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(i)){for(var y="<"+T.call(String(i.nodeName)),g=i.attributes||[],v=0;v<g.length;v++)y+=" "+g[v].name+"="+q((o=g[v].value,C.call(String(o),/"/g,"&quot;")),"double",s);return y+=">",i.childNodes&&i.childNodes.length&&(y+="..."),y+="</"+T.call(String(i.nodeName))+">"}if(U(i))return 0===i.length?"[]":(c=Y(i,m),f&&!function(e){for(var t=0;t<e.length;t++)if(0<=ee(e[t],"\n"))return;return 1}(c)?"["+V(c,f)+"]":"[ "+O.call(c,", ")+" ]");if(!("[object Error]"!==W(c=i)||j&&"object"==typeof c&&j in c))return u=Y(i,m),"cause"in Error.prototype||!("cause"in i)||N.call(i,"cause")?0===u.length?"["+String(i)+"]":"{ ["+String(i)+"] "+O.call(u,", ")+" }":"{ ["+String(i)+"] "+O.call(A.call("[cause]: "+m(i.cause),u),", ")+" }";if("object"==typeof i&&e){if(F&&"function"==typeof i[F]&&B)return B(i,{depth:t-a});if("symbol"!==e&&"function"==typeof i.inspect)return i.inspect()}return function(e){if(b&&e&&"object"==typeof e)try{b.call(e);try{_.call(e)}catch(e){return 1}return e instanceof Map}catch(e){}return}(i)?(p=[],x&&x.call(i,function(e,t){p.push(m(t,i,!0)+" => "+m(e,i))}),ie("Map",b.call(i),p,f)):function(e){if(_&&e&&"object"==typeof e)try{_.call(e);try{b.call(e)}catch(e){return 1}return e instanceof Set}catch(e){}return}(i)?(l=[],w&&w.call(i,function(e){l.push(m(e,i))}),ie("Set",_.call(i),l,f)):function(e){if(k&&e&&"object"==typeof e)try{k.call(e,k);try{E.call(e,E)}catch(e){return 1}return e instanceof WeakMap}catch(e){}return}(i)?$("WeakMap"):function(e){if(E&&e&&"object"==typeof e)try{E.call(e,E);try{k.call(e,k)}catch(e){return 1}return e instanceof WeakSet}catch(e){}return}(i)?$("WeakSet"):function(e){if(S&&e&&"object"==typeof e)try{return S.call(e),1}catch(e){}return}(i)?$("WeakRef"):"[object Number]"!==W(u=i)||j&&"object"==typeof u&&j in u?function(e){if(e&&"object"==typeof e&&I)try{return I.call(e),1}catch(e){}return}(i)?K(m(I.call(i))):"[object Boolean]"!==W(t=i)||j&&"object"==typeof t&&j in t?"[object String]"!==W(e=i)||j&&"object"==typeof e&&j in e?("[object Date]"!==W(t=i)||j&&"object"==typeof t&&j in t)&&!H(i)?(e=Y(i,m),t=M?M(i)===Object.prototype:i instanceof Object||i.constructor===Object,d=i instanceof Object?"":"null prototype",h=!t&&j&&Object(i)===i&&j in i?D.call(W(i),8,-1):d?"Object":"",t=(!t&&"function"==typeof i.constructor&&i.constructor.name?i.constructor.name+" ":"")+(h||d?"["+O.call(A.call([],h||[],d||[]),": ")+"] ":""),0===e.length?t+"{}":f?t+"{"+V(e,f)+"}":t+"{ "+O.call(e,", ")+" }"):String(i):K(m(String(i))):K(Q.call(i)):K(m(Number(i)))};var c=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return c.call(e,t)}function W(e){return s.call(e)}function ee(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function te(e){var e=e.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+o.call(e.toString(16))}function K(e){return"Object("+e+")"}function $(e){return e+" { ? }"}function ie(e,t,i,n){return e+" ("+t+") {"+(n?V(i,n):O.call(i,", "))+"}"}function V(e,t){var i;return 0===e.length?"":(i="\n"+t.prev+t.base)+O.call(e,","+i)+"\n"+t.prev}function Y(e,t){var i=U(e),n=[];if(i){n.length=e.length;for(var a=0;a<e.length;a++)n[a]=G(e,a)?t(e[a],e):""}var r,s="function"==typeof u?u(e):[];if(R)for(var o={},c=0;c<s.length;c++)o["$"+s[c]]=s[c];for(r in e)!G(e,r)||i&&String(Number(r))===r&&r<e.length||R&&o["$"+r]instanceof Symbol||(l.call(/[^\w$]/,r)?n.push(t(r,e)+": "+t(e[r],e)):n.push(r+": "+t(e[r],e)));if("function"==typeof u)for(var p=0;p<s.length;p++)N.call(e,s[p])&&n.push("["+t(s[p])+"]: "+t(e[s[p]],e));return n}},{"./util.inspect":366}],366:[function(e,t,i){t.exports=e("util").inspect},{util:void 0}],367:[function(e,t,i){"use strict";t.exports=function(e,t){if(!1!==m(e))f(t,null,e);else{var i=e,n=i.__onFinished;if(!n||!n.queue){n=i.__onFinished=function(n){function a(e){if(n.__onFinished===a&&(n.__onFinished=null),a.queue){var t=a.queue;a.queue=null;for(var i=0;i<t.length;i++)t[i](e,n)}}return a.queue=[],a}(i);{var a=i;var r=n;var s,o,c,p,l=!1;function u(e){s.cancel(),o.cancel(),l=!0,r(e)}function d(e){a.removeListener("socket",d),l||s===o&&(o=h([[e,"error","close"]],u))}s=o=h([[a,"end","finish"]],u),a.socket?d(a.socket):(a.on("socket",d),void 0===a.socket&&(c=d,"function"==typeof(p=(i=a).assignSocket))&&(i.assignSocket=function(e){p.call(this,e),c(e)}))}}n.queue.push(t)}return e},t.exports.isFinished=m;var h=e("ee-first"),f="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function m(e){var t=e.socket;return"boolean"==typeof e.finished?Boolean(e.finished||t&&!t.writable):"boolean"==typeof e.complete?Boolean(e.upgrade||!t||!t.readable||e.complete&&!e.readable):void 0}},{"ee-first":182}],368:[function(e,t,i){e=e("wrappy");function n(e){function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))}return t.called=!1,t}function a(e){function t(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)}var i=e.name||"Function wrapped with `once`";return t.onceError=i+" shouldn't be called more than once",t.called=!1,t}t.exports=e(n),t.exports.strict=e(a),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return a(this)},configurable:!0})})},{wrappy:517}],369:[function(e,t,i){"use strict";var e=e("url"),s=e.parse,o=e.Url;function n(e){var t,i=e.url;if(void 0!==i)return r(i,t=e._parsedUrl)?t:((t=a(i))._raw=i,e._parsedUrl=t)}function a(e){if("string"!=typeof e||47!==e.charCodeAt(0))return s(e);for(var t=e,i=null,n=null,a=1;a<e.length;a++)switch(e.charCodeAt(a)){case 63:null===n&&(t=e.substring(0,a),i=e.substring(a+1),n=e.substring(a));break;case 9:case 10:case 12:case 13:case 32:case 35:case 160:case 65279:return s(e)}var r=void 0!==o?new o:{};return r.path=e,r.href=e,r.pathname=t,null!==n&&(r.query=i,r.search=n),r}function r(e,t){return"object"==typeof t&&null!==t&&(void 0===o||t instanceof o)&&t._raw===e}t.exports=n,t.exports.original=function(e){var t=e.originalUrl;if("string"!=typeof t)return n(e);var i=e._parsedOriginalUrl;if(r(t,i))return i;return(i=a(t))._raw=t,e._parsedOriginalUrl=i}},{url:void 0}],370:[function(e,t,i){"use strict";function n(e){return"/"===e.charAt(0)}function a(e){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),t=e[1]||"",t=Boolean(t&&":"!==t.charAt(1));return Boolean(e[2]||t)}t.exports="win32"===process.platform?a:n,t.exports.posix=n,t.exports.win32=a},{}],371:[function(e,t,i){t.exports=function t(e,c,i){i=i||{};c=c||[];var n=i.strict;var a=!1!==i.end;var r=i.sensitive?"":"i";var p=0;var s=c.length;var o=0;var l=0;var u;if(e instanceof RegExp){for(;u=f.exec(e.source);)c.push({name:l++,optional:!1,offset:u.index});return e}if(Array.isArray(e))return e=e.map(function(e){return t(e,c,i).source}),new RegExp("(?:"+e.join("|")+")",r);e=("^"+e+(n?"":"/"===e[e.length-1]?"?":"/?")).replace(/\/\(/g,"/(?:").replace(/([\/\.])/g,"\\$1").replace(/(\\\/)?(\\\.)?:(\w+)(\(.*?\))?(\*)?(\?)?/g,function(e,t,i,n,a,r,s,o){t=t||"",i=i||"",a=a||"([^\\/"+i+"]+?)",s=s||"",c.push({name:n,optional:!!s,offset:o+p});n=(s?"":t)+"(?:"+i+(s?t:"")+a+(r?"((?:[\\/"+i+"].+?)?)":"")+")"+s;return p+=n.length-e.length,n}).replace(/\*/g,function(e,t){for(var i=c.length;i-- >s&&c[i].offset>t;)c[i].offset+=3;return"(.*)"});for(;u=f.exec(e);){for(var d=0,h=u.index;"\\"===e.charAt(--h);)d++;d%2!=1&&((s+o===c.length||c[s+o].offset>u.index)&&c.splice(s+o,0,{name:l++,optional:!1,offset:u.index}),o++)}e+=a?"$":"/"===e[e.length-1]?"":"(?=\\/|$)";return new RegExp(e,r)};var f=/\((?!\?)/g},{}],372:[function(e,t,i){"use strict";t.exports=function(e,t){if(!e)throw new TypeError("req argument is required");if(t)return(e=n(e,t))[e.length-1];throw new TypeError("trust argument is required")},t.exports.all=n,t.exports.compile=r;var a=e("forwarded"),t=e("ipaddr.js"),l=/^[0-9]+$/,u=t.isValid,d=t.parse,h={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function n(e,t){var i=a(e);if(t){"function"!=typeof t&&(t=r(t));for(var n=0;n<i.length-1;n++)t(i[n],n)||(i.length=n+1)}return i}function r(e){if(!e)throw new TypeError("argument is required");var t;if("string"==typeof e)t=[e];else{if(!Array.isArray(e))throw new TypeError("unsupported trust argument");t=e.slice()}for(var i,n=0;n<t.length;n++)e=t[n],Object.prototype.hasOwnProperty.call(h,e)&&(e=h[e],t.splice.apply(t,[n,1].concat(e)),n+=e.length-1);{var a,r,s,o,c,p;return(i=function(e){for(var t=new Array(e.length),i=0;i<e.length;i++)t[i]=function(e){var t=e.lastIndexOf("/"),i=-1!==t?e.substring(0,t):e;if(!u(i))throw new TypeError("invalid IP address: "+i);i=d(i);-1===t&&"ipv6"===i.kind()&&i.isIPv4MappedAddress()&&(i=i.toIPv4Address());var n="ipv6"===i.kind()?128:32,t=-1!==t?e.substring(t+1,e.length):null;t=null===t?n:l.test(t)?parseInt(t,10):"ipv4"===i.kind()&&u(t)?function(e){e=d(e);return"ipv4"===e.kind()?e.prefixLengthFromSubnetMask():null}(t):null;if(t<=0||n<t)throw new TypeError("invalid range on address: "+e);return[i,t]}(e[i]);return t}(t),0===(a=i.length))?f:1===a?(a=i[0],r=a[0],s=r.kind(),o="ipv4"===s,c=a[1],function(e){if(!u(e))return!1;e=d(e);if(e.kind()!==s){if(o&&!e.isIPv4MappedAddress())return!1;e=o?e.toIPv4Address():e.toIPv4MappedAddress()}return e.match(r,c)}):(p=i,function(e){if(u(e))for(var t,i=d(e),n=i.kind(),a=0;a<p.length;a++){var r=p[a],s=r[0],o=s.kind(),r=r[1],c=i;if(n!==o){if("ipv4"===o&&!i.isIPv4MappedAddress())continue;c=t=t||("ipv4"===o?i.toIPv4Address():i.toIPv4MappedAddress())}if(c.match(s,r))return!0}return!1})}}function f(){return!1}},{forwarded:280,"ipaddr.js":337}],373:[function(e,t,i){"use strict";var n=String.prototype.replace,a=/%20/g,r="RFC1738",s="RFC3986";t.exports={default:s,formatters:{RFC1738:function(e){return n.call(e,a,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:s}},{}],374:[function(e,t,i){"use strict";var n=e("./stringify"),a=e("./parse"),e=e("./formats");t.exports={formats:e,parse:a,stringify:n}},{"./formats":373,"./parse":375,"./stringify":376}],375:[function(e,t,i){"use strict";function c(e,t){var i,n,a,r,s={},e=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,c=e.split(t.delimiter,o),p=-1,l=t.charset;if(t.charsetSentinel)for(i=0;i<c.length;++i)0===c[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[i]?l="utf-8":"utf8=%26%2310003%3B"===c[i]&&(l="iso-8859-1"),p=i,i=c.length);for(i=0;i<c.length;++i)i!==p&&((r=-1===(r=-1===(r=(n=c[i]).indexOf("]="))?n.indexOf("="):r+1)?(a=t.decoder(n,h.decoder,l,"key"),t.strictNullHandling?null:""):(a=t.decoder(n.slice(0,r),h.decoder,l,"key"),u.maybeMap(v(n.slice(r+1),t),function(e){return t.decoder(e,h.decoder,l,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===l&&(r=r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<n.indexOf("[]=")&&(r=d(r)?[r]:r),g.call(s,a)?s[a]=u.combine(s[a],r):s[a]=r);return s}function p(e,t,i,n){if(e){var a=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/g,s=0<i.depth&&/(\[[^[\]]*])/.exec(a),e=s?a.slice(0,s.index):a,o=[];if(e){if(!i.plainObjects&&g.call(Object.prototype,e)&&!i.allowPrototypes)return;o.push(e)}for(var c=0;0<i.depth&&null!==(s=r.exec(a))&&c<i.depth;){if(c+=1,!i.plainObjects&&g.call(Object.prototype,s[1].slice(1,-1))&&!i.allowPrototypes)return;o.push(s[1])}s&&o.push("["+a.slice(s.index)+"]");for(var p=o,e=t,l=i,u=n?e:v(e,l),d=p.length-1;0<=d;--d){var h,f,m,y=p[d];"[]"===y&&l.parseArrays?h=[].concat(u):(h=l.plainObjects?Object.create(null):{},f="["===y.charAt(0)&&"]"===y.charAt(y.length-1)?y.slice(1,-1):y,m=parseInt(f,10),l.parseArrays||""!==f?!isNaN(m)&&y!==f&&String(m)===f&&0<=m&&l.parseArrays&&m<=l.arrayLimit?(h=[])[m]=u:"__proto__"!==f&&(h[f]=u):h={0:u}),u=h}return u}}var u=e("./utils"),g=Object.prototype.hasOwnProperty,d=Array.isArray,h={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:u.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},v=function(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e};t.exports=function(e,t){var i=function(e){if(!e)return h;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?h:e).charset;return{allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:h).allowPrototypes,allowSparse:("boolean"==typeof e.allowSparse?e:h).allowSparse,arrayLimit:("number"==typeof e.arrayLimit?e:h).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:h).charsetSentinel,comma:("boolean"==typeof e.comma?e:h).comma,decoder:("function"==typeof e.decoder?e:h).decoder,delimiter:("string"==typeof e.delimiter||u.isRegExp(e.delimiter)?e:h).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:h.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:h).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:h).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:h).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:h).strictNullHandling}}(t);if(""===e||null==e)return i.plainObjects?Object.create(null):{};for(var n="string"==typeof e?c(e,i):e,a=i.plainObjects?Object.create(null):{},r=Object.keys(n),s=0;s<r.length;++s)var o=r[s],o=p(o,n[o],i,"string"==typeof e),a=u.merge(a,o,i);return!0===i.allowSparse?a:u.compact(a)}},{"./utils":377}],376:[function(e,t,i){"use strict";function P(e,t){n.apply(e,M(t)?t:[t])}function R(e,t,i,n,a,r,s,o,c,p,l,u,d,h,f,m){for(var y=e,g=m,v=0,b=!1;void 0!==(g=g.get(F))&&!b;){var x=g.get(e);if(v+=1,void 0!==x){if(x===v)throw new RangeError("Cyclic object value");b=!0}void 0===g.get(F)&&(v=0)}if("function"==typeof o?y=o(t,y):y instanceof Date?y=l(y):"comma"===i&&M(y)&&(y=N.maybeMap(y,function(e){return e instanceof Date?l(e):e})),null===y){if(a)return s&&!h?s(t,B.encoder,f,"key",u):t;y=""}if("string"==typeof(_=y)||"number"==typeof _||"boolean"==typeof _||"symbol"==typeof _||"bigint"==typeof _||N.isBuffer(y)){if(s){var _=h?t:s(t,B.encoder,f,"key",u);if("comma"===i&&h){for(var w=L.call(String(y),","),k="",E=0;E<w.length;++E)k+=(0===E?"":",")+d(s(w[E],B.encoder,f,"value",u));return[d(_)+(n&&M(y)&&1===w.length?"[]":"")+"="+k]}return[d(_)+"="+d(s(y,B.encoder,f,"value",u))]}return[d(t)+"="+d(String(y))]}var S=[];if(void 0!==y)for(var D,D="comma"===i&&M(y)?[{value:0<y.length?y.join(",")||null:void 0}]:M(o)?o:(_=Object.keys(y),c?_.sort(c):_),C=n&&M(y)&&1===y.length?t+"[]":t,T=0;T<D.length;++T){var A,O=D[T],I="object"==typeof O&&void 0!==O.value?O.value:y[O];r&&null===I||(O=M(y)?"function"==typeof i?i(C,O):C:C+(p?"."+O:"["+O+"]"),m.set(e,v),(A=j()).set(F,m),P(S,R(I,O,i,n,a,r,s,o,c,p,l,u,d,h,f,A)))}return S}var j=e("side-channel"),N=e("./utils"),u=e("./formats"),d=Object.prototype.hasOwnProperty,h={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},M=Array.isArray,L=String.prototype.split,n=Array.prototype.push,a=Date.prototype.toISOString,e=u.default,B={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:N.encode,encodeValuesOnly:!1,format:e,formatter:u.formatters[e],indices:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},F={};t.exports=function(e,t){var i=e,n=function(e){if(!e)return B;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||B.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=u.default;if(void 0!==e.format){if(!d.call(u.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=u.formatters[i],a=B.filter;return"function"!=typeof e.filter&&!M(e.filter)||(a=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:B).addQueryPrefix,allowDots:void 0===e.allowDots?B.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:B).charsetSentinel,delimiter:(void 0===e.delimiter?B:e).delimiter,encode:("boolean"==typeof e.encode?e:B).encode,encoder:("function"==typeof e.encoder?e:B).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:B).encodeValuesOnly,filter:a,format:i,formatter:n,serializeDate:("function"==typeof e.serializeDate?e:B).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:B).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:B).strictNullHandling}}(t),a=("function"==typeof n.filter?i=(0,n.filter)("",i):M(n.filter)&&(o=n.filter),[]);if("object"!=typeof i||null===i)return"";var e=t&&t.arrayFormat in h?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat",r=h[e];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s="comma"===r&&t&&t.commaRoundTrip,o=o||Object.keys(i);n.sort&&o.sort(n.sort);for(var c=j(),p=0;p<o.length;++p){var l=o[p];n.skipNulls&&null===i[l]||P(a,R(i[l],l,r,s,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}e=a.join(n.delimiter),t=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?t+="utf8=%26%2310003%3B&":t+="utf8=%E2%9C%93&"),0<e.length?t+e:""}},{"./formats":373,"./utils":377,"side-channel":475}],377:[function(e,t,i){"use strict";function o(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(i[n]=e[n]);return i}var p=e("./formats"),c=Object.prototype.hasOwnProperty,m=Array.isArray,l=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.exports={arrayToObject:o,assign:function(e,i){return Object.keys(i).reduce(function(e,t){return e[t]=i[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],n=0;n<t.length;++n)for(var a=t[n],r=a.obj[a.prop],s=Object.keys(r),o=0;o<s.length;++o){var c=s[o],p=r[c];"object"==typeof p&&null!==p&&-1===i.indexOf(p)&&(t.push({obj:r,prop:c}),i.push(p))}for(var l=t;1<l.length;){var u=l.pop(),d=u.obj[u.prop];if(m(d)){for(var h=[],f=0;f<d.length;++f)void 0!==d[f]&&h.push(d[f]);u.obj[u.prop]=h}}return e},decode:function(t,e,i){t=t.replace(/\+/g," ");if("iso-8859-1"===i)return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch(e){return t}},encode:function(e,t,i,n,a){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===i)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",o=0;o<r.length;++o){var c=r.charCodeAt(o);45===c||46===c||95===c||126===c||48<=c&&c<=57||65<=c&&c<=90||97<=c&&c<=122||a===p.RFC1738&&(40===c||41===c)?s+=r.charAt(o):c<128?s+=l[c]:c<2048?s+=l[192|c>>6]+l[128|63&c]:c<55296||57344<=c?s+=l[224|c>>12]+l[128|c>>6&63]+l[128|63&c]:(o+=1,c=65536+((1023&c)<<10|1023&r.charCodeAt(o)),s+=l[240|c>>18]+l[128|c>>12&63]+l[128|c>>6&63]+l[128|63&c])}return s},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(m(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i}return t(e)},merge:function n(a,r,s){if(!r)return a;if("object"!=typeof r){if(m(a))a.push(r);else{if(!a||"object"!=typeof a)return[a,r];(s&&(s.plainObjects||s.allowPrototypes)||!c.call(Object.prototype,r))&&(a[r]=!0)}return a}var e;return a&&"object"==typeof a?(m(e=a)&&!m(r)&&(e=o(a,s)),m(a)&&m(r)?(r.forEach(function(e,t){var i;c.call(a,t)?(i=a[t])&&"object"==typeof i&&e&&"object"==typeof e?a[t]=n(i,e,s):a.push(e):a[t]=e}),a):Object.keys(r).reduce(function(e,t){var i=r[t];return c.call(e,t)?e[t]=n(e[t],i,s):e[t]=i,e},e)):[a].concat(r)}}},{"./formats":373}],378:[function(e,t,i){"use strict";function p(e,t){return{start:e.start,end:e.end,index:t}}function l(e){return{start:e.start,end:e.end}}function u(e,t){return e.index-t.index}function d(e,t){return e.start-t.start}t.exports=function(e,t,i){if("string"!=typeof t)throw new TypeError("argument str must be a string");var n=t.indexOf("=");if(-1===n)return-2;var a=t.slice(n+1).split(","),r=[];r.type=t.slice(0,n);for(var s=0;s<a.length;s++){var o=a[s].split("-"),c=parseInt(o[0],10),o=parseInt(o[1],10);isNaN(c)?(c=e-o,o=e-1):isNaN(o)&&(o=e-1),e-1<o&&(o=e-1),isNaN(c)||isNaN(o)||o<c||c<0||r.push({start:c,end:o})}if(r.length<1)return-1;return i&&i.combine?function(e){for(var t=e.map(p).sort(d),i=0,n=1;n<t.length;n++){var a=t[n],r=t[i];a.start>r.end+1?t[++i]=a:a.end>r.end&&(r.end=a.end,r.index=Math.min(r.index,a.index))}t.length=i+1;var s=t.sort(u).map(l);return s.type=e.type,s}(r):r}},{}],379:[function(e,t,i){"use strict";var o=function(){try{return e("async_hooks")}catch(e){return{}}}(),c=e("bytes"),y=e("http-errors"),g=e("iconv-lite"),v=e("unpipe"),b=(t.exports=function(e,t,i){var n=t||{};!0!==t&&"string"!=typeof t||(n={encoding:t});"function"==typeof t&&(i=t,n={});if(void 0!==i&&"function"!=typeof i)throw new TypeError("argument callback must be a function");if(!i&&!global.Promise)throw new TypeError("argument callback is required");var a=!0!==n.encoding?n.encoding:"utf-8",r=c.parse(n.limit),s=null==n.length||isNaN(n.length)?null:parseInt(n.length,10);if(i)return p(e,a,s,r,function(e){var t;o.AsyncResource&&(t=new o.AsyncResource(e.name||"bound-anonymous-fn"));return t&&t.runInAsyncScope?t.runInAsyncScope.bind(t,e,null):e}(i));return new Promise(function(i,n){p(e,a,s,r,function(e,t){if(e)return n(e);i(t)})})},/^Encoding not recognized: /);function p(n,e,t,i,a){var r=!1,s=!0;if(null!==i&&null!==t&&i<t)return u(y(413,"request entity too large",{expected:t,length:t,limit:i,type:"entity.too.large"}));var o=n._readableState;if(n._decoder||o&&(o.encoding||o.decoder))return u(y(500,"stream encoding should not be set",{type:"stream.encoding.set"}));if(void 0!==n.readable&&!n.readable)return u(y(500,"stream is not readable",{type:"stream.not.readable"}));var c,p=0;try{c=function(t){if(!t)return null;try{return g.getDecoder(t)}catch(e){if(b.test(e.message))throw y(415,"specified encoding unsupported",{encoding:t,type:"encoding.unsupported"});throw e}}(e)}catch(e){return u(e)}var l=c?"":[];function u(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];function i(){var e;m(),t[0]&&(v(e=n),"function"==typeof e.pause)&&e.pause(),a.apply(null,t)}r=!0,s?process.nextTick(i):i()}function d(){r||u(y(400,"request aborted",{code:"ECONNABORTED",expected:t,length:t,received:p,type:"request.aborted"}))}function h(e){r||(p+=e.length,null!==i&&i<p?u(y(413,"request entity too large",{limit:i,received:p,type:"entity.too.large"})):c?l+=c.write(e):l.push(e))}function f(e){if(!r)return e?u(e):void(null!==t&&p!==t?u(y(400,"request size did not match content length",{expected:t,length:t,received:p,type:"request.size.invalid"})):u(null,c?l+(c.end()||""):Buffer.concat(l)))}function m(){l=null,n.removeListener("aborted",d),n.removeListener("data",h),n.removeListener("end",f),n.removeListener("error",f),n.removeListener("close",m)}n.on("aborted",d),n.on("close",m),n.on("data",h),n.on("end",f),n.on("error",f),s=!1}},{async_hooks:void 0,bytes:108,"http-errors":310,"iconv-lite":332,unpipe:512}],380:[function(e,t,i){"use strict";const a={};function n(e,n,t){class i extends(t=t||Error){constructor(e,t,i){super((e=e,t=t,i=i,"string"==typeof n?n:n(e,t,i)))}}i.prototype.name=t.name,i.prototype.code=e,a[e]=i}function p(e,t){var i;return Array.isArray(e)?(i=e.length,e=e.map(e=>String(e)),2<i?`one of ${t} ${e.slice(0,i-1).join(", ")}, or `+e[i-1]:2===i?`one of ${t} ${e[0]} or `+e[1]:`of ${t} `+e[0]):`of ${t} `+String(e)}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(e,t,i){let n;var a,r,s,o;"string"==typeof t&&(s="not ",t.substr(!r||r<0?0:+r,s.length)===s)?(n="must not be",t=t.replace(/^not /,"")):n="must be";let c;return r=e,s=" argument",(void 0===o||o>r.length)&&(o=r.length),c=r.substring(o-s.length,o)===s?`The ${e} ${n} `+p(t,"type"):(o=(a="number"!=typeof a?0:a)+(r=".").length>(o=e).length||-1===o.indexOf(r,a)?"argument":"property",`The "${e}" ${o} ${n} `+p(t,"type")),c+=". Received type "+typeof i},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=a},{}],381:[function(e,t,i){"use strict";var n=Object.keys||function(e){var t,i=[];for(t in e)i.push(t);return i},a=(t.exports=p,e("./_stream_readable")),r=e("./_stream_writable");e("inherits")(p,a);for(var s=n(r.prototype),o=0;o<s.length;o++){var c=s[o];p.prototype[c]||(p.prototype[c]=r.prototype[c])}function p(e){if(!(this instanceof p))return new p(e);a.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen)&&(this.allowHalfOpen=!1,this.once("end",l))}function l(){this._writableState.ended||process.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},{"./_stream_readable":383,"./_stream_writable":385,inherits:335}],382:[function(e,t,i){"use strict";t.exports=a;var n=e("./_stream_transform");function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}e("inherits")(a,n),a.prototype._transform=function(e,t,i){i(null,e)}},{"./_stream_transform":384,inherits:335}],383:[function(a,e,M){"use strict";function f(e,t){return e.listeners(t).length}(e.exports=_).ReadableState=x,a("events").EventEmitter;var n,r=a("./internal/streams/stream"),l=a("buffer").Buffer,u=global.Uint8Array||function(){};var s,t,i,e=a("util"),m=e&&e.debuglog?e.debuglog("stream"):function(){},o=a("./internal/streams/buffer_list"),e=a("./internal/streams/destroy"),c=a("./internal/streams/state").getHighWaterMark,p=a("../errors").codes,d=p.ERR_INVALID_ARG_TYPE,h=p.ERR_STREAM_PUSH_AFTER_EOF,y=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v=(a("inherits")(_,r),e.errorOrDestroy),b=["error","close","destroy","pause","resume"];function x(e,t,i){n=n||a("./_stream_duplex"),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=c(this,e,"readableHighWaterMark",i),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s=s||a("string_decoder/").StringDecoder,this.decoder=new s(e.encoding),this.encoding=e.encoding)}function _(e){if(n=n||a("./_stream_duplex"),!(this instanceof _))return new _(e);var t=this instanceof n;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy)&&(this._destroy=e.destroy),r.call(this)}function w(e,t,i,n,a){m("readableAddChunk",t);var r,s,o,c,p=e._readableState;if(null===t)p.reading=!1,s=e,o=p,m("onEofChunk"),o.ended||(o.decoder&&(c=o.decoder.end())&&c.length&&(o.buffer.push(c),o.length+=o.objectMode?1:c.length),o.ended=!0,o.sync?D(s):(o.needReadable=!1,o.emittedReadable||(o.emittedReadable=!0,C(s))));else if(r=a?r:function(e,t){var i;!function(e){return l.isBuffer(e)||e instanceof u}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(i=new d("chunk",["string","Buffer","Uint8Array"],t));return i}(p,t))v(e,r);else if(p.objectMode||t&&0<t.length)if("string"==typeof t||p.objectMode||Object.getPrototypeOf(t)===l.prototype||(c=t,t=l.from(c)),n)p.endEmitted?v(e,new g):k(e,p,t,!0);else if(p.ended)v(e,new h);else{if(p.destroyed)return!1;p.reading=!1,!p.decoder||i||(t=p.decoder.write(t),p.objectMode)||0!==t.length?k(e,p,t,!1):T(e,p)}else n||(p.reading=!1,T(e,p));return!p.ended&&(p.length<p.highWaterMark||0===p.length)}function k(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&D(e)),T(e,t)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=e.destroy,_.prototype._undestroy=e.undestroy,_.prototype._destroy=function(e,t){t(e)},_.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),i=!0),w(this,e,t,!1,i)},_.prototype.unshift=function(e){return w(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){for(var t=new(s=s||a("string_decoder/").StringDecoder)(e),i=(this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding,this._readableState.buffer.head),n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var E=1073741824;function S(e,t){var i;return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?(t.flowing&&t.length?t.buffer.head.data:t).length:(e>t.highWaterMark&&(t.highWaterMark=(E<=(i=e)?i=E:(i--,i=(i=(i=(i=(i|=i>>>1)|i>>>2)|i>>>4)|i>>>8)|i>>>16,i++),i)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;m("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(m("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(C,e))}function C(e){var t=e._readableState;m("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function T(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(A,e,t))}function A(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var i=t.length;if(m("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function I(e){m("readable nexttick read 0"),e.read(0)}function L(e,t){m("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(m("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){var i;return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i)}function j(e){var t=e._readableState;m("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(B,t,e))}function B(e,t){m("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy&&(!(e=t._writableState)||e.autoDestroy&&e.finished)&&t.destroy())}function N(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}_.prototype.read=function(e){m("read",e),e=parseInt(e,10);var t,i=this._readableState,n=e;return 0!==e&&(i.emittedReadable=!1),0===e&&i.needReadable&&((0!==i.highWaterMark?i.length>=i.highWaterMark:0<i.length)||i.ended)?(m("read: emitReadable",i.length,i.ended),(0===i.length&&i.ended?j:D)(this),null):0===(e=S(e,i))&&i.ended?(0===i.length&&j(this),null):(t=i.needReadable,m("need readable",t),(0===i.length||i.length-e<i.highWaterMark)&&m("length less than watermark",t=!0),i.ended||i.reading?m("reading or ended",t=!1):t&&(m("do read"),i.reading=!0,i.sync=!0,0===i.length&&(i.needReadable=!0),this._read(i.highWaterMark),i.sync=!1,i.reading||(e=S(n,i))),null===(t=0<e?R(e,i):null)?(i.needReadable=i.length<=i.highWaterMark,e=0):(i.length-=e,i.awaitDrain=0),0===i.length&&(i.ended||(i.needReadable=!0),n!==e)&&i.ended&&j(this),null!==t&&this.emit("data",t),t)},_.prototype._read=function(e){v(this,new y("_read()"))},_.prototype.pipe=function(i,e){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=i;break;case 1:a.pipes=[a.pipes,i];break;default:a.pipes.push(i)}a.pipesCount+=1,m("pipe count=%d opts=%j",a.pipesCount,e);e=(!e||!1!==e.end)&&i!==process.stdout&&i!==process.stderr?s:h;function r(e,t){m("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,m("cleanup"),i.removeListener("close",u),i.removeListener("finish",d),i.removeListener("drain",o),i.removeListener("error",l),i.removeListener("unpipe",r),n.removeListener("end",s),n.removeListener("end",h),n.removeListener("data",p),c=!0,!a.awaitDrain||i._writableState&&!i._writableState.needDrain||o())}function s(){m("onend"),i.end()}a.endEmitted?process.nextTick(e):n.once("end",e),i.on("unpipe",r);t=n;var t,o=function(){var e=t._readableState;m("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&f(t,"data")&&(e.flowing=!0,P(t))},c=(i.on("drain",o),!1);function p(e){m("ondata");e=i.write(e);m("dest.write",e),!1===e&&((1===a.pipesCount&&a.pipes===i||1<a.pipesCount&&-1!==N(a.pipes,i))&&!c&&(m("false write response, pause",a.awaitDrain),a.awaitDrain++),n.pause())}function l(e){m("onerror",e),h(),i.removeListener("error",l),0===f(i,"error")&&v(i,e)}function u(){i.removeListener("finish",d),h()}function d(){m("onfinish"),i.removeListener("close",u),h()}function h(){m("unpipe"),n.unpipe(i)}return n.on("data",p),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(i,"error",l),i.once("close",u),i.once("finish",d),i.emit("pipe",n),a.flowing||(m("pipe resume"),n.resume()),i},_.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0!==t.pipesCount)if(1===t.pipesCount)e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i));else if(e){var n=N(t.pipes,e);-1!==n&&(t.pipes.splice(n,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i))}else{var a=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<r;s++)a[s].emit("unpipe",this,{hasUnpiped:!1})}return this},_.prototype.addListener=_.prototype.on=function(e,t){var t=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=0<this.listenerCount("readable"),!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,m("on readable",i.length,i.reading),i.length?D(this):i.reading||process.nextTick(I,this)),t},_.prototype.removeListener=function(e,t){t=r.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(O,this),t},_.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(O,this),t},_.prototype.resume=function(){var e,t,i=this._readableState;return i.flowing||(m("resume"),i.flowing=!i.readableListening,e=this,(t=i).resumeScheduled)||(t.resumeScheduled=!0,process.nextTick(L,e,t)),i.paused=!1,this},_.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(t){var e,i=this,n=this._readableState,a=!1;for(e in t.on("end",function(){var e;m("wrapped end"),n.decoder&&!n.ended&&(e=n.decoder.end())&&e.length&&i.push(e),i.push(null)}),t.on("data",function(e){m("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e||(n.objectMode||e&&e.length)&&!i.push(e)&&(a=!0,t.pause())}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var r=0;r<b.length;r++)t.on(b[r],this.emit.bind(this,b[r]));return this._read=function(e){m("wrapped _read",e),a&&(a=!1,t.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return(t=void 0===t?a("./internal/streams/async_iterator"):t)(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),_._fromList=R,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(e,t){return(i=void 0===i?a("./internal/streams/from"):i)(_,e,t)})},{"../errors":380,"./_stream_duplex":381,"./internal/streams/async_iterator":386,"./internal/streams/buffer_list":387,"./internal/streams/destroy":388,"./internal/streams/from":390,"./internal/streams/state":392,"./internal/streams/stream":393,buffer:void 0,events:void 0,inherits:335,"string_decoder/":495,util:void 0}],384:[function(e,t,i){"use strict";t.exports=c;var t=e("../errors").codes,n=t.ERR_METHOD_NOT_IMPLEMENTED,a=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,o=e("./_stream_duplex");function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState,n=(i.transforming=!1,i.writecb);if(null===n)return this.emit("error",new a);i.writechunk=null,(i.writecb=null)!=t&&this.push(t),n(e),(i=this._readableState).reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush)&&(this._flush=e.flush),this.on("prefinish",p)}function p(){var i=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush(function(e,t){l(i,e,t)})}function l(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new s;if(e._transformState.transforming)throw new r;e.push(null)}e("inherits")(c,o),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,o.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,i){i(new n("_transform()"))},c.prototype._write=function(e,t,i){var n=this._transformState;n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming&&(i=this._readableState,n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){o.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":380,"./_stream_duplex":381,inherits:335}],385:[function(i,e,t){"use strict";function u(r){var s=this;this.next=null,this.entry=null,this.finish=function(){var e=s,t=r,i=void 0,n=e.entry;for(e.entry=null;n;){var a=n.callback;t.pendingcb--,a(i),n=n.next}t.corkedRequestsFree.next=e}}(e.exports=k).WritableState=w;var n,e={deprecate:i("util-deprecate")},a=i("./internal/streams/stream"),p=i("buffer").Buffer,l=global.Uint8Array||function(){};var r,s=i("./internal/streams/destroy"),o=i("./internal/streams/state").getHighWaterMark,c=i("../errors").codes,d=c.ERR_INVALID_ARG_TYPE,h=c.ERR_METHOD_NOT_IMPLEMENTED,f=c.ERR_MULTIPLE_CALLBACK,m=c.ERR_STREAM_CANNOT_PIPE,y=c.ERR_STREAM_DESTROYED,g=c.ERR_STREAM_NULL_VALUES,v=c.ERR_STREAM_WRITE_AFTER_END,b=c.ERR_UNKNOWN_ENCODING,x=s.errorOrDestroy;function _(){}function w(e,l,t){n=n||i("./_stream_duplex"),e=e||{},"boolean"!=typeof t&&(t=l instanceof n),this.objectMode=!!e.objectMode,t&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=o(this,e,"writableHighWaterMark",t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;t=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!t,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){var t=l,i=t._writableState,n=i.sync,a=i.writecb;if("function"!=typeof a)throw new f;var r,s,o,c,p=i;p.writing=!1,p.writecb=null,p.length-=p.writelen,p.writelen=0,e?(p=t,s=n,o=e,c=a,--(r=i).pendingcb,s?(process.nextTick(c,o),process.nextTick(A,p,r),p._writableState.errorEmitted=!0,x(p,o)):(c(o),p._writableState.errorEmitted=!0,x(p,o),A(p,r))):((e=C(i)||t.destroyed)||i.corked||i.bufferProcessing||!i.bufferedRequest||D(t,i),n?process.nextTick(S,t,i,e,a):S(t,i,e,a))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}i("inherits")(k,a),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(w.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}function k(e){var t=this instanceof(n=n||i("./_stream_duplex"));if(!t&&!r.call(k,this))return new k(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final)&&(this._final=e.final),a.call(this)}function E(e,t,i,n,a,r,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):i?e._writev(a,t.onwrite):e._write(a,r,t.onwrite),t.sync=!1}function S(e,t,i,n){var a;i||(i=e,0===(a=t).length&&a.needDrain&&(a.needDrain=!1,i.emit("drain"))),t.pendingcb--,n(),A(e,t)}function D(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){for(var n=t.bufferedRequestCount,a=new Array(n),n=t.corkedRequestsFree,r=(n.entry=i,0),s=!0;i;)(a[r]=i).isBuf||(s=!1),i=i.next,r+=1;a.allBuffers=s,E(e,t,!0,t.length,a,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new u(t),t.bufferedRequestCount=0}else{for(;i;){var o=i.chunk,c=i.encoding,p=i.callback;if(E(e,t,!1,t.objectMode?1:o.length,o,c,p),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(t,i){t._final(function(e){i.pendingcb--,e&&x(t,e),i.prefinished=!0,t.emit("prefinish"),A(t,i)})}function A(e,t){var i,n,a=C(t);return a&&(i=e,(n=t).prefinished||n.finalCalled||("function"!=typeof i._final||n.destroyed?(n.prefinished=!0,i.emit("prefinish")):(n.pendingcb++,n.finalCalled=!0,process.nextTick(T,i,n))),0===t.pendingcb)&&(t.finished=!0,e.emit("finish"),t.autoDestroy)&&(!(i=e._readableState)||i.autoDestroy&&i.endEmitted)&&e.destroy(),a}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!r.call(this,e)||this===k&&e&&e._writableState instanceof w}})):r=function(e){return e instanceof this},k.prototype.pipe=function(){x(this,new m)},k.prototype.write=function(e,t,i){var n,a,r,s=this._writableState,o=!1,c=!s.objectMode&&(c=e,p.isBuffer(c)||c instanceof l);return c&&!p.isBuffer(e)&&(n=e,e=p.from(n)),"function"==typeof t&&(i=t,t=null),t=c?"buffer":t||s.defaultEncoding,"function"!=typeof i&&(i=_),s.ending?(n=this,a=i,r=new v,x(n,r),process.nextTick(a,r)):(c||function(e,t,i,n){var a;if(null===i?a=new g:"string"==typeof i||t.objectMode||(a=new d("chunk",["string","Buffer"],i)),!a)return 1;x(e,a),process.nextTick(n,a)}(this,s,e,i))&&(s.pendingcb++,o=function(e,t,i,n,a,r){i||(s=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,i));return t}(t,n,a),n!==s&&(i=!0,a="buffer",n=s));var s=t.objectMode?1:n.length,o=(t.length+=s,t.length<t.highWaterMark);o||(t.needDrain=!0);{var c;t.writing||t.corked?(c=t.lastBufferedRequest,t.lastBufferedRequest={chunk:n,encoding:a,isBuf:i,callback:r,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):E(e,t,!1,s,n,a,r)}return o}(this,s,c,e,t,i)),o},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||D(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase()))return this._writableState.defaultEncoding=e,this;throw new b(e)},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,i){i(new h("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,i){var n=this._writableState;if("function"==typeof e?(i=e,t=e=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending){e=this,t=n,n=i;t.ending=!0,A(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}return this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=s.destroy,k.prototype._undestroy=s.undestroy,k.prototype._destroy=function(e,t){t(e)}},{"../errors":380,"./_stream_duplex":381,"./internal/streams/destroy":388,"./internal/streams/state":392,"./internal/streams/stream":393,buffer:void 0,inherits:335,"util-deprecate":513}],386:[function(e,t,i){"use strict";var n;function a(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var r=e("./end-of-stream"),s=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),p=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function f(e){var t,i=e[s];null!==i&&null!==(t=e[d].read())&&(e[l]=null,e[s]=null,e[o]=null,i(h(t,!1)))}var e=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((a(n={get stream(){return this[d]},next:function(){var i=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[p])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise(function(e,t){process.nextTick(function(){i[c]?t(i[c]):e(h(void 0,!0))})});var t,n,a,e=this[l];if(e)t=new Promise((n=e,a=this,function(e,t){n.then(function(){a[p]?e(h(void 0,!0)):a[u](e,t)},t)}));else{e=this[d].read();if(null!==e)return Promise.resolve(h(e,!1));t=new Promise(this[u])}return this[l]=t}},Symbol.asyncIterator,function(){return this}),a(n,"return",function(){var e=this;return new Promise(function(t,i){e[d].destroy(null,function(e){e?i(e):t(h(void 0,!0))})})}),n),e);t.exports=function(e){var t,n=Object.create(m,(a(t={},d,{value:e,writable:!0}),a(t,s,{value:null,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,c,{value:null,writable:!0}),a(t,p,{value:e._readableState.endEmitted,writable:!0}),a(t,u,{value:function(e,t){var i=n[d].read();i?(n[l]=null,n[s]=null,n[o]=null,e(h(i,!1))):(n[s]=e,n[o]=t)},writable:!0}),t));return n[l]=null,r(e,function(e){var t;e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code?(null!==(t=n[o])&&(n[l]=null,n[s]=null,n[o]=null,t(e)),n[c]=e):(null!==(t=n[s])&&(n[l]=null,n[s]=null,t(h(void 0,!(n[o]=null)))),n[p]=!0)}),e.on("readable",function(e){process.nextTick(f,e)}.bind(null,n)),n}},{"./end-of-stream":389}],387:[function(e,t,i){"use strict";function r(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function n(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach(function(e){var t,i;t=n,i=a[e=e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s,o=e("buffer").Buffer,c=e("util").inspect,e=c&&c.custom||"inspect";function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}t.exports=(t=p,(e=[{key:"push",value:function(e){e={data:e,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(e){e={data:e,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){var e;if(0!==this.length)return e=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,i,n=o.allocUnsafe(e>>>0),a=this.head,r=0;a;)t=a.data,i=r,o.prototype.copy.call(t,n,i),r+=a.data.length,a=a.next;return n}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,n=t.data;for(e-=n.length;t=t.next;){var a=t.data,r=e>a.length?a.length:e;if(r===a.length?n+=a:n+=a.slice(0,e),0===(e-=r)){r===a.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t).data=a.slice(r);break}++i}return this.length-=i,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),i=this.head,n=1;for(i.data.copy(t),e-=i.data.length;i=i.next;){var a=i.data,r=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,r),0===(e-=r)){r===a.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i).data=a.slice(r);break}++n}return this.length-=n,t}},{key:e,value:function(e,t){return c(this,n({},t,{depth:0,customInspect:!1}))}}])&&a(t.prototype,e),s&&a(t,s),p)},{buffer:void 0,util:void 0}],388:[function(e,t,i){"use strict";function r(e,t){o(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var i=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?i._writableState?i._writableState.errorEmitted?process.nextTick(s,i):(i._writableState.errorEmitted=!0,process.nextTick(r,i,e)):process.nextTick(r,i,e):t?(process.nextTick(s,i),t(e)):process.nextTick(s,i)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var i=e._readableState,n=e._writableState;i&&i.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},{}],389:[function(e,t,i){"use strict";var g=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function v(){}t.exports=function e(t,i,n){var a,r,s,o,c,p,l,u,d,h,f,m,y;return"function"==typeof i?e(t,null,i):(a=n||v,r=!1,n=function(){if(!r){r=!0;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.apply(this,t)}},s=(i=i||{}).readable||!1!==i.readable&&t.readable,o=i.writable||!1!==i.writable&&t.writable,c=function(){t.writable||l()},p=t._writableState&&t._writableState.finished,l=function(){p=!(o=!1),s||n.call(t)},u=t._readableState&&t._readableState.endEmitted,d=function(){u=!(s=!1),o||n.call(t)},h=function(e){n.call(t,e)},f=function(){var e;return s&&!u?(t._readableState&&t._readableState.ended||(e=new g),n.call(t,e)):o&&!p?(t._writableState&&t._writableState.ended||(e=new g),n.call(t,e)):void 0},m=function(){t.req.on("finish",l)},(y=t).setHeader&&"function"==typeof y.abort?(t.on("complete",l),t.on("abort",f),t.req?m():t.on("request",m)):o&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",l),!1!==i.error&&t.on("error",h),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",f)})}},{"../../../errors":380}],390:[function(e,t,i){"use strict";function p(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void i(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function r(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function o(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach(function(e){var t,i;t=n,i=a[e=e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}var l=e("../../../errors").codes.ERR_INVALID_ARG_TYPE;t.exports=function(e,t,i){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new l("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var a=new e(o({objectMode:!0},i)),r=!1;function s(){c.apply(this,arguments)}function c(){var o;return o=function*(){try{var e=yield n.next(),t=e.value;e.done?a.push(null):a.push(yield t)?s():r=!1}catch(e){a.destroy(e)}},(c=function(){var e=this,s=arguments;return new Promise(function(t,i){var n=o.apply(e,s);function a(e){p(n,t,i,a,r,"next",e)}function r(e){p(n,t,i,a,r,"throw",e)}a(void 0)})}).apply(this,arguments)}return a._read=function(){r||(r=!0,s())},a}},{"../../../errors":380}],391:[function(c,e,t){"use strict";var p;var i=c("../../../errors").codes,o=i.ERR_MISSING_ARGS,l=i.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function d(i,e,t,n){a=n,r=!1;var a,r,s=!(n=function(){r||(r=!0,a.apply(void 0,arguments))}),o=(i.on("close",function(){s=!0}),(p=void 0===p?c("./end-of-stream"):p)(i,{readable:e,writable:t},function(e){if(e)return n(e);s=!0,n()}),!1);return function(e){var t;if(!s&&!o)return o=!0,(t=i).setHeader&&"function"==typeof t.abort?i.abort():"function"==typeof i.destroy?i.destroy():void n(e||new l("pipe"))}}function h(e){e()}function f(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var i,a,r=!(i=n).length||"function"!=typeof i[i.length-1]?u:i.pop();if((n=Array.isArray(n[0])?n[0]:n).length<2)throw new o("streams");var s=n.map(function(e,t){var i=t<n.length-1;return d(e,i,0<t,function(e){a=a||e,e&&s.forEach(h),i||(s.forEach(h),r(a))})});return n.reduce(f)}},{"../../../errors":380,"./end-of-stream":389}],392:[function(e,t,i){"use strict";var s=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,i,n){r=n,a=i;var a,r=null!=(t=t).highWaterMark?t.highWaterMark:r?t[a]:null;if(null==r)return e.objectMode?16:16384;if(!isFinite(r)||Math.floor(r)!==r||r<0)throw new s(n?i:"highWaterMark",r);return Math.floor(r)}}},{"../../../errors":380}],393:[function(e,t,i){t.exports=e("stream")},{stream:void 0}],394:[function(e,t,i){var n=e("stream");"disable"===process.env.READABLE_STREAM&&n?(t.exports=n.Readable,Object.assign(t.exports,n),t.exports.Stream=n):((i=t.exports=e("./lib/_stream_readable.js")).Stream=n||i,(i.Readable=i).Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js"),i.finished=e("./lib/internal/streams/end-of-stream.js"),i.pipeline=e("./lib/internal/streams/pipeline.js"))},{"./lib/_stream_duplex.js":381,"./lib/_stream_passthrough.js":382,"./lib/_stream_readable.js":383,"./lib/_stream_transform.js":384,"./lib/_stream_writable.js":385,"./lib/internal/streams/end-of-stream.js":389,"./lib/internal/streams/pipeline.js":391,stream:void 0}],395:[function(e,t,i){t.exports={acl:{arity:-2,flags:["admin","noscript","loading","stale","skip_slowlog"],keyStart:0,keyStop:0,step:0},append:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},asking:{arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},auth:{arity:-2,flags:["noscript","loading","stale","skip_monitor","skip_slowlog","fast","no_auth"],keyStart:0,keyStop:0,step:0},bgrewriteaof:{arity:1,flags:["admin","noscript"],keyStart:0,keyStop:0,step:0},bgsave:{arity:-1,flags:["admin","noscript"],keyStart:0,keyStop:0,step:0},bitcount:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},bitfield:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},bitfield_ro:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},bitop:{arity:-4,flags:["write","denyoom"],keyStart:2,keyStop:-1,step:1},bitpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},blmove:{arity:6,flags:["write","denyoom","noscript"],keyStart:1,keyStop:2,step:1},blpop:{arity:-3,flags:["write","noscript"],keyStart:1,keyStop:-2,step:1},brpop:{arity:-3,flags:["write","noscript"],keyStart:1,keyStop:-2,step:1},brpoplpush:{arity:4,flags:["write","denyoom","noscript"],keyStart:1,keyStop:2,step:1},bzpopmax:{arity:-3,flags:["write","noscript","fast"],keyStart:1,keyStop:-2,step:1},bzpopmin:{arity:-3,flags:["write","noscript","fast"],keyStart:1,keyStop:-2,step:1},client:{arity:-2,flags:["admin","noscript","random","loading","stale"],keyStart:0,keyStop:0,step:0},cluster:{arity:-2,flags:["admin","random","stale"],keyStart:0,keyStop:0,step:0},command:{arity:-1,flags:["random","loading","stale"],keyStart:0,keyStop:0,step:0},config:{arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},copy:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},dbsize:{arity:1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},debug:{arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},decr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},decrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},del:{arity:-2,flags:["write"],keyStart:1,keyStop:-1,step:1},discard:{arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},dump:{arity:2,flags:["readonly","random"],keyStart:1,keyStop:1,step:1},echo:{arity:2,flags:["fast"],keyStart:0,keyStop:0,step:0},eval:{arity:-3,flags:["noscript","may_replicate","movablekeys"],keyStart:0,keyStop:0,step:0},evalsha:{arity:-3,flags:["noscript","may_replicate","movablekeys"],keyStart:0,keyStop:0,step:0},exec:{arity:1,flags:["noscript","loading","stale","skip_monitor","skip_slowlog"],keyStart:0,keyStop:0,step:0},exists:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},expire:{arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},expireat:{arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},failover:{arity:-1,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},flushall:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},flushdb:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},geoadd:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},geodist:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},geohash:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},geopos:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadius:{arity:-6,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadius_ro:{arity:-6,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadiusbymember:{arity:-5,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadiusbymember_ro:{arity:-5,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearch:{arity:-7,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearchstore:{arity:-8,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},get:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getbit:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getdel:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getex:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},getset:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},hello:{arity:-1,flags:["noscript","loading","stale","skip_monitor","skip_slowlog","fast","no_auth"],keyStart:0,keyStop:0,step:0},hexists:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hget:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hgetall:{arity:2,flags:["readonly","random"],keyStart:1,keyStop:1,step:1},hincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hincrbyfloat:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hkeys:{arity:2,flags:["readonly","sort_for_script"],keyStart:1,keyStop:1,step:1},hlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmget:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},"host:":{arity:-1,flags:["readonly","loading","stale"],keyStart:0,keyStop:0,step:0},hrandfield:{arity:-2,flags:["readonly","random"],keyStart:1,keyStop:1,step:1},hscan:{arity:-3,flags:["readonly","random"],keyStart:1,keyStop:1,step:1},hset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hsetnx:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hstrlen:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hvals:{arity:2,flags:["readonly","sort_for_script"],keyStart:1,keyStop:1,step:1},incr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrbyfloat:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},info:{arity:-1,flags:["random","loading","stale"],keyStart:0,keyStop:0,step:0},keys:{arity:2,flags:["readonly","sort_for_script"],keyStart:0,keyStop:0,step:0},lastsave:{arity:1,flags:["random","loading","stale","fast"],keyStart:0,keyStop:0,step:0},latency:{arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},lindex:{arity:3,flags:["readonly"],keyStart:1,keyStop:1,step:1},linsert:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},llen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},lmove:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},lolwut:{arity:-1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},lpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},lpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},lpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},lrem:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},lset:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},ltrim:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},memory:{arity:-2,flags:["readonly","random","movablekeys"],keyStart:0,keyStop:0,step:0},mget:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},migrate:{arity:-6,flags:["write","random","movablekeys"],keyStart:0,keyStop:0,step:0},module:{arity:-2,flags:["admin","noscript"],keyStart:0,keyStop:0,step:0},monitor:{arity:1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},move:{arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},mset:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},msetnx:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},multi:{arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},object:{arity:-2,flags:["readonly","random"],keyStart:2,keyStop:2,step:1},persist:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpire:{arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpireat:{arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pfadd:{arity:-2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},pfcount:{arity:-2,flags:["readonly","may_replicate"],keyStart:1,keyStop:-1,step:1},pfdebug:{arity:-3,flags:["write","denyoom","admin"],keyStart:2,keyStop:2,step:1},pfmerge:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},pfselftest:{arity:1,flags:["admin"],keyStart:0,keyStop:0,step:0},ping:{arity:-1,flags:["stale","fast"],keyStart:0,keyStop:0,step:0},post:{arity:-1,flags:["readonly","loading","stale"],keyStart:0,keyStop:0,step:0},psetex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},psubscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},psync:{arity:-3,flags:["admin","noscript"],keyStart:0,keyStop:0,step:0},pttl:{arity:2,flags:["readonly","random","fast"],keyStart:1,keyStop:1,step:1},publish:{arity:3,flags:["pubsub","loading","stale","fast","may_replicate"],keyStart:0,keyStop:0,step:0},pubsub:{arity:-2,flags:["pubsub","random","loading","stale"],keyStart:0,keyStop:0,step:0},punsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},quit:{arity:1,flags:["loading","stale","readonly"],keyStart:0,keyStop:0,step:0},randomkey:{arity:1,flags:["readonly","random"],keyStart:0,keyStop:0,step:0},readonly:{arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},readwrite:{arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},rename:{arity:3,flags:["write"],keyStart:1,keyStop:2,step:1},renamenx:{arity:3,flags:["write","fast"],keyStart:1,keyStop:2,step:1},replconf:{arity:-1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},replicaof:{arity:3,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},reset:{arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},restore:{arity:-4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},"restore-asking":{arity:-4,flags:["write","denyoom","asking"],keyStart:1,keyStop:1,step:1},role:{arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},rpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},rpoplpush:{arity:3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},rpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},rpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},sadd:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},save:{arity:1,flags:["admin","noscript"],keyStart:0,keyStop:0,step:0},scan:{arity:-2,flags:["readonly","random"],keyStart:0,keyStop:0,step:0},scard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},script:{arity:-2,flags:["noscript","may_replicate"],keyStart:0,keyStop:0,step:0},sdiff:{arity:-2,flags:["readonly","sort_for_script"],keyStart:1,keyStop:-1,step:1},sdiffstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},select:{arity:2,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},set:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setbit:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setnx:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},setrange:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},shutdown:{arity:-1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},sinter:{arity:-2,flags:["readonly","sort_for_script"],keyStart:1,keyStop:-1,step:1},sinterstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},sismember:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},slaveof:{arity:3,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},slowlog:{arity:-2,flags:["admin","random","loading","stale"],keyStart:0,keyStop:0,step:0},smembers:{arity:2,flags:["readonly","sort_for_script"],keyStart:1,keyStop:1,step:1},smismember:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},smove:{arity:4,flags:["write","fast"],keyStart:1,keyStop:2,step:1},sort:{arity:-2,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},spop:{arity:-2,flags:["write","random","fast"],keyStart:1,keyStop:1,step:1},srandmember:{arity:-2,flags:["readonly","random"],keyStart:1,keyStop:1,step:1},srem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},sscan:{arity:-3,flags:["readonly","random"],keyStart:1,keyStop:1,step:1},stralgo:{arity:-2,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},strlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},subscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},substr:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},sunion:{arity:-2,flags:["readonly","sort_for_script"],keyStart:1,keyStop:-1,step:1},sunionstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},swapdb:{arity:3,flags:["write","fast"],keyStart:0,keyStop:0,step:0},sync:{arity:1,flags:["admin","noscript"],keyStart:0,keyStop:0,step:0},time:{arity:1,flags:["random","loading","stale","fast"],keyStart:0,keyStop:0,step:0},touch:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},ttl:{arity:2,flags:["readonly","random","fast"],keyStart:1,keyStop:1,step:1},type:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},unlink:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:-1,step:1},unsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},unwatch:{arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},wait:{arity:3,flags:["noscript"],keyStart:0,keyStop:0,step:0},watch:{arity:-2,flags:["noscript","loading","stale","fast"],keyStart:1,keyStop:-1,step:1},xack:{arity:-4,flags:["write","random","fast"],keyStart:1,keyStop:1,step:1},xadd:{arity:-5,flags:["write","denyoom","random","fast"],keyStart:1,keyStop:1,step:1},xautoclaim:{arity:-6,flags:["write","random","fast"],keyStart:1,keyStop:1,step:1},xclaim:{arity:-6,flags:["write","random","fast"],keyStart:1,keyStop:1,step:1},xdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xgroup:{arity:-2,flags:["write","denyoom"],keyStart:2,keyStop:2,step:1},xinfo:{arity:-2,flags:["readonly","random"],keyStart:2,keyStop:2,step:1},xlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},xpending:{arity:-3,flags:["readonly","random"],keyStart:1,keyStop:1,step:1},xrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xread:{arity:-4,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},xreadgroup:{arity:-7,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},xrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xsetid:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xtrim:{arity:-2,flags:["write","random"],keyStart:1,keyStop:1,step:1},zadd:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zcard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zdiff:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zdiffstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zinter:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zinterstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zlexcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zmscore:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zpopmax:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zpopmin:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zrandmember:{arity:-2,flags:["readonly","random"],keyStart:1,keyStop:1,step:1},zrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangestore:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},zrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zrem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zremrangebylex:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyrank:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyscore:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zscan:{arity:-3,flags:["readonly","random"],keyStart:1,keyStop:1,step:1},zscore:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zunion:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zunionstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1}}},{}],396:[function(e,t,i){"use strict";var u=e("./commands.json"),n=(i.list=Object.keys(u),{});function d(e){var t=(e="string"!=typeof e?String(e):e).indexOf("->");return-1===t?e.length:t}i.list.forEach(function(e){n[e]=u[e].flags.reduce(function(e,t){return e[t]=!0,e},{})}),i.exists=function(e){return Boolean(u[e])},i.hasFlag=function(e,t){if(n[e])return Boolean(n[e][t]);throw new Error("Unknown command "+e)},i.getKeyIndexes=function(e,t,i){var n=u[e];if(!n)throw new Error("Unknown command "+e);if(!Array.isArray(t))throw new Error("Expect args to be an array");var a,r,s,o,c,p=[];switch(e){case"zunionstore":case"zinterstore":p.push(0);case"eval":case"evalsha":for(s=Number(t[1])+2,a=2;a<s;a++)p.push(a);break;case"sort":for(o=i&&i.parseExternalKey,p.push(0),a=1;a<t.length-1;a++)"string"==typeof t[a]&&("GET"===(c=t[a].toUpperCase())?"#"!==t[a+=1]&&p.push(o?[a,d(t[a])]:a):"BY"===c?(a+=1,p.push(o?[a,d(t[a])]:a)):"STORE"===c&&p.push(a+=1));break;case"migrate":if(""===t[2]){for(a=5;a<t.length-1;a++)if("KEYS"===t[a].toUpperCase()){for(var l=a+1;l<t.length;l++)p.push(l);break}}else p.push(2);break;case"xreadgroup":case"xread":for(a="xread"===e?0:3;a<t.length-1;a++)if("STREAMS"===String(t[a]).toUpperCase()){for(l=a+1;l<=a+(t.length-1-a)/2;l++)p.push(l);break}break;default:if(0<n.step)for(r=n.keyStart-1,s=0<n.keyStop?n.keyStop:t.length+n.keyStop+1,a=r;a<s;a+=n.step)p.push(a)}return p}},{"./commands.json":395}],397:[function(e,t,i){"use strict";e=process.version.charCodeAt(1)<55&&46===process.version.charCodeAt(2)?e("./lib/old"):e("./lib/modern");t.exports=e},{"./lib/modern":398,"./lib/old":399}],398:[function(e,t,i){"use strict";const a=e("assert");class n extends Error{get name(){return this.constructor.name}}class r extends n{get name(){return this.constructor.name}}t.exports={RedisError:n,ParserError:class extends n{constructor(e,t,i){a(t),a.strictEqual(typeof i,"number");var n=Error.stackTraceLimit;Error.stackTraceLimit=2,super(e),Error.stackTraceLimit=n,this.offset=i,this.buffer=t}get name(){return this.constructor.name}},ReplyError:class extends n{constructor(e){var t=Error.stackTraceLimit;Error.stackTraceLimit=2,super(e),Error.stackTraceLimit=t}get name(){return this.constructor.name}},AbortError:r,InterruptError:class extends r{get name(){return this.constructor.name}}}},{assert:void 0}],399:[function(e,t,i){"use strict";const n=e("assert");e=e("util");function a(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}function r(e,t,i){n(t),n.strictEqual(typeof i,"number"),Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0});e=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=e,this.offset=i,this.buffer=t}function s(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0});e=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=e}function o(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}function c(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}e.inherits(a,Error),Object.defineProperty(a.prototype,"name",{value:"RedisError",configurable:!0,writable:!0}),e.inherits(r,a),Object.defineProperty(r.prototype,"name",{value:"ParserError",configurable:!0,writable:!0}),e.inherits(s,a),Object.defineProperty(s.prototype,"name",{value:"ReplyError",configurable:!0,writable:!0}),e.inherits(o,a),Object.defineProperty(o.prototype,"name",{value:"AbortError",configurable:!0,writable:!0}),e.inherits(c,o),Object.defineProperty(c.prototype,"name",{value:"InterruptError",configurable:!0,writable:!0}),t.exports={RedisError:a,ParserError:r,ReplyError:s,AbortError:o,InterruptError:c}},{assert:void 0,util:void 0}],400:[function(e,t,i){"use strict";t.exports=e("./lib/parser")},{"./lib/parser":401}],401:[function(e,t,i){"use strict";const o=e("buffer").Buffer;const c=new(e("string_decoder").StringDecoder);e=e("redis-errors");const b=e.ReplyError,x=e.ParserError;var p=o.allocUnsafe(32768),l=0,u=null,d=0,n=0;function _(e){for(var t=e.offset,i=e.buffer,n=i.length-1,a=t;a<n;)if(13===i[a++])return e.offset=a+1,!0===e.optionReturnBuffers?e.buffer.slice(t,a-1):e.buffer.toString("utf8",t,a-1)}function w(e){for(var t=e.buffer.length-1,i=e.offset,n=0;i<t;){var a=e.buffer[i++];if(13===a)return e.offset=i+1,n;n=10*n+(a-48)}}function s(e,t,i){e.arrayCache.push(t),e.arrayPos.push(i)}function h(e){var t=e.arrayCache.pop(),i=e.arrayPos.pop();if(e.arrayCache.length){var n=h(e);if(void 0===n)return void s(e,t,i);t[i++]=n}return k(e,t,i)}function k(e,t,i){for(var n=e.buffer.length;i<t.length;){var a=e.offset;if(e.offset>=n)return void s(e,t,i);var r=f(e,e.buffer[e.offset++]);if(void 0===r)return e.arrayCache.length||e.bufferCache.length||(e.offset=a),void s(e,t,i);t[i]=r,i++}return t}function f(e,t){switch(t){case 36:var i=e,n=w(i);return void 0!==n?n<0?null:(n=i.offset+n)+2>i.buffer.length?(i.bigStrSize=n+2,i.totalChunkSize=i.buffer.length,void i.bufferCache.push(i.buffer)):(a=i.offset,i.offset=n+2,!0===i.optionReturnBuffers?i.buffer.slice(a,n):i.buffer.toString("utf8",a,n)):void 0;case 43:return _(e);case 42:var i=e,a=w(i);return void 0!==a?a<0?null:k(i,new Array(a),0):void 0;case 58:n=e;if(!0===n.optionStringNumbers){var r=n,s=r.buffer.length-1,o=r.offset,c=0,p="";for(45===r.buffer[o]&&(p+="-",o++);o<s;){var l=r.buffer[o++];if(13===l)return r.offset=o+1,0!==c&&(p+=c),p;429496728<c?(p+=10*c+(l-48),c=0):48===l&&0===c?p+=0:c=10*c+(l-48)}}else{var u=n,d=u.buffer.length-1,h=u.offset,f=0,m=1;for(45===u.buffer[h]&&(m=-1,h++);h<d;){var y=u.buffer[h++];if(13===y)return u.offset=h+1,m*f;f=10*f+(y-48)}}return;case 45:var g=e,v=_(g);return void 0!==v?(!0===g.optionReturnBuffers&&(v=v.toString()),new b(v)):void 0;default:return g=e,v=t,v=new x("Protocol error, got "+JSON.stringify(String.fromCharCode(v))+" as reply type byte",JSON.stringify(g.buffer),g.offset),g.buffer=null,void g.returnFatalError(v)}}function m(){var e;51200<p.length?1===d||2*d<n?(e=(e=Math.floor(p.length/10))<l?l:e,l=0,p=p.slice(e,p.length)):(n++,d--):(clearInterval(u),n=d=0,u=null)}function y(e){var t=e.bufferCache,i=e.offset,n=e.bigStrSize-i-2,a=t.length,r=e.bigStrSize-e.totalChunkSize;if((e.offset=r)<=2){if(2===a)return t[0].slice(i,t[0].length+r-2);a--,r=t[t.length-2].length+r}e=n,p.length<e+l&&(n=78643200<e?2:3,116391936<l&&(l=52428800),p=o.allocUnsafe(e*n+l),l=0,d++,null===u)&&(u=setInterval(m,50));e=l;t[0].copy(p,e,i,t[0].length),l+=t[0].length-i;for(var s=1;s<a-1;s++)t[s].copy(p,l),l+=t[s].length;return t[s].copy(p,l,0,r-2),l+=r-2,p.slice(e,l)}t.exports=class{constructor(e){if(!e)throw new TypeError("Options are mandatory.");if("function"!=typeof e.returnError||"function"!=typeof e.returnReply)throw new TypeError("The returnReply and returnError options have to be functions.");this.setReturnBuffers(!!e.returnBuffers),this.setStringNumbers(!!e.stringNumbers),this.returnError=e.returnError,this.returnFatalError=e.returnFatalError||e.returnError,this.returnReply=e.returnReply,this.reset()}reset(){this.offset=0,this.buffer=null,this.bigStrSize=0,this.totalChunkSize=0,this.bufferCache=[],this.arrayCache=[],this.arrayPos=[]}setReturnBuffers(e){if("boolean"!=typeof e)throw new TypeError("The returnBuffers argument has to be a boolean");this.optionReturnBuffers=e}setStringNumbers(e){if("boolean"!=typeof e)throw new TypeError("The stringNumbers argument has to be a boolean");this.optionStringNumbers=e}execute(e){if(null===this.buffer)this.buffer=e,this.offset=0;else if(0===this.bigStrSize){var t=this.buffer.length,i=t-this.offset,n=o.allocUnsafe(i+e.length);if(this.buffer.copy(n,0,this.offset,t),e.copy(n,i,0,e.length),this.buffer=n,this.offset=0,this.arrayCache.length){t=h(this);if(void 0===t)return;this.returnReply(t)}}else{if(!(this.totalChunkSize+e.length>=this.bigStrSize))return this.bufferCache.push(e),void(this.totalChunkSize+=e.length);this.bufferCache.push(e);i=(this.optionReturnBuffers?y:function(e){var t=e.bufferCache,i=e.offset,n=t.length,a=e.bigStrSize-e.totalChunkSize;if((e.offset=a)<=2){if(2===n)return t[0].toString("utf8",i,t[0].length+a-2);n--,a=t[t.length-2].length+a}for(var r=c.write(t[0].slice(i)),s=1;s<n-1;s++)r+=c.write(t[s]);return r+=c.end(t[s].slice(0,a-2))})(this);if(this.bigStrSize=0,this.bufferCache=[],this.buffer=e,this.arrayCache.length&&(this.arrayCache[0][this.arrayPos[0]++]=i,void 0===(i=h(this))))return;this.returnReply(i)}for(;this.offset<this.buffer.length;){var a=this.offset,r=this.buffer[this.offset++],s=f(this,r);if(void 0===s)return void(this.arrayCache.length||this.bufferCache.length||(this.offset=a));45===r?this.returnError(s):this.returnReply(s)}this.buffer=null}}},{buffer:void 0,"redis-errors":397,string_decoder:void 0}],402:[function(e,t,c){"use strict";var r=e("net"),n=e("tls"),i=e("util"),m=e("./lib/utils"),s=e("./lib/command"),o=e("denque"),y=e("./lib/customErrors"),p=e("events"),a=e("redis-parser"),l=e("redis-errors"),g=e("redis-commands"),v=e("./lib/debug"),u=e("./lib/createClient"),d={subscribe:!0,unsubscribe:!0,psubscribe:!0,punsubscribe:!0};function h(){}function f(e,t,i){return!1!==i&&!this.message_buffers||(e=m.reply_to_strings(e)),e="hgetall"===t?m.reply_to_object(e):e}function b(e,t){e=m.clone(e),p.call(this);var i,n,a={};for(i in e.tls)a[i]=e.tls[i],"port"!==i&&"host"!==i&&"path"!==i&&"family"!==i||(e[i]=e.tls[i]);for(n in t?(e.stream=t,this.address='"Private stream"'):e.path?(a.path=e.path,this.address=e.path):(a.port=+e.port||6379,a.host=e.host||"127.0.0.1",a.family=!e.family&&r.isIP(a.host)||("IPv6"===e.family?6:4),this.address=a.host+":"+a.port),this.connection_options=a,this.connection_id=b.connection_id++,this.connected=!1,this.ready=!1,void 0===e.socket_keepalive&&(e.socket_keepalive=!0),void 0===e.socket_initial_delay&&(e.socket_initial_delay=0),e.rename_commands)e.rename_commands[n.toLowerCase()]=e.rename_commands[n];e.return_buffers=!!e.return_buffers,e.detect_buffers=!!e.detect_buffers,e.return_buffers&&e.detect_buffers&&(this.warn("WARNING: You activated return_buffers and detect_buffers at the same time. The return value is always going to be a buffer."),e.detect_buffers=!1),e.detect_buffers&&(this.handle_reply=f),this.should_buffer=!1,this.command_queue=new o,this.offline_queue=new o,this.pipeline_queue=new o,this.connect_timeout=+e.connect_timeout||36e5,this.enable_offline_queue=!1!==e.enable_offline_queue,this.initialize_retry_vars(),this.pub_sub_mode=0,this.subscription_set={},this.monitoring=!1,this.message_buffers=!1,this.closing=!1,this.server_info={},this.auth_pass=e.auth_pass||e.password,this.auth_user=e.auth_user||e.user,this.selected_db=e.db,this.fire_strings=!0,this.pipeline=!1,this.sub_commands_left=0,this.times_connected=0,this.buffers=e.return_buffers||e.detect_buffers,this.options=e,this.reply="ON",this.create_stream(),this.on("newListener",function(e){"message_buffer"!==e&&"pmessage_buffer"!==e&&"messageBuffer"!==e&&"pmessageBuffer"!==e||this.buffers||this.message_buffers||(this.reply_parser.optionReturnBuffers=!0,this.message_buffers=!0,this.handle_reply=f)})}c.debug_mode=/\bredis\b/i.test(process.env.NODE_DEBUG),i.inherits(b,p),b.connection_id=0,b.prototype.create_stream=function(){var t,i=this;if(this.reply_parser=new a({returnReply:function(e){t.return_reply(e)},returnError:function(e){t.return_error(e)},returnFatalError:function(e){e.message+=". Please report this.",t.ready=!1,t.flush_and_error({message:"Fatal error encountered. Command aborted.",code:"NR_FATAL"},{error:e,queues:["command_queue"]}),t.emit("error",e),t.create_stream()},returnBuffers:(t=this).buffers||t.message_buffers,stringNumbers:t.options.string_numbers||!1}),this.options.stream){if(this.stream)return;this.stream=this.options.stream}else this.stream&&(this.stream.removeAllListeners(),this.stream.destroy()),this.options.tls?this.stream=n.connect(this.connection_options):this.stream=r.createConnection(this.connection_options);this.options.connect_timeout&&this.stream.setTimeout(this.connect_timeout,function(){i.retry_totaltime=i.connect_timeout,i.connection_gone("timeout")});var e=this.options.tls?"secureConnect":"connect";this.stream.once(e,function(){this.removeAllListeners("timeout"),i.times_connected++,i.on_connect()}),this.stream.on("data",function(e){v("Net read "+i.address+" id "+i.connection_id),i.reply_parser.execute(e)}),this.stream.on("error",function(e){i.on_error(e)}),this.stream.once("close",function(e){i.connection_gone("close")}),this.stream.once("end",function(){i.connection_gone("end")}),this.stream.on("drain",function(){i.drain()}),this.stream.setNoDelay(),void 0!==this.auth_pass&&(this.ready=!0,this.auth(this.auth_pass,this.auth_user,function(e){e&&"UNCERTAIN_STATE"!==e.code&&i.emit("error",e)}),this.ready=!1)},b.prototype.handle_reply=function(e,t){return e="hgetall"===t?m.reply_to_object(e):e},b.prototype.cork=h,b.prototype.uncork=h,b.prototype.initialize_retry_vars=function(){this.retry_timer=null,this.retry_totaltime=0,this.retry_delay=200,this.retry_backoff=1.7,this.attempts=1},b.prototype.warn=function(e){var t=this;process.nextTick(function(){0!==t.listeners("warning").length?t.emit("warning",e):console.warn("node_redis:",e)})},b.prototype.flush_and_error=function(e,t){for(var i,n=[],a=(t=t||{}).queues||["command_queue","offline_queue"],r=0;r<a.length;r++){"command_queue"===a[r]?e.message+=" It might have been processed.":e.message=e.message.replace(" It might have been processed.","");for(var s=this[a[r]].shift();s;s=this[a[r]].shift()){var o=new y.AbortError(e);s.error&&(o.stack=o.stack+s.error.stack.replace(/^Error.*?\n/,"\n")),o.command=s.command.toUpperCase(),s.args&&s.args.length&&(o.args=s.args),t.error&&(o.origin=t.error),"function"==typeof s.callback?s.callback(o):n.push(o)}}c.debug_mode&&n.length&&(1===n.length?i=n[0]:(e.message=e.message.replace("It","They").replace(/command/i,"$&s"),(i=new y.AggregateError(e)).errors=n),this.emit("error",i))},b.prototype.on_error=function(e){this.closing||(e.message="Redis connection to "+this.address+" failed - "+e.message,v(e.message),this.connected=!1,this.ready=!1,this.options.retry_strategy||this.emit("error",e),this.connection_gone("error",e))},b.prototype.on_connect=function(){v("Stream connected "+this.address+" id "+this.connection_id),this.connected=!0,this.ready=!1,this.emitted_end=!1,this.stream.setKeepAlive(this.options.socket_keepalive,this.options.socket_initial_delay),this.stream.setTimeout(0),this.emit("connect"),this.initialize_retry_vars(),this.options.no_ready_check?this.on_ready():this.ready_check()},b.prototype.on_ready=function(){var e=this,t=(v("on_ready called "+this.address+" id "+this.connection_id),this.ready=!0,this.cork=function(){e.pipeline=!0,e.stream.cork&&e.stream.cork()},this.uncork=function(){e.fire_strings?e.write_strings():e.write_buffers(),e.pipeline=!1,e.fire_strings=!0,e.stream.uncork&&e.stream.uncork()},void 0!==this.selected_db&&this.internal_send_command(new s("select",[this.selected_db])),this.monitoring&&this.internal_send_command(new s("monitor",[])),Object.keys(this.subscription_set).length);if(!this.options.disable_resubscribing&&t){var i,n=function(){0===--t&&e.emit("ready")};for(i in v("Sending pub/sub on_ready commands"),this.subscription_set){var a=i.slice(0,i.indexOf("_")),r=this.subscription_set[i];this[a]([r],n)}this.send_offline_queue()}else this.send_offline_queue(),this.emit("ready")},b.prototype.on_info_cmd=function(e,t){if(e)return"ERR unknown command 'info'"===e.message?void this.on_ready():(e.message="Ready check failed: "+e.message,void this.emit("error",e));if(t){if(!this.server_info.loading||"0"===this.server_info.loading){if(!this.server_info.master_link_status||"up"===this.server_info.master_link_status)return v("Redis server ready."),void this.on_ready();this.server_info.loading_eta_seconds=.05}e=1e3*+this.server_info.loading_eta_seconds;v("Redis server still loading, trying again in "+(e=1e3<e?1e3:e)),setTimeout(function(e){e.ready_check()},e,this)}else v("The info command returned without any data."),this.on_ready()},b.prototype.ready_check=function(){var i=this;v("Checking server ready state..."),this.ready=!0,this.info(function(e,t){i.on_info_cmd(e,t)}),this.ready=!1},b.prototype.send_offline_queue=function(){for(var e=this.offline_queue.shift();e;e=this.offline_queue.shift())v("Sending offline command: "+e.command),this.internal_send_command(e);this.drain()};function x(e,t){v("Retrying connection..."),t={delay:e.retry_delay,attempt:e.attempts,error:t},e.options.camel_case?(t.totalRetryTime=e.retry_totaltime,t.timesConnected=e.times_connected):(t.total_retry_time=e.retry_totaltime,t.times_connected=e.times_connected),e.emit("reconnecting",t),e.retry_totaltime+=e.retry_delay,e.attempts+=1,e.retry_delay=Math.round(e.retry_delay*e.retry_backoff),e.create_stream(),e.retry_timer=null}function _(e,t){var i=e.command_queue.shift();"function"==typeof i.callback?("exec"!==i.command&&(t=e.handle_reply(t,i.command,i.buffer_args)),i.callback(null,t)):v("No callback for reply")}function w(e,t){var i=t[0].toString();if("message"===i)!e.options.return_buffers||e.message_buffers?(e.emit("message",t[1].toString(),t[2].toString()),e.emit("message_buffer",t[1],t[2]),e.emit("messageBuffer",t[1],t[2])):e.emit("message",t[1],t[2]);else if("pmessage"===i)!e.options.return_buffers||e.message_buffers?(e.emit("pmessage",t[1].toString(),t[2].toString(),t[3].toString()),e.emit("pmessage_buffer",t[1],t[2],t[3]),e.emit("pmessageBuffer",t[1],t[2],t[3])):e.emit("pmessage",t[1],t[2],t[3]);else{var n=e,e=t,t=i,i=n.command_queue.get(0),a=n.options.return_buffers||n.options.detect_buffers&&i.buffer_args||null===e[1]?e[1]:e[1].toString(),e=+e[2];if(v(t,a),null!==a&&(n.emit(t,a,e),"subscribe"===t||"psubscribe"===t?n.subscription_set[t+"_"+a]=a:delete n.subscription_set[(t="unsubscribe"===t?"subscribe":"psubscribe")+"_"+a]),1===i.args.length||1===n.sub_commands_left||0===i.args.length&&(0==e||null===a)){if(0==e){var r,s=1;for(n.pub_sub_mode=0;r=n.command_queue.get(s);){if(d[r.command]){n.pub_sub_mode=s;break}s++}}n.command_queue.shift(),"function"==typeof i.callback&&i.callback(null,a),n.sub_commands_left=0}else 0!==n.sub_commands_left?n.sub_commands_left--:n.sub_commands_left=i.args.length?i.args.length-1:e}}b.prototype.connection_gone=function(e,t){if(!this.retry_timer)if(t=t||null,v("Redis connection is gone from "+e+" event."),this.connected=!1,this.ready=!1,this.cork=h,this.uncork=h,this.pipeline=!1,this.pub_sub_mode=0,this.emitted_end||(this.emit("end"),this.emitted_end=!0),this.closing)v("Connection ended by quit / end command, not retrying."),this.flush_and_error({message:"Stream connection ended and command aborted.",code:"NR_CLOSED"},{error:t});else{if("function"==typeof this.options.retry_strategy){var e={attempt:this.attempts,error:t};if(this.options.camel_case?(e.totalRetryTime=this.retry_totaltime,e.timesConnected=this.times_connected):(e.total_retry_time=this.retry_totaltime,e.times_connected=this.times_connected),this.retry_delay=this.options.retry_strategy(e),"number"!=typeof this.retry_delay)return this.retry_delay instanceof Error&&(t=this.retry_delay),this.flush_and_error({message:e="Redis connection in broken state: retry aborted.",code:"CONNECTION_BROKEN"},{error:t}),(e=new Error(e)).code="CONNECTION_BROKEN",t&&(e.origin=t),this.end(!1),void this.emit("error",e)}this.retry_totaltime>=this.connect_timeout?(this.flush_and_error({message:e="Redis connection in broken state: connection timeout exceeded.",code:"CONNECTION_BROKEN"},{error:t}),(e=new Error(e)).code="CONNECTION_BROKEN",t&&(e.origin=t),this.end(!1),this.emit("error",e)):(this.options.retry_unfulfilled_commands?(this.offline_queue.unshift.apply(this.offline_queue,this.command_queue.toArray()),this.command_queue.clear()):0!==this.command_queue.length&&this.flush_and_error({message:"Redis connection lost and command aborted.",code:"UNCERTAIN_STATE"},{error:t,queues:["command_queue"]}),this.retry_totaltime+this.retry_delay>this.connect_timeout&&(this.retry_delay=this.connect_timeout-this.retry_totaltime),v("Retry connection in "+this.retry_delay+" ms"),this.retry_timer=setTimeout(x,this.retry_delay,this,t))}},b.prototype.return_error=function(e){var t=this.command_queue.shift(),i=(t.error&&(e.stack=t.error.stack.replace(/^Error.*?\n/,"ReplyError: "+e.message+"\n")),e.command=t.command.toUpperCase(),t.args&&t.args.length&&(e.args=t.args),1<this.pub_sub_mode&&this.pub_sub_mode--,e.message.match(m.err_code));i&&(e.code=i[1]),m.callback_or_emit(this,t.callback,e)},b.prototype.drain=function(){this.should_buffer=!1},b.prototype.return_reply=function(e){if(this.monitoring){var t,i,n=this.buffers&&Buffer.isBuffer(e)?e.toString():e;if("string"==typeof n&&m.monitor_regex.test(n))return t=n.slice(0,n.indexOf(" ")),i=n.slice(n.indexOf('"')+1,-1).split('" "').map(function(e){return e.replace(/\\"/g,'"')}),void this.emit("monitor",t,i,n)}(0===this.pub_sub_mode?_:1!==this.pub_sub_mode?(this.pub_sub_mode--,_):!(e instanceof Array)||e.length<=2?_:w)(this,e)},b.prototype.internal_send_command=function(e){var t,i,n,a,r,s,o=0,c="",p=e.args,l=e.command,u=p.length,d=!1,h=new Array(u);if(process.domain&&e.callback&&(e.callback=process.domain.bind(e.callback)),!1===this.ready||!1===this.stream.writable)return n=this,s=(a=e).command,n.closing||!n.enable_offline_queue?(s=s.toUpperCase(),r=n.closing?"The connection is already closed.":n.stream.writable?"The connection is not yet established and the offline queue is deactivated.":"Stream not writeable.",r=new y.AbortError({message:s+" can't be processed. "+r,code:"NR_CLOSED",command:s}),a.args.length&&(r.args=a.args),m.reply_in_order(n,a.callback,r)):(v("Queueing "+s+" for next server connection."),n.offline_queue.push(a)),!(n.should_buffer=!0);for(o=0;o<u;o+=1)if("string"==typeof p[o])3e4<p[o].length?(d=!0,h[o]=Buffer.from(p[o],"utf8")):h[o]=p[o];else if("object"==typeof p[o])if(p[o]instanceof Date)h[o]=p[o].toString();else{if(!Buffer.isBuffer(p[o])){var f=new Error("node_redis: The "+l.toUpperCase()+" command contains a invalid argument type.\nOnly strings, dates and buffers are accepted. Please update your code to use valid argument types.");if(f.command=e.command.toUpperCase(),e.args&&e.args.length&&(f.args=e.args),e.callback)return e.callback(f),!1;throw f}h[o]=p[o],d=e.buffer_args=!0}else{if(void 0===p[o])return(f=new Error("node_redis: The "+l.toUpperCase()+' command contains a invalid argument type of "undefined".\nOnly strings, dates and buffers are accepted. Please update your code to use valid argument types.')).command=e.command.toUpperCase(),e.args&&e.args.length&&(f.args=e.args),e.callback(f),!1;h[o]=""+p[o]}if(this.options.prefix)for(o=(i=g.getKeyIndexes(l,h)).pop();void 0!==o;o=i.pop())h[o]=this.options.prefix+h[o];if(c="*"+(u+1)+"\r\n$"+(l=this.options.rename_commands&&this.options.rename_commands[l]?this.options.rename_commands[l]:l).length+"\r\n"+l+"\r\n",!1===d){for(o=0;o<u;o+=1)t=h[o],c+="$"+Buffer.byteLength(t)+"\r\n"+t+"\r\n";v("Send "+this.address+" id "+this.connection_id+": "+c),this.write(c)}else for(v("Send command ("+c+") has Buffer arguments"),this.fire_strings=!1,this.write(c),o=0;o<u;o+=1)"string"==typeof(t=h[o])?this.write("$"+Buffer.byteLength(t)+"\r\n"+t+"\r\n"):(this.write("$"+t.length+"\r\n"),this.write(t),this.write("\r\n")),v("send_command: buffer send "+t.length+" bytes");return e.call_on_write&&e.call_on_write(),"ON"===this.reply?this.command_queue.push(e):(e.callback&&m.reply_in_order(this,e.callback,null,void 0,this.command_queue),"SKIP"===this.reply?this.reply="SKIP_ONE_MORE":"SKIP_ONE_MORE"===this.reply&&(this.reply="ON")),!this.should_buffer},b.prototype.write_strings=function(){for(var e="",t=this.pipeline_queue.shift();t;t=this.pipeline_queue.shift())4194304<e.length+t.length&&(this.should_buffer=!this.stream.write(e),e=""),e+=t;""!==e&&(this.should_buffer=!this.stream.write(e))},b.prototype.write_buffers=function(){for(var e=this.pipeline_queue.shift();e;e=this.pipeline_queue.shift())this.should_buffer=!this.stream.write(e)},b.prototype.write=function(e){!1===this.pipeline?this.should_buffer=!this.stream.write(e):this.pipeline_queue.push(e)},Object.defineProperty(c,"debugMode",{get:function(){return this.debug_mode},set:function(e){this.debug_mode=e}}),Object.defineProperty(b.prototype,"command_queue_length",{get:function(){return this.command_queue.length}}),Object.defineProperty(b.prototype,"offline_queue_length",{get:function(){return this.offline_queue.length}}),Object.defineProperty(b.prototype,"retryDelay",{get:function(){return this.retry_delay}}),Object.defineProperty(b.prototype,"retryBackoff",{get:function(){return this.retry_backoff}}),Object.defineProperty(b.prototype,"commandQueueLength",{get:function(){return this.command_queue.length}}),Object.defineProperty(b.prototype,"offlineQueueLength",{get:function(){return this.offline_queue.length}}),Object.defineProperty(b.prototype,"shouldBuffer",{get:function(){return this.should_buffer}}),Object.defineProperty(b.prototype,"connectionId",{get:function(){return this.connection_id}}),Object.defineProperty(b.prototype,"serverInfo",{get:function(){return this.server_info}}),c.createClient=function(){return new b(u.apply(null,arguments))},c.RedisClient=b,c.print=m.print,c.Multi=e("./lib/multi"),c.AbortError=y.AbortError,c.RedisError=l.RedisError,c.ParserError=l.ParserError,c.ReplyError=l.ReplyError,c.AggregateError=y.AggregateError,e("./lib/individualCommands"),e("./lib/extendedApi"),c.addCommand=c.add_command=e("./lib/commands")},{"./lib/command":403,"./lib/commands":404,"./lib/createClient":405,"./lib/customErrors":406,"./lib/debug":407,"./lib/extendedApi":408,"./lib/individualCommands":409,"./lib/multi":410,"./lib/utils":411,denque:178,events:void 0,net:void 0,"redis-commands":396,"redis-errors":397,"redis-parser":400,tls:void 0,util:void 0}],403:[function(e,t,i){"use strict";var a=/development/i.test(process.env.NODE_ENV)||/\bredis\b/i.test(process.env.NODE_DEBUG);t.exports=function(e,t,i,n){this.command=e,this.args=t,this.buffer_args=!1,this.callback=i,this.call_on_write=n,a&&(this.error=new Error)}},{}],404:[function(e,t,i){"use strict";function n(a){var e=a.replace(/(?:^([0-9])|[^a-zA-Z0-9_$])/g,"_$1");s.prototype[a]||(s.prototype[a.toUpperCase()]=s.prototype[a]=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0],2===i&&(t=arguments[1]);else if(1<i&&Array.isArray(arguments[1]))for(3===i&&(t=arguments[2]),i=arguments[1].length,(e=new Array(i+1))[0]=arguments[0];n<i;n+=1)e[n+1]=arguments[1][n];else for(0===i||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];return this.internal_send_command(new o(a,e,t))},e!==a&&(s.prototype[e.toUpperCase()]=s.prototype[e]=s.prototype[a]),Object.defineProperty(s.prototype[a],"name",{value:e})),r.prototype[a]||(r.prototype[a.toUpperCase()]=r.prototype[a]=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0],2===i&&(t=arguments[1]);else if(1<i&&Array.isArray(arguments[1]))for(3===i&&(t=arguments[2]),i=arguments[1].length,(e=new Array(i+1))[0]=arguments[0];n<i;n+=1)e[n+1]=arguments[1][n];else for(0===i||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];return this.queue.push(new o(a,e,t)),this},e!==a&&(r.prototype[e.toUpperCase()]=r.prototype[e]=r.prototype[a]),Object.defineProperty(r.prototype[a],"name",{value:e}))}var a=e("redis-commands"),r=e("./multi"),s=e("../").RedisClient,o=e("./command");a.list.forEach(n),t.exports=n},{"../":402,"./command":403,"./multi":410,"redis-commands":396}],405:[function(e,t,i){"use strict";var o=e("./utils"),c=e("url");t.exports=function(e,t,i){if("number"==typeof e||"string"==typeof e&&/^\d+$/.test(e)){if("string"==typeof t)r=t;else{if(i&&t)throw new TypeError("Unknown type of connection in createClient()");i=i||t}(i=o.clone(i)).host=r||i.host,i.port=e}else if("string"==typeof e||e&&e.url){i=o.clone(e.url?e:t||i);var n,a,r=e.url||e,s=c.parse(r,!0,!0);if(s.slashes){if(s.auth&&(n=s.auth.indexOf(":"),i.password=s.auth.slice(n+1),0<n)&&(i.user=s.auth.slice(0,n)),s.protocol&&("rediss:"===s.protocol?i.tls=i.tls||{}:"redis:"!==s.protocol&&console.warn('node_redis: WARNING: You passed "'+s.protocol.substring(0,s.protocol.length-1)+'" as protocol instead of the "redis" protocol!')),s.pathname&&"/"!==s.pathname&&(i.db=s.pathname.substr(1)),s.hostname&&(i.host=s.hostname),s.port&&(i.port=s.port),""!==s.search)for(a in s.query){if(a in i){if(i[a]!==s.query[a])throw new RangeError("The "+a+" option is added twice and does not match");console.warn("node_redis: WARNING: You passed the "+a+" option twice!")}i[a]=s.query[a]}}else{if(s.hostname)throw new RangeError('The redis url must begin with slashes "//" or contain slashes after the redis protocol');i.path=r}}else if(("object"==typeof e||void 0===e)&&((i=o.clone(e||i)).host=i.host||t,e)&&1!==arguments.length)throw new TypeError("Too many arguments passed to createClient. Please only pass the options object");if(i)return i;throw new TypeError("Unknown type of connection in createClient()")}},{"./utils":411,url:void 0}],406:[function(e,t,i){"use strict";var n=e("util"),a=e("assert"),e=e("redis-errors").RedisError;function r(e,t){a(e,"The options argument is required"),a.strictEqual(typeof e,"object","The options argument has to be of type object"),Object.defineProperty(this,"message",{value:e.message||"",configurable:!0,writable:!0}),!t&&void 0!==t||Error.captureStackTrace(this,r);for(var i=Object.keys(e),n=i.pop();n;n=i.pop())this[n]=e[n]}function s(e){a(e,"The options argument is required"),a.strictEqual(typeof e,"object","The options argument has to be of type object"),r.call(this,e,!1),Object.defineProperty(this,"message",{value:e.message||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,s);for(var t=Object.keys(e),i=t.pop();i;i=t.pop())this[i]=e[i]}n.inherits(r,e),n.inherits(s,r),Object.defineProperty(r.prototype,"name",{value:"AbortError",configurable:!0,writable:!0}),Object.defineProperty(s.prototype,"name",{value:"AggregateError",configurable:!0,writable:!0}),t.exports={AbortError:r,AggregateError:s}},{assert:void 0,"redis-errors":397,util:void 0}],407:[function(e,t,i){"use strict";var n=e("../");t.exports=function(){var e;n.debug_mode&&((e=Array.prototype.slice.call(arguments)).unshift((new Date).toISOString()),console.error.apply(null,e))}},{"../":402}],408:[function(e,t,i){"use strict";function n(){}var s=e("./utils"),a=e("./debug"),o=e("../").RedisClient,r=e("./command");o.prototype.send_command=o.prototype.sendCommand=function(e,t,i){if("string"!=typeof e)throw new TypeError('Wrong input type "'+(null!=e?e.constructor.name:e)+'" for command name');if(e=e.toLowerCase(),!Array.isArray(t)){if(null!=t){if("function"!=typeof t||void 0!==i)throw new TypeError('Wrong input type "'+t.constructor.name+'" for args');i=t}t=[]}if("function"!=typeof i&&void 0!==i)throw new TypeError('Wrong input type "'+(null!==i?i.constructor.name:"null")+'" for callback function');return"multi"===e||"function"!=typeof this[e]?this.internal_send_command(new r(e,t,i)):("function"==typeof i&&(t=t.concat([i])),this[e].apply(this,t))},o.prototype.end=function(e){return e?this.flush_and_error({message:"Connection forcefully ended and command aborted.",code:"NR_CLOSED"}):0===arguments.length&&this.warn("Using .end() without the flush parameter is deprecated and throws from v.3.0.0 on.\nPlease check the doku (https://github.com/NodeRedis/node_redis) and explictly use flush."),this.retry_timer&&(clearTimeout(this.retry_timer),this.retry_timer=null),this.stream.removeAllListeners(),this.stream.on("error",n),this.connected=!1,this.ready=!1,this.closing=!0,this.stream.destroySoon()},o.prototype.unref=function(){this.connected?(a("Unref'ing the socket connection"),this.stream.unref()):(a("Not connected yet, will unref later"),this.once("connect",function(){this.unref()}))},o.prototype.duplicate=function(e,t){"function"==typeof e&&(t=e,e=null);var i,n=s.clone(this.options);for(i in e=s.clone(e))n[i]=e[i];var a,r=new o(n);if(r.selected_db=e.db||this.selected_db,"function"!=typeof t)return r;a=function(e){t(e),r.end(!0)},r.once("ready",function(){t(null,r),r.removeAllListeners(a)}),r.once("error",a)}},{"../":402,"./command":403,"./debug":407,"./utils":411}],409:[function(e,t,i){"use strict";var l=e("./utils"),s=e("./debug"),n=e("./multi"),o=e("./command"),c=/no password is set|called without any password configured/,p=/LOADING/,e=e("../").RedisClient;function a(i,n,a){return function(e,t){null===e&&(i.selected_db=n),l.callback_or_emit(i,a,e,t)}}function r(i,n){return function(e,t){e&&"NR_CLOSED"===e.code&&(e=null,t="OK"),l.callback_or_emit(i,n,e,t),i.stream.writable&&i.stream.destroy()}}function u(c,p){return function(e,t){if(t){for(var i,n,a,r={},s=t.toString().split("\r\n"),o=0;o<s.length;o++)if((n=s[o].split(":"))[1])if(0===n[0].indexOf("db"))for(a=n[1].split(","),r[n[0]]={};i=a.pop();)i=i.split("="),r[n[0]][i[0]]=+i[1];else r[n[0]]=n[1];r.versions=[],r.redis_version&&r.redis_version.split(".").forEach(function(e){r.versions.push(+e)}),c.server_info=r}else c.server_info={};l.callback_or_emit(c,p,e,t)}}function d(i,n,a,r){return function(e,t){if(e)if(c.test(e.message))i.warn("Warning: Redis server does not require a password, but a password was supplied."),e=null,t="OK";else if(p.test(e.message))return s("Redis still loading, trying to authenticate later"),void setTimeout(function(){i.auth(n,a,r)},100);l.callback_or_emit(i,r,e,t)}}e.prototype.multi=e.prototype.MULTI=function(e){return(e=new n(this,e)).exec=e.EXEC=e.exec_transaction,e},e.prototype.batch=e.prototype.BATCH=function(e){return new n(this,e)},e.prototype.select=e.prototype.SELECT=function(e,t){return this.internal_send_command(new o("select",[e],a(this,e,t)))},n.prototype.select=n.prototype.SELECT=function(e,t){return this.queue.push(new o("select",[e],a(this._client,e,t))),this},e.prototype.monitor=e.prototype.MONITOR=function(e){var t=this;return this.internal_send_command(new o("monitor",[],e,function(){t.monitoring=!0}))},n.prototype.monitor=n.prototype.MONITOR=function(e){var t;return this.exec!==this.exec_transaction?(t=this).queue.push(new o("monitor",[],e,function(){t._client.monitoring=!0})):this.monitoring=!0,this},e.prototype.QUIT=e.prototype.quit=function(e){e=this.internal_send_command(new o("quit",[],r(this,e)));return this.closing=!0,this.ready=!1,e},n.prototype.QUIT=n.prototype.quit=function(e){var t=this._client;return this.queue.push(new o("quit",[],r(t,e),function(){t.closing=!0,t.ready=!1})),this},e.prototype.info=e.prototype.INFO=function(e,t){var i=[];return"function"==typeof e?t=e:void 0!==e&&(i=Array.isArray(e)?e:[e]),this.internal_send_command(new o("info",i,u(this,t)))},n.prototype.info=n.prototype.INFO=function(e,t){var i=[];return"function"==typeof e?t=e:void 0!==e&&(i=Array.isArray(e)?e:[e]),this.queue.push(new o("info",i,u(this._client,t))),this},e.prototype.auth=e.prototype.AUTH=function(e,t,i){s("Sending auth to "+this.address+" id "+this.connection_id),t instanceof Function&&(i=t,t=null),this.auth_pass=e,this.auth_user=t;var n=this.ready,e=(this.ready=n||0===this.offline_queue.length,this.internal_send_command(new o("auth",t?[t,e]:[e],d(this,e,t,i))));return this.ready=n,e},n.prototype.auth=n.prototype.AUTH=function(e,t,i){return s("Sending auth to "+this.address+" id "+this.connection_id),t instanceof Function&&(i=t,t=null),this.auth_pass=e,this.auth_user=t,this.queue.push(new o("auth",t?[t,e]:[e],d(this._client,e,t,i))),this},e.prototype.client=e.prototype.CLIENT=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0],t=arguments[1];else if(Array.isArray(arguments[1]))for(3===i&&(t=arguments[2]),i=arguments[1].length,(e=new Array(i+1))[0]=arguments[0];n<i;n+=1)e[n+1]=arguments[1][n];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a,r=this,s=void 0;return 2!==e.length||"REPLY"!==e[0].toString().toUpperCase()||"ON"!==(a=e[1].toString().toUpperCase())&&"OFF"!==a&&"SKIP"!==a||(s=function(){r.reply=a}),this.internal_send_command(new o("client",e,t,s))},n.prototype.client=n.prototype.CLIENT=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0],t=arguments[1];else if(Array.isArray(arguments[1]))for(3===i&&(t=arguments[2]),i=arguments[1].length,(e=new Array(i+1))[0]=arguments[0];n<i;n+=1)e[n+1]=arguments[1][n];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a,r=this._client,s=void 0;return 2!==e.length||"REPLY"!==e[0].toString().toUpperCase()||"ON"!==(a=e[1].toString().toUpperCase())&&"OFF"!==a&&"SKIP"!==a||(s=function(){r.reply=a}),this.queue.push(new o("client",e,t,s)),this},e.prototype.hmset=e.prototype.HMSET=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0],t=arguments[1];else if(Array.isArray(arguments[1]))for(3===i&&(t=arguments[2]),i=arguments[1].length,(e=new Array(i+1))[0]=arguments[0];n<i;n+=1)e[n+1]=arguments[1][n];else if("object"!=typeof arguments[1]||2!==arguments.length&&(3!==arguments.length||"function"!=typeof arguments[2]&&void 0!==arguments[2]))for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];else{for(var a in e=[arguments[0]],arguments[1])e.push(a,arguments[1][a]);t=arguments[2]}return this.internal_send_command(new o("hmset",e,t))},n.prototype.hmset=n.prototype.HMSET=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0],t=arguments[1];else if(Array.isArray(arguments[1]))for(3===i&&(t=arguments[2]),i=arguments[1].length,(e=new Array(i+1))[0]=arguments[0];n<i;n+=1)e[n+1]=arguments[1][n];else if("object"!=typeof arguments[1]||2!==arguments.length&&(3!==arguments.length||"function"!=typeof arguments[2]&&void 0!==arguments[2]))for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];else{for(var a in e=[arguments[0]],arguments[1])e.push(a,arguments[1][a]);t=arguments[2]}return this.queue.push(new o("hmset",e,t)),this},e.prototype.subscribe=e.prototype.SUBSCRIBE=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0].slice(0),t=arguments[1];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a=this;return this.internal_send_command(new o("subscribe",e,t,function(){a.pub_sub_mode=a.pub_sub_mode||a.command_queue.length+1}))},n.prototype.subscribe=n.prototype.SUBSCRIBE=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0].slice(0),t=arguments[1];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a=this._client;return this.queue.push(new o("subscribe",e,t,function(){a.pub_sub_mode=a.pub_sub_mode||a.command_queue.length+1})),this},e.prototype.unsubscribe=e.prototype.UNSUBSCRIBE=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0].slice(0),t=arguments[1];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a=this;return this.internal_send_command(new o("unsubscribe",e,t,function(){a.pub_sub_mode=a.pub_sub_mode||a.command_queue.length+1}))},n.prototype.unsubscribe=n.prototype.UNSUBSCRIBE=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0].slice(0),t=arguments[1];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a=this._client;return this.queue.push(new o("unsubscribe",e,t,function(){a.pub_sub_mode=a.pub_sub_mode||a.command_queue.length+1})),this},e.prototype.psubscribe=e.prototype.PSUBSCRIBE=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0].slice(0),t=arguments[1];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a=this;return this.internal_send_command(new o("psubscribe",e,t,function(){a.pub_sub_mode=a.pub_sub_mode||a.command_queue.length+1}))},n.prototype.psubscribe=n.prototype.PSUBSCRIBE=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0].slice(0),t=arguments[1];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a=this._client;return this.queue.push(new o("psubscribe",e,t,function(){a.pub_sub_mode=a.pub_sub_mode||a.command_queue.length+1})),this},e.prototype.punsubscribe=e.prototype.PUNSUBSCRIBE=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0].slice(0),t=arguments[1];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a=this;return this.internal_send_command(new o("punsubscribe",e,t,function(){a.pub_sub_mode=a.pub_sub_mode||a.command_queue.length+1}))},n.prototype.punsubscribe=n.prototype.PUNSUBSCRIBE=function(){var e,t,i=arguments.length,n=0;if(Array.isArray(arguments[0]))e=arguments[0].slice(0),t=arguments[1];else for(0===(i=arguments.length)||"function"!=typeof arguments[i-1]&&void 0!==arguments[i-1]||(t=arguments[--i]),e=new Array(i);n<i;n+=1)e[n]=arguments[n];var a=this._client;return this.queue.push(new o("punsubscribe",e,t,function(){a.pub_sub_mode=a.pub_sub_mode||a.command_queue.length+1})),this}},{"../":402,"./command":403,"./debug":407,"./multi":410,"./utils":411}],410:[function(e,t,i){"use strict";var r=e("denque"),c=e("./utils"),a=e("./command");function n(e,t){var i,n;if(this._client=e,this.queue=new r,t)for(var a=0;a<t.length;a++)i=t[a][0],n=t[a].slice(1),Array.isArray(i)?this[i[0]].apply(this,i.slice(1).concat(n)):this[i].apply(this,n)}function s(i,n,a){var r=n.callback;n.callback=function(e,t){e&&-1!==a&&(r&&r(e),e.position=a,i.errors.push(e)),i.wants_buffers[a]=n.buffer_args,n.callback=r},i._client.internal_send_command(n)}n.prototype.exec_atomic=n.prototype.EXEC_ATOMIC=n.prototype.execAtomic=function(e){return this.queue.length<2?this.exec_batch(e):this.exec(e)},n.prototype.exec_transaction=function(e){var t;if(this.monitoring||this._client.monitoring)return(t=new RangeError("Using transaction with a client that is in monitor mode does not work due to faulty return values of Redis.")).command="EXEC",t.code="EXECABORT",c.reply_in_order(this._client,e,t);var o=this,i=o.queue.length;o.errors=[],o.callback=e,o._client.cork(),o.wants_buffers=new Array(i),s(o,new a("multi",[]),-1);for(var n=0;n<i;n++)s(o,o.queue.get(n),n);return o._client.internal_send_command(new a("exec",[],function(e,t){var i,n,a=o,r=t,s=0;if(e)e.errors=a.errors,a.callback?a.callback(e):"CONNECTION_BROKEN"!==e.code&&a._client.emit("error",e);else{if(r)for(;i=a.queue.shift();)r[s]instanceof Error?((n=r[s].message.match(c.err_code))&&(r[s].code=n[1]),r[s].command=i.command.toUpperCase(),"function"==typeof i.callback&&i.callback(r[s])):(r[s]=a._client.handle_reply(r[s],i.command,a.wants_buffers[s]),"function"==typeof i.callback&&i.callback(null,r[s])),s++;a.callback&&a.callback(null,r)}})),o._client.uncork(),!o._client.should_buffer},n.prototype.exec=n.prototype.EXEC=n.prototype.exec_batch=function(n){var e,a=this,t=a.queue.length,i=0;if(0===t)c.reply_in_order(a._client,n,null,[]);else{if(a._client.cork(),n){var r=function(e,t){e?(a.results.push(e),e=a.results.length-1,a.results[e].position=e):a.results.push(t)};for(a.results=[];e=a.queue.shift();)"function"==typeof e.callback?e.callback=function(i,n,a){return function(e,t){e?(i.results[a]=e,i.results[a].position=a):i.results[a]=t,n(e,t)}}(a,e.callback,i):e.callback=r,"function"==typeof n&&i===t-1&&(e.callback=function(i){return function(e,t){i(e,t),n(null,a.results)}}(e.callback)),this._client.internal_send_command(e),i++}else for(;e=a.queue.shift();)a._client.internal_send_command(e);a._client.uncork()}return!a._client.should_buffer},t.exports=n},{"./command":403,"./utils":411,denque:178}],411:[function(e,t,i){"use strict";var o;function c(e,t,i,n){t?t(i,n):i&&e.emit("error",i)}t.exports={reply_to_strings:function e(t){if(t instanceof Buffer)return t.toString();if(t instanceof Array){for(var i=new Array(t.length),n=0;n<t.length;n++)i[n]=e(t[n]);return i}return t},reply_to_object:function(e){if(0===e.length||!(e instanceof Array))return null;for(var t={},i=0;i<e.length;i+=2)t[e[i].toString("binary")]=e[i+1];return t},print:function(e,t){e?console.log(e.toString()):console.log("Reply: "+t)},err_code:/^([A-Z]+)\s+(.+)$/,monitor_regex:/^[0-9]{10,11}\.[0-9]+ \[[0-9]+ .+\].*"$/,clone:function(e){return o=!1,e=function e(t){if(Array.isArray(t))for(var i=new Array(t.length),n=0;n<t.length;n++)i[n]=e(t[n]);else{if("[object Object]"!==Object.prototype.toString.call(t))return t;i={};for(var a,r,s=Object.keys(t);a=s.pop();)"tls"===a?i[a]=t[a]:((r=a.replace(/[A-Z][^A-Z]/g,"_$&").toLowerCase())!==a.toLowerCase()&&(o=!0),i[r]=e(t[a]))}return i}(e)||{},o&&(e.camel_case=!0),e},callback_or_emit:c,reply_in_order:function(i,n,a,r,e){var s;(e=e?e.peekBack():i.offline_queue.peekBack()||i.command_queue.peekBack())?(s=e.callback,e.callback=s?function(e,t){s(e,t),c(i,n,a,r)}:function(e,t){e&&i.emit("error",e),c(i,n,a,r)}):process.nextTick(function(){c(i,n,a,r)})}}},{}],412:[function(e,t,i){const p=e("assert"),o=e("path"),n=e("fs");let l=void 0;try{l=e("glob")}catch(e){}const a={nosort:!0,silent:!0};let u=0;const s="win32"===process.platform,d=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||n[e],t[e+="Sync"]=t[e]||n[e]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),!0!==t.disableGlob&&void 0===l)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||a},c=(i,n,a)=>{"function"==typeof n&&(a=n,n={}),p(i,"rimraf: missing path"),p.equal(typeof i,"string","rimraf: path should be a string"),p.equal(typeof a,"function","rimraf: callback function required"),p(n,"rimraf: invalid options argument provided"),p.equal(typeof n,"object","rimraf: options should be object"),d(n);let r=0,s=null,o=0;const c=(e,t)=>e?a(e):0===(o=t.length)?a():void t.forEach(t=>{const i=e=>{if(e){if(("EBUSY"===e.code||"ENOTEMPTY"===e.code||"EPERM"===e.code)&&r<n.maxBusyTries)return r++,setTimeout(()=>h(t,n,i),100*r);if("EMFILE"===e.code&&u<n.emfileWait)return setTimeout(()=>h(t,n,i),u++);"ENOENT"===e.code&&(e=null)}u=0,e=e,s=s||e,0==--o&&a(s)};h(t,n,i)});if(n.disableGlob||!l.hasMagic(i))return c(null,[i]);n.lstat(i,(e,t)=>{if(!e)return c(null,[i]);l(i,n.glob,c)})},h=(i,n,a)=>{p(i),p(n),p("function"==typeof a),n.lstat(i,(e,t)=>e&&"ENOENT"===e.code?a(null):(e&&"EPERM"===e.code&&s&&r(i,n,e,a),t&&t.isDirectory()?m(i,n,e,a):void n.unlink(i,e=>{if(e){if("ENOENT"===e.code)return a(null);if("EPERM"===e.code)return(s?r:m)(i,n,e,a);if("EISDIR"===e.code)return m(i,n,e,a)}return a(e)})))},r=(i,n,a,r)=>{p(i),p(n),p("function"==typeof r),n.chmod(i,438,e=>{e?r("ENOENT"===e.code?null:a):n.stat(i,(e,t)=>{e?r("ENOENT"===e.code?null:a):t.isDirectory()?m(i,n,a,r):n.unlink(i,r)})})},f=(e,t,i)=>{p(e),p(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw i}let n;try{n=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw i}n.isDirectory()?v(e,t,i):t.unlinkSync(e)},m=(t,i,n,a)=>{p(t),p(i),p("function"==typeof a),i.rmdir(t,e=>{!e||"ENOTEMPTY"!==e.code&&"EEXIST"!==e.code&&"EPERM"!==e.code?e&&"ENOTDIR"===e.code?a(n):a(e):y(t,i,a)})},y=(a,r,s)=>{p(a),p(r),p("function"==typeof s),r.readdir(a,(e,t)=>{if(e)return s(e);let i=t.length;if(0===i)return r.rmdir(a,s);let n;t.forEach(e=>{c(o.join(a,e),r,e=>{if(!n)return e?s(n=e):void(0==--i&&r.rmdir(a,s))})})})},g=(i,n)=>{n=n||{},d(n),p(i,"rimraf: missing path"),p.equal(typeof i,"string","rimraf: path should be a string"),p(n,"rimraf: missing options"),p.equal(typeof n,"object","rimraf: options should be object");let a;if(n.disableGlob||!l.hasMagic(i))a=[i];else try{n.lstatSync(i),a=[i]}catch(e){a=l.sync(i,n.glob)}if(a.length)for(let t=0;t<a.length;t++){const i=a[t];let e;try{e=n.lstatSync(i)}catch(e){if("ENOENT"===e.code)return;"EPERM"===e.code&&s&&f(i,n,e)}try{e&&e.isDirectory()?v(i,n,null):n.unlinkSync(i)}catch(e){if("ENOENT"===e.code)return;if("EPERM"===e.code)return(s?f:v)(i,n,e);if("EISDIR"!==e.code)throw e;v(i,n,e)}}},v=(t,i,n)=>{p(t),p(i);try{i.rmdirSync(t)}catch(e){if("ENOENT"!==e.code){if("ENOTDIR"===e.code)throw n;"ENOTEMPTY"!==e.code&&"EEXIST"!==e.code&&"EPERM"!==e.code||b(t,i)}}},b=(t,i)=>{p(t),p(i),i.readdirSync(t).forEach(e=>g(o.join(t,e),i));var n=s?100:1;let a=0;do{let e=!0;try{var r=i.rmdirSync(t,i);return e=!1,r}finally{if(++a<n&&e)continue}}while(1)};(t.exports=c).sync=g},{assert:void 0,fs:void 0,glob:303,path:void 0}],413:[function(e,t,i){var n=e("buffer"),a=n.Buffer;function r(e,t){for(var i in e)t[i]=e[i]}function s(e,t,i){return a(e,t,i)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=n:(r(n,i),i.Buffer=s),s.prototype=Object.create(a.prototype),r(a,s),s.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,i)},s.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=a(e);return void 0!==t?"string"==typeof i?e.fill(t,i):e.fill(t):e.fill(0),e},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:void 0}],414:[function(e,t,i){"use strict";var n,a=e("buffer"),r=a.Buffer,s={};for(n in a)a.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=a[n]);var o=s.Buffer={};for(n in r)r.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(o[n]=r[n]);if(s.Buffer.prototype=r.prototype,o.from&&o.from!==Uint8Array.from||(o.from=function(e,t,i){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return r(e,t,i)}),o.alloc||(o.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||2*(1<<30)<=e)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=r(e);return t&&0!==t.length?"string"==typeof i?e.fill(t,i):e.fill(t):e.fill(0),e}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),t.exports=s},{buffer:void 0}],415:[function(e,t,i){var n={atype:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10},ATTRIBS:{"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0},eflags:{OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128},ELEMENTS:{a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,var:0},URIEFFECTS:{},LOADERTYPES:{}};void 0!==i?(i=void 0!==t&&t.exports?t.exports=n:i).URI=n:"undefined"!=typeof window&&(window.html4=n)},{}],416:[function(e,t,i){r=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),a=new RegExp(r),o=/^(?:\.\.\/)*(?:\.\.$)?/,m.prototype.toString=function(){var e=[];return null!==this.scheme_&&e.push(this.scheme_,":"),null!==this.domain_&&(e.push("//"),null!==this.credentials_&&e.push(this.credentials_,"@"),e.push(this.domain_),null!==this.port_)&&e.push(":",this.port_.toString()),null!==this.path_&&e.push(this.path_),null!==this.query_&&e.push("?",this.query_),null!==this.fragment_&&e.push("#",this.fragment_),e.join("")},m.prototype.clone=function(){return new m(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},m.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},m.prototype.getRawScheme=function(){return this.scheme_},m.prototype.setScheme=function(e){return this.scheme_=u(e,c),this},m.prototype.setRawScheme=function(e){return this.scheme_=e||null,this},m.prototype.hasScheme=function(){return null!==this.scheme_},m.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},m.prototype.getRawCredentials=function(){return this.credentials_},m.prototype.setCredentials=function(e){return this.credentials_=u(e,c),this},m.prototype.setRawCredentials=function(e){return this.credentials_=e||null,this},m.prototype.hasCredentials=function(){return null!==this.credentials_},m.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},m.prototype.getRawDomain=function(){return this.domain_},m.prototype.setDomain=function(e){return this.setRawDomain(e&&encodeURIComponent(e))},m.prototype.setRawDomain=function(e){return this.domain_=e||null,this.setRawPath(this.path_)},m.prototype.hasDomain=function(){return null!==this.domain_},m.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},m.prototype.setPort=function(e){if(e){if((e=Number(e))!==(65535&e))throw new Error("Bad port number "+e);this.port_=""+e}else this.port_=null;return this},m.prototype.hasPort=function(){return null!==this.port_},m.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},m.prototype.getRawPath=function(){return this.path_},m.prototype.setPath=function(e){return this.setRawPath(u(e,p))},m.prototype.setRawPath=function(e){return e?(e=String(e),this.path_=!this.domain_||/^\//.test(e)?e:"/"+e):this.path_=null,this},m.prototype.hasPath=function(){return null!==this.path_},m.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},m.prototype.getRawQuery=function(){return this.query_},m.prototype.setQuery=function(e){return this.paramCache_=null,this.query_=l(e),this},m.prototype.setRawQuery=function(e){return this.paramCache_=null,this.query_=e||null,this},m.prototype.hasQuery=function(){return null!==this.query_},m.prototype.setAllParameters=function(e){if("object"==typeof e&&!(e instanceof Array)&&(e instanceof Object||"[object Array]"!==Object.prototype.toString.call(e))){var t=[],i=-1;for(s in e)"string"==typeof(o=e[s])&&(t[++i]=s,t[++i]=o);e=t}this.paramCache_=null;for(var n=[],a="",r=0;r<e.length;){var s=e[r++],o=e[r++];n.push(a,encodeURIComponent(s.toString())),a="&",o&&n.push("=",encodeURIComponent(o.toString()))}return this.query_=n.join(""),this},m.prototype.checkParameterCache_=function(){if(!this.paramCache_){var e=this.query_;if(e){for(var t=e.split(/[&\?]/),i=[],n=-1,a=0;a<t.length;++a){var r=t[a].match(/^([^=]*)(?:=(.*))?$/);i[++n]=decodeURIComponent(r[1]).replace(/\+/g," "),i[++n]=decodeURIComponent(r[2]||"").replace(/\+/g," ")}this.paramCache_=i}else this.paramCache_=[]}},m.prototype.setParameterValues=function(e,t){"string"==typeof t&&(t=[t]),this.checkParameterCache_();for(var i=0,n=this.paramCache_,a=[],r=0;r<n.length;r+=2)e===n[r]?i<t.length&&a.push(e,t[i++]):a.push(n[r],n[r+1]);for(;i<t.length;)a.push(e,t[i++]);return this.setAllParameters(a),this},m.prototype.removeParameter=function(e){return this.setParameterValues(e,[])},m.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},m.prototype.getParameterValues=function(e){this.checkParameterCache_();for(var t=[],i=0;i<this.paramCache_.length;i+=2)e===this.paramCache_[i]&&t.push(this.paramCache_[i+1]);return t},m.prototype.getParameterMap=function(e){this.checkParameterCache_();for(var t={},i=0;i<this.paramCache_.length;i+=2){var n=this.paramCache_[i++],a=this.paramCache_[i++];n in t?t[n].push(a):t[n]=[a]}return t},m.prototype.getParameterValue=function(e){this.checkParameterCache_();for(var t=0;t<this.paramCache_.length;t+=2)if(e===this.paramCache_[t])return this.paramCache_[t+1];return null},m.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},m.prototype.getRawFragment=function(){return this.fragment_},m.prototype.setFragment=function(e){return this.fragment_=e?encodeURIComponent(e):null,this},m.prototype.setRawFragment=function(e){return this.fragment_=e||null,this},m.prototype.hasFragment=function(){return null!==this.fragment_},n=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),c=/[#\/\?@]/g,p=/[\#\?]/g,m.parse=s,m.create=function(e,t,i,n,a,r,s){return e=new m(u(e,c),u(t,c),l(i),0<n?n.toString():null,u(a,p),null,l(s)),r&&("string"==typeof r?e.setRawQuery(r.replace(/[^?&=0-9A-Za-z_\-~.%]/g,d)):e.setAllParameters(r)),e},m.resolve=f,m.collapse_dots=h,m.utils={mimeTypeOf:function(e){e=s(e);return/\.html$/.test(e.getPath())?"text/html":"application/javascript"},resolve:function(e,t){return e?f(s(e),s(t)).toString():""+t}};var a,o,n,c,p,r=m;function s(e){e=(""+e).match(n);return e?new m(y(e[1]),y(e[2]),y(e[3]),y(e[4]),y(e[5]),y(e[6]),y(e[7])):null}function l(e){return"string"==typeof e?encodeURIComponent(e):null}function u(e,t){return"string"==typeof e?encodeURI(e).replace(t,d):null}function d(e){e=e.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(e>>4&15)+"0123456789ABCDEF".charAt(15&e)}function h(e){if(null===e)return null;for(var t,i=e.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/"),n=a;(t=i.replace(n,"$1"))!=i;i=t);return i}function f(e,t){var i,n,e=e.clone(),a=t.hasScheme(),r=(a?e.setRawScheme(t.getRawScheme()):a=t.hasCredentials(),a?e.setRawCredentials(t.getRawCredentials()):a=t.hasDomain(),a?e.setRawDomain(t.getRawDomain()):a=t.hasPort(),t.getRawPath()),s=h(r);return a?(e.setPort(t.getPort()),s=s&&s.replace(o,"")):(a=!!r)?47!==s.charCodeAt(0)&&(i=h(e.getRawPath()||"").replace(o,""),s=h(((n=i.lastIndexOf("/")+1)?i.substring(0,n):"")+h(r)).replace(o,"")):(s=s&&s.replace(o,""))!==r&&e.setRawPath(s),a?e.setRawPath(s):a=t.hasQuery(),a?e.setRawQuery(t.getRawQuery()):a=t.hasFragment(),a&&e.setRawFragment(t.getRawFragment()),e}function m(e,t,i,n,a,r,s){this.scheme_=e,this.credentials_=t,this.domain_=i,this.port_=n,this.path_=a,this.query_=r,this.fragment_=s,this.paramCache_=null}function y(e){return"string"==typeof e&&0<e.length?e:null}void 0!==i?(i=void 0!==t&&t.exports?t.exports=r:i).URI=r:"undefined"!=typeof window&&(window.URI=r)},{}],417:[function(e,t,i){var n=e("./lib/html4.js"),M=e("./lib/uri.js");if("i"!=="I".toLowerCase())throw"I/i problem";f=n,"undefined"!=typeof window&&(d=window.parseCssDeclarations,h=window.sanitizeCssProperty),a={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:""},r=/^#(\d+)$/,s=/^#x([0-9A-Fa-f]+)$/,o=/^[A-Za-z][A-za-z0-9]+$/,c="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null,m=/\0/g,p=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,y=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,l=/&/g,u=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,g=/[<]/g,v=/>/g,b=/\"/g,x=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),_=3==="a,b".split(/(,)/).length,w=f.eflags.CDATA|f.eflags.RCDATA,k={},E={},S=/^(?:https?|mailto)$/i,(e={}).escapeAttrib=e.escapeAttrib=T,e.makeHtmlSanitizer=e.makeHtmlSanitizer=B,e.makeSaxParser=e.makeSaxParser=O,e.makeTagPolicy=e.makeTagPolicy=H,e.normalizeRCData=e.normalizeRCData=A,e.sanitize=e.sanitize=function(e,t,i,n){return z(e,H(t,i,n))},e.sanitizeAttribs=e.sanitizeAttribs=U,e.sanitizeWithPolicy=e.sanitizeWithPolicy=z,e.unescapeEntities=e.unescapeEntities=C;var f,d,h,a,r,s,o,c,m,p,y,l,u,g,v,b,x,_,w,k,E,S,D=e;function L(e,t){return t=t,a.hasOwnProperty(t)?a[t]:(i=t.match(r))?String.fromCharCode(parseInt(i[1],10)):(i=t.match(s))?String.fromCharCode(parseInt(i[1],16)):c&&o.test(t)?(c.innerHTML="&"+t+";",i=c.textContent,a[t]=i):"&"+t+";";var i}function C(e){return e&&e.replace(p,L)}function T(e){return e&&(""+e).replace(l,"&amp;").replace(g,"&lt;").replace(v,"&gt;").replace(b,"&#34;")}function A(e){return e&&e.replace(u,"&amp;$1").replace(g,"&lt;").replace(v,"&gt;")}function O(e){var a={cdata:e.cdata||e.cdata,comment:e.comment||e.comment,endDoc:e.endDoc||e.endDoc,endTag:e.endTag||e.endTag,pcdata:e.pcdata||e.pcdata,rcdata:e.rcdata||e.rcdata,startDoc:e.startDoc||e.startDoc,startTag:e.startTag||e.startTag};return function(e,t){var i=e,n=a;i=function(e){var t,i=/(<\/|<\!--|<[!?]|[&<>])/g;{if(e+="",_)return e.split(i);for(var n=[],a=0;null!==(t=i.exec(e));)n.push(e.substring(a,t.index)),n.push(t[0]),a=t.index+t[0].length;return n.push(e.substring(a)),n}}(e),P(n,i,0,{noMoreGT:!1,noMoreEndComments:!1},t)}}function I(e,t,i,n,a){return function(){P(e,t,i,n,a)}}function P(e,t,i,n,a){try{var r,s,o;e.startDoc&&0==i&&e.startDoc(a);for(var c=i,p=t.length;c<p;){var l,u,d=t[c++],h=t[c];switch(d){case"&":y.test(h)?(e.pcdata&&e.pcdata("&"+h,a,k,I(e,t,c,n,a)),c++):e.pcdata&&e.pcdata("&amp;",a,k,I(e,t,c,n,a));break;case"</":(r=/^([-\w:]+)[^\'\"]*/.exec(h))?r[0].length===h.length&&">"===t[c+1]?(c+=2,o=r[1].toLowerCase(),e.endTag&&e.endTag(o,a,k,I(e,t,c,n,a))):c=function(e,t,i,n,a,r){var s=j(e,t);if(!s)return e.length;i.endTag&&i.endTag(s.name,n,a,I(i,e,t,r,n));return s.next}(t,c,e,a,k,n):e.pcdata&&e.pcdata("&lt;/",a,k,I(e,t,c,n,a));break;case"<":(r=/^([-\w:]+)\s*\/?/.exec(h))?r[0].length===h.length&&">"===t[c+1]?(c+=2,o=r[1].toLowerCase(),e.startTag&&e.startTag(o,[],a,k,I(e,t,c,n,a)),(l=f.ELEMENTS[o])&w&&(c=R(t,{name:o,next:c,eflags:l},e,a,k,n))):c=function(e,t,i,n,a,r){t=j(e,t);if(!t)return e.length;i.startTag&&i.startTag(t.name,t.attrs,n,a,I(i,e,t.next,r,n));return t.eflags&w?R(e,t,i,n,a,r):t.next}(t,c,e,a,k,n):e.pcdata&&e.pcdata("&lt;",a,k,I(e,t,c,n,a));break;case"\x3c!--":if(!n.noMoreEndComments){for(s=c+1;s<p&&(">"!==t[s]||!/--$/.test(t[s-1]));s++);s<p?(e.comment&&(u=t.slice(c,s).join(""),e.comment(u.substr(0,u.length-2),a,k,I(e,t,s+1,n,a))),c=s+1):n.noMoreEndComments=!0}n.noMoreEndComments&&e.pcdata&&e.pcdata("&lt;!--",a,k,I(e,t,c,n,a));break;case"<!":if(/^\w/.test(h)){if(!n.noMoreGT){for(s=c+1;s<p&&">"!==t[s];s++);s<p?c=s+1:n.noMoreGT=!0}n.noMoreGT&&e.pcdata&&e.pcdata("&lt;!",a,k,I(e,t,c,n,a))}else e.pcdata&&e.pcdata("&lt;!",a,k,I(e,t,c,n,a));break;case"<?":if(!n.noMoreGT){for(s=c+1;s<p&&">"!==t[s];s++);s<p?c=s+1:n.noMoreGT=!0}n.noMoreGT&&e.pcdata&&e.pcdata("&lt;?",a,k,I(e,t,c,n,a));break;case">":e.pcdata&&e.pcdata("&gt;",a,k,I(e,t,c,n,a));break;case"":break;default:e.pcdata&&e.pcdata(d,a,k,I(e,t,c,n,a))}}e.endDoc&&e.endDoc(a)}catch(e){if(e!==k)throw e}}function R(e,t,i,n,a,r){for(var s=e.length,o=(E.hasOwnProperty(t.name)||(E[t.name]=new RegExp("^"+t.name+"(?:[\\s\\/]|$)","i")),E[t.name]),c=t.next,p=t.next+1;p<s&&("</"!==e[p-1]||!o.test(e[p]));p++);p<s&&--p;c=e.slice(c,p).join("");if(t.eflags&f.eflags.CDATA)i.cdata&&i.cdata(c,n,a,I(i,e,p,r,n));else{if(!(t.eflags&f.eflags.RCDATA))throw new Error("bug");i.rcdata&&i.rcdata(A(c),n,a,I(i,e,p,r,n))}return p}function j(e,t){for(var i=/^([-\w:]+)/.exec(e[t]),n={},a=(n.name=i[1].toLowerCase(),n.eflags=f.ELEMENTS[n.name],e[t].substr(i[0].length)),r=t+1,s=e.length;r<s&&">"!==e[r];r++)a+=e[r];if(!(s<=r)){for(var o=[];""!==a;)if(i=x.exec(a))if(i[4]&&!i[5]||i[6]&&!i[7]){for(var c=i[4]||i[6],p=!1,l=[a,e[r++]];r<s;r++){if(p){if(">"===e[r])break}else 0<=e[r].indexOf(c)&&(p=!0);l.push(e[r])}if(s<=r)break;a=l.join("")}else{var u=i[1].toLowerCase(),d=i[2]?function(e){var t=e.charCodeAt(0);34!==t&&39!==t||(e=e.substr(1,e.length-2));return C(function(e){return e.replace(m,"")}(e))}(i[3]):"";o.push(u,d),a=a.substr(i[0].length)}else a=a.replace(/^[\s\S][^a-z\s]*/,"");return n.attrs=o,n.next=r+1,n}}function B(u){function e(e,t){h||t.push(e)}var d,h;return O({startDoc:function(e){h=!(d=[])},startTag:function(e,t,i){if(!h&&f.ELEMENTS.hasOwnProperty(e)){var n=f.ELEMENTS[e];if(!(n&f.eflags.FOLDABLE)){var a,r,s=u(e,t);if(s){if("object"!=typeof s)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in s))throw new Error("tagPolicy gave no attribs");t=s.attribs,s="tagName"in s?(a=s.tagName,f.ELEMENTS[a]):(a=e,n),n&f.eflags.OPTIONAL_ENDTAG&&(!(r=d[d.length-1])||r.orig!==e||r.rep===a&&e===a||i.push("</",r.rep,">")),n&f.eflags.EMPTY||d.push({orig:e,rep:a}),i.push("<",a);for(var o=0,c=t.length;o<c;o+=2){var p=t[o],l=t[o+1];null!=l&&i.push(" ",p,'="',T(l),'"')}i.push(">"),n&f.eflags.EMPTY&&!(s&f.eflags.EMPTY)&&i.push("</",a,">")}else h=!(n&f.eflags.EMPTY)}}},endTag:function(e,t){if(h)h=!1;else if(f.ELEMENTS.hasOwnProperty(e)){var i,n=f.ELEMENTS[e];if(!(n&(f.eflags.EMPTY|f.eflags.FOLDABLE))){if(n&f.eflags.OPTIONAL_ENDTAG)for(i=d.length;0<=--i;){var a=d[i].orig;if(a===e)break;if(!(f.ELEMENTS[a]&f.eflags.OPTIONAL_ENDTAG))return}else for(i=d.length;0<=--i&&d[i].orig!==e;);if(!(i<0)){for(var r=d.length;--r>i;){var s=d[r].rep;f.ELEMENTS[s]&f.eflags.OPTIONAL_ENDTAG||t.push("</",s,">")}i<d.length&&(e=d[i].rep),d.length=i,t.push("</",e,">")}}}},pcdata:e,rcdata:e,cdata:e,endDoc:function(e){for(;d.length;d.length--)e.push("</",d[d.length-1].rep,">")}})}function F(e,t,i,n,a){if(a)try{var r,s=M.parse(""+e);if(s)if(!s.hasScheme()||S.test(s.getScheme()))return(r=a(s,t,i,n))?r.toString():null}catch(e){}return null}function N(e,t,i,n,a){var r;i||e(t+" removed",{change:"removed",tagName:t}),n!==a&&(r="changed",n&&!a?r="removed":!n&&a&&(r="added"),e(t+"."+i+" "+r,{change:r,tagName:t,attribName:i,oldValue:n,newValue:a}))}function q(e,t,i){t=t+"::"+i;return e.hasOwnProperty(t)||e.hasOwnProperty(t="*::"+i)?e[t]:void 0}function U(e,t,n,i,a){for(var r=0;r<t.length;r+=2){var s,o,c=t[r],p=t[r+1],l=p,u=null;if(null!==(u=f.ATTRIBS.hasOwnProperty(s=e+"::"+c)||f.ATTRIBS.hasOwnProperty(s="*::"+c)?f.ATTRIBS[s]:u))switch(u){case f.atype.NONE:break;case f.atype.SCRIPT:p=null,a&&N(a,e,c,l,p);break;case f.atype.STYLE:void 0===d?(p=null,a&&N(a,e,c,l,p)):(o=[],d(p,{declaration:function(e,t){var i=e.toLowerCase();h(i,t,n?function(e){return F(e,f.ueffects.SAME_DOCUMENT,f.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:i},n)}:null),t.length&&o.push(i+": "+t.join(" "))}}),p=0<o.length?o.join(" ; "):null,a&&N(a,e,c,l,p));break;case f.atype.ID:case f.atype.IDREF:case f.atype.IDREFS:case f.atype.GLOBAL_NAME:case f.atype.LOCAL_NAME:case f.atype.CLASSES:p=i?i(p):p,a&&N(a,e,c,l,p);break;case f.atype.URI:p=F(p,q(f.URIEFFECTS,e,c),q(f.LOADERTYPES,e,c),{TYPE:"MARKUP",XML_ATTR:c,XML_TAG:e},n),a&&N(a,e,c,l,p);break;case f.atype.URI_FRAGMENT:p&&"#"===p.charAt(0)?(p=p.substring(1),null!=(p=i?i(p):p)&&(p="#"+p)):p=null,a&&N(a,e,c,l,p);break;default:p=null,a&&N(a,e,c,l,p)}else p=null,a&&N(a,e,c,l,p);t[r+1]=p}return t}function H(i,n,a){return function(e,t){if(!(f.ELEMENTS[e]&f.eflags.UNSAFE))return{attribs:U(e,t,i,n,a)};a&&N(a,e,void 0,void 0,void 0)}}function z(e,t){var i=[];return B(t)(e,i),i.join("")}n=D.sanitize,"undefined"!=typeof window&&(window.html=D,window.html_sanitize=n),e={};e.escapeAttrib=D.escapeAttrib,e.makeHtmlSanitizer=D.makeHtmlSanitizer,e.makeSaxParser=D.makeSaxParser,e.makeTagPolicy=D.makeTagPolicy,e.normalizeRCData=D.normalizeRCData,e.sanitizeAttribs=D.sanitizeAttribs,e.sanitizeWithPolicy=D.sanitizeWithPolicy,e.unescapeEntities=D.unescapeEntities,e.escape=D.escapeAttrib,e.sanitize=function(e,t,i,n){return(e="string"==typeof e?e.replace(/<([a-zA-Z]+)([^>]*)\/>/g,"<$1$2></$1>"):e)&&D.sanitize(e,t,i,n)},void 0!==i?(i=void 0!==t&&t.exports?t.exports=e:i).Sanitizer=e:this.Sanitizer=e},{"./lib/html4.js":415,"./lib/uri.js":416}],418:[function(e,t,i){const n=Symbol("SemVer ANY");t.exports=class u{static get ANY(){return n}constructor(e,t){if(t=a(t),e instanceof u){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){var t=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR];if(!(t=e.match(t)))throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),t[2]?this.semver=new p(t[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}return o(e,this.operator,this.semver,this.options)}intersects(e,t){if(e instanceof u)return""===this.operator?""===this.value||new l(e.value,t).test(this.value):""===e.operator?""===e.value||new l(this.value,t).test(e.semver):(!(t=a(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&!(this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||o(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||o(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")));throw new TypeError("a Comparator is required")}};const a=e("../internal/parse-options"),{safeRe:r,t:s}=e("../internal/re"),o=e("../functions/cmp"),c=e("../internal/debug"),p=e("./semver"),l=e("./range")},{"../functions/cmp":422,"../internal/debug":447,"../internal/parse-options":449,"../internal/re":450,"./range":419,"./semver":420}],419:[function(e,t,i){t.exports=class O{constructor(e,t){if(t=n(t),e instanceof O)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new O(e.raw,t);if(e instanceof c)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);if(1<this.set.length)if(t=this.set[0],this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[t];else if(1<this.set.length)for(const i of this.set)if(1===i.length&&r(i[0])){this.set=[i];break}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){var t=((this.options.includePrerelease&&m)|(this.options.loose&&y))+":"+e,i=o.get(t);if(i)return i;var n=(i=this.options.loose)?d[h.HYPHENRANGELOOSE]:d[h.HYPHENRANGE];e=e.replace(n,T(this.options.includePrerelease)),u("hyphen replace",e),e=e.replace(d[h.COMPARATORTRIM],p),u("comparator trim",e),e=e.replace(d[h.TILDETRIM],l),u("tilde trim",e),e=e.replace(d[h.CARETTRIM],f),u("caret trim",e);let a=e.split(" ").map(e=>v(e,this.options)).join(" ").split(/\s+/).map(e=>C(e,this.options));i&&(a=a.filter(e=>(u("loose invalid filter",e,this.options),!!e.match(d[h.COMPARATORLOOSE])))),u("range list",a);var r=new Map;for(const s of a.map(e=>new c(e,this.options))){if(g(s))return[s];r.set(s.value,s)}return 1<r.size&&r.has("")&&r.delete(""),n=[...r.values()],o.set(t,n),n}intersects(e,i){if(e instanceof O)return this.set.some(t=>s(t,i)&&e.set.some(e=>s(e,i)&&t.every(t=>e.every(e=>t.intersects(e,i)))));throw new TypeError("a Range is required")}test(t){if(t){if("string"==typeof t)try{t=new a(t,this.options)}catch(e){return!1}for(let e=0;e<this.set.length;e++)if(A(this.set[e],t,this.options))return!0}return!1}};const o=new(e("lru-cache"))({max:1e3}),n=e("../internal/parse-options"),c=e("./comparator"),u=e("../internal/debug"),a=e("./semver"),{safeRe:d,t:h,comparatorTrimReplace:p,tildeTrimReplace:l,caretTrimReplace:f}=e("../internal/re"),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=e("../internal/constants"),g=e=>"<0.0.0-0"===e.value,r=e=>""===e.value,s=(e,t)=>{let i=!0;var n=e.slice();let a=n.pop();for(;i&&n.length;)i=n.every(e=>a.intersects(e,t)),a=n.pop();return i},v=(e,t)=>(u("comp",e,t),e=w(e,t),u("caret",e),e=x(e,t),u("tildes",e),e=E(e,t),u("xrange",e),e=D(e,t),u("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(s,e)=>{e=e.loose?d[h.TILDELOOSE]:d[h.TILDE];return s.replace(e,(e,t,i,n,a)=>{u("tilde",s,e,t,i,n,a);let r;return r=b(t)?"":b(i)?`>=${t}.0.0 <${+t+1}.0.0-0`:b(n)?`>=${t}.${i}.0 <${t}.${+i+1}.0-0`:a?(u("replaceTilde pr",a),`>=${t}.${i}.${n}-${a} <${t}.${+i+1}.0-0`):`>=${t}.${i}.${n} <${t}.${+i+1}.0-0`,u("tilde return",r),r})},w=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(s,e)=>{u("caret",s,e);var t=e.loose?d[h.CARETLOOSE]:d[h.CARET];const o=e.includePrerelease?"-0":"";return s.replace(t,(e,t,i,n,a)=>{u("caret",s,e,t,i,n,a);let r;return r=b(t)?"":b(i)?`>=${t}.0.0${o} <${+t+1}.0.0-0`:b(n)?"0"===t?`>=${t}.${i}.0${o} <${t}.${+i+1}.0-0`:`>=${t}.${i}.0${o} <${+t+1}.0.0-0`:a?(u("replaceCaret pr",a),"0"===t?"0"===i?`>=${t}.${i}.${n}-${a} <${t}.${i}.${+n+1}-0`:`>=${t}.${i}.${n}-${a} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${n}-${a} <${+t+1}.0.0-0`):(u("no pr"),"0"===t?"0"===i?`>=${t}.${i}.${n}${o} <${t}.${i}.${+n+1}-0`:`>=${t}.${i}.${n}${o} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${n} <${+t+1}.0.0-0`),u("caret return",r),r})},E=(e,t)=>(u("replaceXRanges",e,t),e.split(/\s+/).map(e=>S(e,t)).join(" ")),S=(p,l)=>{p=p.trim();var e=l.loose?d[h.XRANGELOOSE]:d[h.XRANGE];return p.replace(e,(e,t,i,n,a,r)=>{u("xRange",p,e,t,i,n,a,r);var s=b(i),o=s||b(n),c=o||b(a);return"="===t&&c&&(t=""),r=l.includePrerelease?"-0":"",s?e=">"===t||"<"===t?"<0.0.0-0":"*":t&&c?(o&&(n=0),a=0,">"===t?(t=">=",a=o?(i=+i+1,n=0):(n=+n+1,0)):"<="===t&&(t="<",o?i=+i+1:n=+n+1),e=t+i+`.${n}.`+a+(r="<"===t?"-0":r)):o?e=`>=${i}.0.0${r} <${+i+1}.0.0-0`:c&&(e=`>=${i}.${n}.0${r} <${i}.${+n+1}.0-0`),u("xRange return",e),e})},D=(e,t)=>(u("replaceStars",e,t),e.trim().replace(d[h.STAR],"")),C=(e,t)=>(u("replaceGTE0",e,t),e.trim().replace(d[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),T=h=>(e,t,i,n,a,r,s,o,c,p,l,u,d)=>((t=b(i)?"":b(n)?`>=${i}.0.0`+(h?"-0":""):b(a)?`>=${i}.${n}.0`+(h?"-0":""):r?">="+t:">="+t+(h?"-0":""))+" "+(o=b(c)?"":b(p)?`<${+c+1}.0.0-0`:b(l)?`<${c}.${+p+1}.0-0`:u?`<=${c}.${p}.${l}-`+u:h?`<${c}.${p}.${+l+1}-0`:"<="+o)).trim(),A=(t,i,e)=>{for(let e=0;e<t.length;e++)if(!t[e].test(i))return!1;if(!i.prerelease.length||e.includePrerelease)return!0;for(let e=0;e<t.length;e++)if(u(t[e].semver),t[e].semver!==c.ANY&&0<t[e].semver.prerelease.length){var n=t[e].semver;if(n.major===i.major&&n.minor===i.minor&&n.patch===i.patch)return!0}return!1}},{"../internal/constants":446,"../internal/debug":447,"../internal/parse-options":449,"../internal/re":450,"./comparator":418,"./semver":420,"lru-cache":346}],420:[function(e,t,i){const a=e("../internal/debug"),{MAX_LENGTH:n,MAX_SAFE_INTEGER:r}=e("../internal/constants"),{safeRe:s,t:o}=e("../internal/re"),c=e("../internal/parse-options"),p=e("../internal/identifiers")["compareIdentifiers"];t.exports=class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);if(a("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,!(t=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL])))throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){var t=+e;if(0<=t&&t<r)return t}return e}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.`+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(a("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),p(this.major,e.major)||p(this.minor,e.minor)||p(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{var i=this.prerelease[t],n=e.prerelease[t];if(a("prerelease compare",t,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return p(i,n)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{var i=this.build[t],n=e.build[t];if(a("prerelease compare",t,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return p(i,n)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":var n=Number(i)?1:0;if(!t&&!1===i)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[n];else{let e=this.prerelease.length;for(;0<=--e;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);if(-1===e){if(t===this.prerelease.join(".")&&!1===i)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(t){let e=!1===i?[t]:[t,n];0===p(this.prerelease[0],t)&&!isNaN(this.prerelease[1])||(this.prerelease=e)}break;default:throw new Error("invalid increment argument: "+e)}return this.raw=this.format(),this.build.length&&(this.raw+="+"+this.build.join(".")),this}}},{"../internal/constants":446,"../internal/debug":447,"../internal/identifiers":448,"../internal/parse-options":449,"../internal/re":450}],421:[function(e,t,i){const n=e("./parse");t.exports=(e,t)=>{e=n(e.trim().replace(/^[=v]+/,""),t);return e?e.version:null}},{"./parse":437}],422:[function(e,t,i){const a=e("./eq"),r=e("./neq"),s=e("./gt"),o=e("./gte"),c=e("./lt"),p=e("./lte");t.exports=(e,t,i,n)=>{switch(t){case"===":return(e="object"==typeof e?e.version:e)===(i="object"==typeof i?i.version:i);case"!==":return(e="object"==typeof e?e.version:e)!==(i="object"==typeof i?i.version:i);case"":case"=":case"==":return a(e,i,n);case"!=":return r(e,i,n);case">":return s(e,i,n);case">=":return o(e,i,n);case"<":return c(e,i,n);case"<=":return p(e,i,n);default:throw new TypeError("Invalid operator: "+t)}}},{"./eq":428,"./gt":429,"./gte":430,"./lt":432,"./lte":433,"./neq":436}],423:[function(e,t,i){const a=e("../classes/semver"),r=e("./parse"),{safeRe:s,t:o}=e("../internal/re");t.exports=(e,t)=>{if(e instanceof a)return e;if("string"!=typeof(e="number"==typeof e?String(e):e))return null;let i=null;if((t=t||{}).rtl){for(var n;(n=s[o.COERCERTL].exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&n.index+n[0].length===i.index+i[0].length||(i=n),s[o.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;s[o.COERCERTL].lastIndex=-1}else i=e.match(s[o.COERCE]);return null===i?null:r(`${i[2]}.${i[3]||"0"}.`+(i[4]||"0"),t)}},{"../classes/semver":420,"../internal/re":450,"./parse":437}],424:[function(e,t,i){const n=e("../classes/semver");t.exports=(e,t,i)=>{e=new n(e,i),t=new n(t,i);return e.compare(t)||e.compareBuild(t)}},{"../classes/semver":420}],425:[function(e,t,i){const n=e("./compare");t.exports=(e,t)=>n(e,t,!0)},{"./compare":426}],426:[function(e,t,i){const n=e("../classes/semver");t.exports=(e,t,i)=>new n(e,i).compare(new n(t,i))},{"../classes/semver":420}],427:[function(e,t,i){const r=e("./parse.js");t.exports=(e,t)=>{var i,n,e=r(e,null,!0),t=r(t,null,!0),a=e.compare(t);return 0===a?null:(n=!!(i=(a=0<a)?e:t).prerelease.length,!!(a=a?t:e).prerelease.length&&!n?a.patch||a.minor?i.patch?"patch":i.minor?"minor":"major":"major":(a=n?"pre":"",e.major!==t.major?a+"major":e.minor!==t.minor?a+"minor":e.patch!==t.patch?a+"patch":"prerelease"))}},{"./parse.js":437}],428:[function(e,t,i){const n=e("./compare");t.exports=(e,t,i)=>0===n(e,t,i)},{"./compare":426}],429:[function(e,t,i){const n=e("./compare");t.exports=(e,t,i)=>0<n(e,t,i)},{"./compare":426}],430:[function(e,t,i){const n=e("./compare");t.exports=(e,t,i)=>0<=n(e,t,i)},{"./compare":426}],431:[function(e,t,i){const r=e("../classes/semver");t.exports=(e,t,i,n,a)=>{"string"==typeof i&&(a=n,n=i,i=void 0);try{return new r(e instanceof r?e.version:e,i).inc(t,n,a).version}catch(e){return null}}},{"../classes/semver":420}],432:[function(e,t,i){const n=e("./compare");t.exports=(e,t,i)=>n(e,t,i)<0},{"./compare":426}],433:[function(e,t,i){const n=e("./compare");t.exports=(e,t,i)=>n(e,t,i)<=0},{"./compare":426}],434:[function(e,t,i){const n=e("../classes/semver");t.exports=(e,t)=>new n(e,t).major},{"../classes/semver":420}],435:[function(e,t,i){const n=e("../classes/semver");t.exports=(e,t)=>new n(e,t).minor},{"../classes/semver":420}],436:[function(e,t,i){const n=e("./compare");t.exports=(e,t,i)=>0!==n(e,t,i)},{"./compare":426}],437:[function(e,t,i){const n=e("../classes/semver");t.exports=(e,t,i=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(i)throw e;return null}}},{"../classes/semver":420}],438:[function(e,t,i){const n=e("../classes/semver");t.exports=(e,t)=>new n(e,t).patch},{"../classes/semver":420}],439:[function(e,t,i){const n=e("./parse");t.exports=(e,t)=>{e=n(e,t);return e&&e.prerelease.length?e.prerelease:null}},{"./parse":437}],440:[function(e,t,i){const n=e("./compare");t.exports=(e,t,i)=>n(t,e,i)},{"./compare":426}],441:[function(e,t,i){const n=e("./compare-build");t.exports=(e,i)=>e.sort((e,t)=>n(t,e,i))},{"./compare-build":424}],442:[function(e,t,i){const n=e("../classes/range");t.exports=(e,t,i)=>{try{t=new n(t,i)}catch(e){return!1}return t.test(e)}},{"../classes/range":419}],443:[function(e,t,i){const n=e("./compare-build");t.exports=(e,i)=>e.sort((e,t)=>n(e,t,i))},{"./compare-build":424}],444:[function(e,t,i){const n=e("./parse");t.exports=(e,t)=>{e=n(e,t);return e?e.version:null}},{"./parse":437}],445:[function(e,t,M){var i=e("./internal/re"),n=e("./internal/constants"),a=e("./classes/semver"),r=e("./internal/identifiers"),s=e("./functions/parse"),o=e("./functions/valid"),c=e("./functions/clean"),p=e("./functions/inc"),l=e("./functions/diff"),u=e("./functions/major"),d=e("./functions/minor"),h=e("./functions/patch"),f=e("./functions/prerelease"),m=e("./functions/compare"),y=e("./functions/rcompare"),g=e("./functions/compare-loose"),v=e("./functions/compare-build"),b=e("./functions/sort"),x=e("./functions/rsort"),_=e("./functions/gt"),w=e("./functions/lt"),k=e("./functions/eq"),E=e("./functions/neq"),S=e("./functions/gte"),D=e("./functions/lte"),C=e("./functions/cmp"),T=e("./functions/coerce"),A=e("./classes/comparator"),O=e("./classes/range"),I=e("./functions/satisfies"),P=e("./ranges/to-comparators"),R=e("./ranges/max-satisfying"),j=e("./ranges/min-satisfying"),N=e("./ranges/min-version"),L=e("./ranges/valid"),B=e("./ranges/outside"),F=e("./ranges/gtr"),q=e("./ranges/ltr"),U=e("./ranges/intersects"),H=e("./ranges/simplify"),e=e("./ranges/subset");t.exports={parse:s,valid:o,clean:c,inc:p,diff:l,major:u,minor:d,patch:h,prerelease:f,compare:m,rcompare:y,compareLoose:g,compareBuild:v,sort:b,rsort:x,gt:_,lt:w,eq:k,neq:E,gte:S,lte:D,cmp:C,coerce:T,Comparator:A,Range:O,satisfies:I,toComparators:P,maxSatisfying:R,minSatisfying:j,minVersion:N,validRange:L,outside:B,gtr:F,ltr:q,intersects:U,simplifyRange:H,subset:e,SemVer:a,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers}},{"./classes/comparator":418,"./classes/range":419,"./classes/semver":420,"./functions/clean":421,"./functions/cmp":422,"./functions/coerce":423,"./functions/compare":426,"./functions/compare-build":424,"./functions/compare-loose":425,"./functions/diff":427,"./functions/eq":428,"./functions/gt":429,"./functions/gte":430,"./functions/inc":431,"./functions/lt":432,"./functions/lte":433,"./functions/major":434,"./functions/minor":435,"./functions/neq":436,"./functions/parse":437,"./functions/patch":438,"./functions/prerelease":439,"./functions/rcompare":440,"./functions/rsort":441,"./functions/satisfies":442,"./functions/sort":443,"./functions/valid":444,"./internal/constants":446,"./internal/identifiers":448,"./internal/re":450,"./ranges/gtr":451,"./ranges/intersects":452,"./ranges/ltr":453,"./ranges/max-satisfying":454,"./ranges/min-satisfying":455,"./ranges/min-version":456,"./ranges/outside":457,"./ranges/simplify":458,"./ranges/subset":459,"./ranges/to-comparators":460,"./ranges/valid":461}],446:[function(e,t,i){var n=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},{}],447:[function(e,t,i){var n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};t.exports=n},{}],448:[function(e,t,i){const a=/^[0-9]+$/,n=(e,t)=>{var i=a.test(e),n=a.test(t);return i&&n&&(e=+e,t=+t),e===t?0:i&&!n||(!n||i)&&e<t?-1:1};t.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},{}],449:[function(e,t,i){const n=Object.freeze({loose:!0}),a=Object.freeze({});t.exports=e=>e?"object"!=typeof e?n:e:a},{}],450:[function(e,t,i){var{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:r}=e("./constants");const s=e("./debug"),o=(i=t.exports={}).re=[],c=i.safeRe=[],p=i.src=[],l=i.t={};let u=0;e="[a-zA-Z0-9-]";const d=[["\\s",1],["\\d",r],[e,a]];t=(e,t,i)=>{var n=(e=>{for(var[t,i]of d)e=e.split(t+"*").join(`${t}{0,${i}}`).split(t+"+").join(`${t}{1,${i}}`);return e})(t),a=u++;s(e,a,t),l[e]=a,p[a]=t,o[a]=new RegExp(t,i?"g":void 0),c[a]=new RegExp(n,i?"g":void 0)};t("NUMERICIDENTIFIER","0|[1-9]\\d*"),t("NUMERICIDENTIFIERLOOSE","\\d+"),t("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${e}*`),t("MAINVERSION",`(${p[l.NUMERICIDENTIFIER]})\\.`+`(${p[l.NUMERICIDENTIFIER]})\\.`+`(${p[l.NUMERICIDENTIFIER]})`),t("MAINVERSIONLOOSE",`(${p[l.NUMERICIDENTIFIERLOOSE]})\\.`+`(${p[l.NUMERICIDENTIFIERLOOSE]})\\.`+`(${p[l.NUMERICIDENTIFIERLOOSE]})`),t("PRERELEASEIDENTIFIER",`(?:${p[l.NUMERICIDENTIFIER]}|${p[l.NONNUMERICIDENTIFIER]})`),t("PRERELEASEIDENTIFIERLOOSE",`(?:${p[l.NUMERICIDENTIFIERLOOSE]}|${p[l.NONNUMERICIDENTIFIER]})`),t("PRERELEASE",`(?:-(${p[l.PRERELEASEIDENTIFIER]}(?:\\.${p[l.PRERELEASEIDENTIFIER]})*))`),t("PRERELEASELOOSE",`(?:-?(${p[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[l.PRERELEASEIDENTIFIERLOOSE]})*))`),t("BUILDIDENTIFIER",e+"+"),t("BUILD",`(?:\\+(${p[l.BUILDIDENTIFIER]}(?:\\.${p[l.BUILDIDENTIFIER]})*))`),t("FULLPLAIN",`v?${p[l.MAINVERSION]}${p[l.PRERELEASE]}?${p[l.BUILD]}?`),t("FULL",`^${p[l.FULLPLAIN]}$`),t("LOOSEPLAIN",`[v=\\s]*${p[l.MAINVERSIONLOOSE]}${p[l.PRERELEASELOOSE]}?${p[l.BUILD]}?`),t("LOOSE",`^${p[l.LOOSEPLAIN]}$`),t("GTLT","((?:<|>)?=?)"),t("XRANGEIDENTIFIERLOOSE",p[l.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),t("XRANGEIDENTIFIER",p[l.NUMERICIDENTIFIER]+"|x|X|\\*"),t("XRANGEPLAIN",`[v=\\s]*(${p[l.XRANGEIDENTIFIER]})`+`(?:\\.(${p[l.XRANGEIDENTIFIER]})`+`(?:\\.(${p[l.XRANGEIDENTIFIER]})`+`(?:${p[l.PRERELEASE]})?${p[l.BUILD]}?`+")?)?"),t("XRANGEPLAINLOOSE",`[v=\\s]*(${p[l.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${p[l.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${p[l.XRANGEIDENTIFIERLOOSE]})`+`(?:${p[l.PRERELEASELOOSE]})?${p[l.BUILD]}?`+")?)?"),t("XRANGE",`^${p[l.GTLT]}\\s*${p[l.XRANGEPLAIN]}$`),t("XRANGELOOSE",`^${p[l.GTLT]}\\s*${p[l.XRANGEPLAINLOOSE]}$`),t("COERCE",`(^|[^\\d])(\\d{1,${n}})`+`(?:\\.(\\d{1,${n}}))?`+`(?:\\.(\\d{1,${n}}))?`+"(?:$|[^\\d])"),t("COERCERTL",p[l.COERCE],!0),t("LONETILDE","(?:~>?)"),t("TILDETRIM",`(\\s*)${p[l.LONETILDE]}\\s+`,!0),i.tildeTrimReplace="$1~",t("TILDE",`^${p[l.LONETILDE]}${p[l.XRANGEPLAIN]}$`),t("TILDELOOSE",`^${p[l.LONETILDE]}${p[l.XRANGEPLAINLOOSE]}$`),t("LONECARET","(?:\\^)"),t("CARETTRIM",`(\\s*)${p[l.LONECARET]}\\s+`,!0),i.caretTrimReplace="$1^",t("CARET",`^${p[l.LONECARET]}${p[l.XRANGEPLAIN]}$`),t("CARETLOOSE",`^${p[l.LONECARET]}${p[l.XRANGEPLAINLOOSE]}$`),t("COMPARATORLOOSE",`^${p[l.GTLT]}\\s*(${p[l.LOOSEPLAIN]})$|^$`),t("COMPARATOR",`^${p[l.GTLT]}\\s*(${p[l.FULLPLAIN]})$|^$`),t("COMPARATORTRIM",`(\\s*)${p[l.GTLT]}\\s*(${p[l.LOOSEPLAIN]}|${p[l.XRANGEPLAIN]})`,!0),i.comparatorTrimReplace="$1$2$3",t("HYPHENRANGE",`^\\s*(${p[l.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${p[l.XRANGEPLAIN]})`+"\\s*$"),t("HYPHENRANGELOOSE",`^\\s*(${p[l.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${p[l.XRANGEPLAINLOOSE]})`+"\\s*$"),t("STAR","(<|>)?=?\\s*\\*"),t("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),t("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},{"./constants":446,"./debug":447}],451:[function(e,t,i){const n=e("./outside");t.exports=(e,t,i)=>n(e,t,">",i)},{"./outside":457}],452:[function(e,t,i){const n=e("../classes/range");t.exports=(e,t,i)=>(e=new n(e,i),t=new n(t,i),e.intersects(t,i))},{"../classes/range":419}],453:[function(e,t,i){const n=e("./outside");t.exports=(e,t,i)=>n(e,t,"<",i)},{"./outside":457}],454:[function(e,t,i){const s=e("../classes/semver"),o=e("../classes/range");t.exports=(e,t,i)=>{let n=null,a=null,r=null;try{r=new o(t,i)}catch(e){return null}return e.forEach(e=>{!r.test(e)||n&&-1!==a.compare(e)||(n=e,a=new s(n,i))}),n}},{"../classes/range":419,"../classes/semver":420}],455:[function(e,t,i){const s=e("../classes/semver"),o=e("../classes/range");t.exports=(e,t,i)=>{let n=null,a=null,r=null;try{r=new o(t,i)}catch(e){return null}return e.forEach(e=>{!r.test(e)||n&&1!==a.compare(e)||(n=e,a=new s(n,i))}),n}},{"../classes/range":419,"../classes/semver":420}],456:[function(e,t,i){const r=e("../classes/semver"),s=e("../classes/range"),o=e("../functions/gt");t.exports=(t,e)=>{t=new s(t,e);let n=new r("0.0.0");if(t.test(n))return n;if(n=new r("0.0.0-0"),t.test(n))return n;n=null;for(let e=0;e<t.set.length;++e){var a=t.set[e];let i=null;a.forEach(e=>{var t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!o(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}),!i||n&&!o(n,i)||(n=i)}return n&&t.test(n)?n:null}},{"../classes/range":419,"../classes/semver":420,"../functions/gt":429}],457:[function(e,t,i){const d=e("../classes/semver"),h=e("../classes/comparator"),f=h["ANY"],m=e("../classes/range"),y=e("../functions/satisfies"),g=e("../functions/gt"),v=e("../functions/lt"),b=e("../functions/lte"),x=e("../functions/gte");t.exports=(n,a,e,r)=>{n=new d(n,r),a=new m(a,r);let s,o,c,p,l;switch(e){case">":s=g,o=b,c=v,p=">",l=">=";break;case"<":s=v,o=x,c=g,p="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(y(n,a,r))return!1;for(let e=0;e<a.set.length;++e){var u=a.set[e];let t=null,i=null;if(u.forEach(e=>{e.semver===f&&(e=new h(">=0.0.0")),t=t||e,i=i||e,s(e.semver,t.semver,r)?t=e:c(e.semver,i.semver,r)&&(i=e)}),t.operator===p||t.operator===l)return!1;if((!i.operator||i.operator===p)&&o(n,i.semver))return!1;if(i.operator===l&&c(n,i.semver))return!1}return!0}},{"../classes/comparator":418,"../classes/range":419,"../classes/semver":420,"../functions/gt":429,"../functions/gte":430,"../functions/lt":432,"../functions/lte":433,"../functions/satisfies":442}],458:[function(e,t,i){const h=e("../functions/satisfies.js"),f=e("../functions/compare.js");t.exports=(e,t,i)=>{var n=[];let a=null,r=null;var s=e.sort((e,t)=>f(e,t,i));for(const d of s){var o=h(d,t,i);a=o?(r=d,a||d):(r&&n.push([a,r]),r=null)}a&&n.push([a,null]);var c,p,l=[];for([c,p]of n)c===p?l.push(c):p||c!==s[0]?p?c===s[0]?l.push("<="+p):l.push(c+" - "+p):l.push(">="+c):l.push("*");var e=l.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return e.length<u.length?e:t}},{"../functions/compare.js":426,"../functions/satisfies.js":442}],459:[function(e,t,i){const o=e("../classes/range.js");var n=e("../classes/comparator.js");const g=n["ANY"],v=e("../functions/satisfies.js"),b=e("../functions/compare.js");const x=[new n(">=0.0.0-0")],_=[new n(">=0.0.0")],w=(e,t,i)=>{return!e||!(0<(i=b(e.semver,t.semver,i)))&&(i<0||">"===t.operator&&">="===e.operator)?t:e},k=(e,t,i)=>{return!e||!((i=b(e.semver,t.semver,i))<0)&&(0<i||"<"===t.operator&&"<="===e.operator)?t:e};t.exports=(t,i,n={})=>{if(t!==i){t=new o(t,n),i=new o(i,n);let e=!1;e:for(const r of t.set){for(const s of i.set){var a=((o,c,p)=>{if(o!==c){if(1===o.length&&o[0].semver===g){if(1===c.length&&c[0].semver===g)return!0;o=p.includePrerelease?x:_}if(1===c.length&&c[0].semver===g){if(p.includePrerelease)return!0;c=_}var l=new Set,u,d;let e,t;for(const h of o)">"===h.operator||">="===h.operator?e=w(e,h,p):"<"===h.operator||"<="===h.operator?t=k(t,h,p):l.add(h.semver);if(1<l.size)return null;let i;if(e&&t){if(0<(i=b(e.semver,t.semver,p)))return null;if(0===i&&(">="!==e.operator||"<="!==t.operator))return null}for(const f of l){if(e&&!v(f,String(e),p))return null;if(t&&!v(f,String(t),p))return null;for(const m of c)if(!v(f,String(m),p))return!1;return!0}let n,a,r=!(!t||p.includePrerelease||!t.semver.prerelease.length)&&t.semver,s=!(!e||p.includePrerelease||!e.semver.prerelease.length)&&e.semver;r&&1===r.prerelease.length&&"<"===t.operator&&0===r.prerelease[0]&&(r=!1);for(const y of c){if(a=a||">"===y.operator||">="===y.operator,n=n||"<"===y.operator||"<="===y.operator,e)if(s&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===s.major&&y.semver.minor===s.minor&&y.semver.patch===s.patch&&(s=!1),">"===y.operator||">="===y.operator){if((u=w(e,y,p))===y&&u!==e)return!1}else if(">="===e.operator&&!v(e.semver,String(y),p))return!1;if(t)if(r&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===r.major&&y.semver.minor===r.minor&&y.semver.patch===r.patch&&(r=!1),"<"===y.operator||"<="===y.operator){if((d=k(t,y,p))===y&&d!==t)return!1}else if("<="===t.operator&&!v(t.semver,String(y),p))return!1;if(!y.operator&&(t||e)&&0!==i)return!1}if(e&&n&&!t&&0!==i)return!1;if(t&&a&&!e&&0!==i)return!1;if(s||r)return!1}return true})(r,s,n);if(e=e||null!==a,a)continue e}if(e)return!1}}return!0}},{"../classes/comparator.js":418,"../classes/range.js":419,"../functions/compare.js":426,"../functions/satisfies.js":442}],460:[function(e,t,i){const n=e("../classes/range");t.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},{"../classes/range":419}],461:[function(e,t,i){const n=e("../classes/range");t.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},{"../classes/range":419}],462:[function(e,t,i){"use strict";var h=e("http-errors"),u=e("debug")("send"),n=e("depd")("send"),s=e("destroy"),a=e("encodeurl"),f=e("escape-html"),r=e("etag"),o=e("fresh"),c=e("fs"),p=e("mime"),l=e("ms"),d=e("on-finished"),m=e("range-parser"),y=e("path"),g=e("statuses"),v=e("stream"),e=e("util"),b=y.extname,x=y.join,_=y.normalize,w=y.resolve,k=y.sep,E=/^ *bytes=/,S=31536e6,D=/(?:^|[\\/])\.\.(?:[\\/]|$)/;function C(e,t,i){v.call(this);i=i||{};if(this.options=i,this.path=t,this.req=e,this._acceptRanges=void 0===i.acceptRanges||Boolean(i.acceptRanges),this._cacheControl=void 0===i.cacheControl||Boolean(i.cacheControl),this._etag=void 0===i.etag||Boolean(i.etag),this._dotfiles=void 0!==i.dotfiles?i.dotfiles:"ignore","ignore"!==this._dotfiles&&"allow"!==this._dotfiles&&"deny"!==this._dotfiles)throw new TypeError('dotfiles option must be "allow", "deny", or "ignore"');this._hidden=Boolean(i.hidden),void 0!==i.hidden&&n("hidden: use dotfiles: '"+(this._hidden?"allow":"ignore")+"' instead"),void 0===i.dotfiles&&(this._dotfiles=void 0),this._extensions=void 0!==i.extensions?I(i.extensions,"extensions option"):[],this._immutable=void 0!==i.immutable&&Boolean(i.immutable),this._index=void 0!==i.index?I(i.index,"index option"):["index.html"],this._lastModified=void 0===i.lastModified||Boolean(i.lastModified),this._maxage=i.maxAge||i.maxage,this._maxage=("string"==typeof this._maxage?l:Number)(this._maxage),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),S),this._root=i.root?w(i.root):null,!this._root&&i.from&&this.from(i.from)}function T(e,t,i){return e+" "+(i?i.start+"-"+i.end:"*")+"/"+t}function A(e,t){return'<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>'+e+"</title>\n</head>\n<body>\n<pre>"+t+"</pre>\n</body>\n</html>\n"}function O(e,t){return 0<("function"!=typeof e.listenerCount?e.listeners(t).length:e.listenerCount(t))}function I(e,t){for(var i=[].concat(e||[]),n=0;n<i.length;n++)if("string"!=typeof i[n])throw new TypeError(t+" must be array of strings or false");return i}function P(e){e=e&&Date.parse(e);return"number"==typeof e?e:NaN}t.exports=function(e,t,i){return new C(e,t,i)},t.exports.mime=p,e.inherits(C,v),C.prototype.etag=n.function(function(e){return this._etag=Boolean(e),u("etag %s",this._etag),this},"send.etag: pass etag as option"),C.prototype.hidden=n.function(function(e){return this._hidden=Boolean(e),this._dotfiles=void 0,u("hidden %s",this._hidden),this},"send.hidden: use dotfiles option"),C.prototype.index=n.function(function(e){var t=e?I(e,"paths argument"):[];return u("index %o",e),this._index=t,this},"send.index: pass index as option"),C.prototype.from=n.function(C.prototype.root=function(e){return this._root=w(String(e)),u("root %s",this._root),this},"send.from: pass root as option"),C.prototype.root=n.function(C.prototype.root,"send.root: pass root as option"),C.prototype.maxage=n.function(function(e){return this._maxage=("string"==typeof e?l:Number)(e),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),S),u("max-age %d",this._maxage),this},"send.maxage: pass maxAge as option"),C.prototype.error=function(e,t){if(O(this,"error"))return this.emit("error",(n=e,(i=t)?i instanceof Error?h(n,i,{expose:!1}):h(n,i):h(n)));for(var i=this.res,n=g.message[e]||String(e),a=A("Error",f(n)),r=i,s=function(e){return"function"!=typeof e.getHeaderNames?Object.keys(e._headers||{}):e.getHeaderNames()}(r),o=0;o<s.length;o++)r.removeHeader(s[o]);if(t&&t.headers)for(var c=i,p=t.headers,l=Object.keys(p),u=0;u<l.length;u++){var d=l[u];c.setHeader(d,p[d])}i.statusCode=e,i.setHeader("Content-Type","text/html; charset=UTF-8"),i.setHeader("Content-Length",Buffer.byteLength(a)),i.setHeader("Content-Security-Policy","default-src 'none'"),i.setHeader("X-Content-Type-Options","nosniff"),i.end(a)},C.prototype.hasTrailingSlash=function(){return"/"===this.path[this.path.length-1]},C.prototype.isConditionalGET=function(){return this.req.headers["if-match"]||this.req.headers["if-unmodified-since"]||this.req.headers["if-none-match"]||this.req.headers["if-modified-since"]},C.prototype.isPreconditionFailure=function(){var t,e=this.req,i=this.res,n=e.headers["if-match"];return n?!(t=i.getHeader("ETag"))||"*"!==n&&function(e){for(var t=0,i=[],n=0,a=0,r=e.length;a<r;a++)switch(e.charCodeAt(a)){case 32:n===t&&(n=t=a+1);break;case 44:n!==t&&i.push(e.substring(n,t)),n=t=a+1;break;default:t=a+1}n!==t&&i.push(e.substring(n,t));return i}(n).every(function(e){return e!==t&&e!=="W/"+t&&"W/"+e!==t}):(n=P(e.headers["if-unmodified-since"]),!isNaN(n)&&(e=P(i.getHeader("Last-Modified")),isNaN(e)||n<e))},C.prototype.removeContentHeaderFields=function(){var e=this.res;e.removeHeader("Content-Encoding"),e.removeHeader("Content-Language"),e.removeHeader("Content-Length"),e.removeHeader("Content-Range"),e.removeHeader("Content-Type")},C.prototype.notModified=function(){var e=this.res;u("not modified"),this.removeContentHeaderFields(),e.statusCode=304,e.end()},C.prototype.headersAlreadySent=function(){var e=new Error("Can't set headers after they are sent.");u("headers already sent"),this.error(500,e)},C.prototype.isCachable=function(){var e=this.res.statusCode;return 200<=e&&e<300||304===e},C.prototype.onStatError=function(e){switch(e.code){case"ENAMETOOLONG":case"ENOENT":case"ENOTDIR":this.error(404,e);break;default:this.error(500,e)}},C.prototype.isFresh=function(){return o(this.req.headers,{etag:this.res.getHeader("ETag"),"last-modified":this.res.getHeader("Last-Modified")})},C.prototype.isRangeFresh=function(){var e,t=this.req.headers["if-range"];return!t||(-1!==t.indexOf('"')?(e=this.res.getHeader("ETag"),Boolean(e&&-1!==t.indexOf(e))):P(this.res.getHeader("Last-Modified"))<=P(t))},C.prototype.redirect=function(e){var t,i=this.res;O(this,"directory")?this.emit("directory",i,e):this.hasTrailingSlash()?this.error(403):(e=a(function(e){for(var t=0;t<e.length&&"/"===e[t];t++);return 1<t?"/"+e.substr(t):e}(this.path+"/")),t=A("Redirecting",'Redirecting to <a href="'+f(e)+'">'+f(e)+"</a>"),i.statusCode=301,i.setHeader("Content-Type","text/html; charset=UTF-8"),i.setHeader("Content-Length",Buffer.byteLength(t)),i.setHeader("Content-Security-Policy","default-src 'none'"),i.setHeader("X-Content-Type-Options","nosniff"),i.setHeader("Location",e),i.end(t))},C.prototype.pipe=function(e){var t,i=this._root,n=(this.res=e,function(e){try{return decodeURIComponent(e)}catch(e){return-1}}(this.path));if(-1===n)this.error(400);else if(~n.indexOf("\0"))this.error(400);else{if(null!==i){if(n=n&&_("."+k+n),D.test(n))return u('malicious path "%s"',n),this.error(403),e;t=n.split(k),n=_(x(i,n))}else{if(D.test(n))return u('malicious path "%s"',n),this.error(403),e;t=_(n).split(k),n=w(n)}if(function(e){for(var t=0;t<e.length;t++){var i=e[t];if(1<i.length&&"."===i[0])return 1}return}(t)){i=this._dotfiles;switch(void 0===i&&(i="."!==t[t.length-1][0]||this._hidden?"allow":"ignore"),u('%s dotfile "%s"',i,n),i){case"allow":break;case"deny":return this.error(403),e;default:return this.error(404),e}}this._index.length&&this.hasTrailingSlash()?this.sendIndex(n):this.sendFile(n)}return e},C.prototype.send=function(e,t){var i,n,a=t.size,r=this.options,s={},o=this.res,c=this.req,p=c.headers.range,l=r.start||0;if("boolean"!=typeof(i=o).headersSent?Boolean(i._header):i.headersSent)this.headersAlreadySent();else{if(u('pipe "%s"',e),this.setHeader(e,t),this.type(e),this.isConditionalGET()){if(this.isPreconditionFailure())return void this.error(412);if(this.isCachable()&&this.isFresh())return void this.notModified()}if(a=Math.max(0,a-l),void 0!==r.end&&(i=r.end-l+1)<a&&(a=i),this._acceptRanges&&E.test(p)){if(p=m(a,p,{combine:!0}),this.isRangeFresh()||(u("range stale"),p=-2),-1===p)return u("range unsatisfiable"),o.setHeader("Content-Range",T("bytes",a)),this.error(416,{headers:{"Content-Range":o.getHeader("Content-Range")}});-2!==p&&1===p.length&&(u("range %j",p),o.statusCode=206,o.setHeader("Content-Range",T("bytes",a,p[0])),l+=p[0].start,a=p[0].end-p[0].start+1)}for(n in r)s[n]=r[n];s.start=l,s.end=Math.max(l,l+a-1),o.setHeader("Content-Length",a),"HEAD"===c.method?o.end():this.stream(e,s)}},C.prototype.sendFile=function(a){var r=0,s=this;u('stat "%s"',a),c.stat(a,function(e,t){return e&&"ENOENT"===e.code&&!b(a)&&a[a.length-1]!==k?function i(e){if(s._extensions.length<=r)return e?s.onStatError(e):s.error(404);var n=a+"."+s._extensions[r++];u('stat "%s"',n);c.stat(n,function(e,t){return e?i(e):t.isDirectory()?i():(s.emit("file",n,t),void s.send(n,t))})}(e):e?s.onStatError(e):t.isDirectory()?s.redirect(a):(s.emit("file",a,t),void s.send(a,t))})},C.prototype.sendIndex=function(t){var a=-1,r=this;!function i(e){if(++a>=r._index.length)return e?r.onStatError(e):r.error(404);var n=x(t,r._index[a]);u('stat "%s"',n),c.stat(n,function(e,t){return e?i(e):t.isDirectory()?i():(r.emit("file",n,t),void r.send(n,t))})}()},C.prototype.stream=function(e,t){var i=this,n=this.res,a=c.createReadStream(e,t);function r(){s(a,!0)}this.emit("stream",a),a.pipe(n),d(n,r),a.on("error",function(e){r(),i.onStatError(e)}),a.on("end",function(){i.emit("end")})},C.prototype.type=function(e){var t,i=this.res;i.getHeader("Content-Type")||((e=p.lookup(e))?(t=p.charsets.lookup(e),u("content-type %s",e),i.setHeader("Content-Type",e+(t?"; charset="+t:""))):u("no content-type"))},C.prototype.setHeader=function(e,t){var i=this.res;this.emit("headers",i,e,t),this._acceptRanges&&!i.getHeader("Accept-Ranges")&&(u("accept ranges"),i.setHeader("Accept-Ranges","bytes")),this._cacheControl&&!i.getHeader("Cache-Control")&&(e="public, max-age="+Math.floor(this._maxage/1e3),this._immutable&&(e+=", immutable"),u("cache-control %s",e),i.setHeader("Cache-Control",e)),this._lastModified&&!i.getHeader("Last-Modified")&&(e=t.mtime.toUTCString(),u("modified %s",e),i.setHeader("Last-Modified",e)),this._etag&&!i.getHeader("ETag")&&(e=r(t),u("etag %s",e),i.setHeader("ETag",e))}},{debug:466,depd:179,destroy:180,encodeurl:184,"escape-html":247,etag:248,fresh:281,fs:void 0,"http-errors":310,mime:353,ms:468,"on-finished":469,path:void 0,"range-parser":378,statuses:471,stream:void 0,util:void 0}],463:[function(e,t,i){arguments[4][105][0].apply(i,arguments)},{dup:105}],464:[function(e,t,i){arguments[4][101][0].apply(i,arguments)},{"./debug":465,dup:101}],465:[function(e,t,i){arguments[4][102][0].apply(i,arguments)},{dup:102,ms:463}],466:[function(e,t,i){arguments[4][103][0].apply(i,arguments)},{"./browser.js":464,"./node.js":467,dup:103}],467:[function(e,t,i){arguments[4][104][0].apply(i,arguments)},{"./debug":465,dup:104,fs:void 0,net:void 0,tty:void 0,util:void 0}],468:[function(e,t,i){var a=864e5;function r(e,t,i,n){t=1.5*i<=t;return Math.round(e/i)+" "+n+(t?"s":"")}t.exports=function(e,t){t=t||{};var i=typeof e;if(!("string"==i&&0<e.length)){if("number"==i&&isFinite(e))return(t.long?function(e){var t=Math.abs(e);if(a<=t)return r(e,t,a,"day");if(36e5<=t)return r(e,t,36e5,"hour");if(6e4<=t)return r(e,t,6e4,"minute");if(1e3<=t)return r(e,t,1e3,"second");return e+" ms"}:function(e){var t=Math.abs(e);if(a<=t)return Math.round(e/a)+"d";if(36e5<=t)return Math.round(e/36e5)+"h";if(6e4<=t)return Math.round(e/6e4)+"m";if(1e3<=t)return Math.round(e/1e3)+"s";return e+"ms"})(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}i=e;if(!(100<(i=String(i)).length)){i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(i){var n=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}},{}],469:[function(e,t,i){arguments[4][106][0].apply(i,arguments)},{async_hooks:void 0,dup:106,"ee-first":182}],470:[function(e,t,i){arguments[4][269][0].apply(i,arguments)},{dup:269}],471:[function(e,t,i){arguments[4][270][0].apply(i,arguments)},{"./codes.json":470,dup:270}],472:[function(e,t,i){"use strict";var n=e("encodeurl"),a=e("escape-html"),l=e("parseurl"),r=e("path").resolve,u=e("send"),d=e("url");t.exports=function(e,t){if(!e)throw new TypeError("root path required");if("string"!=typeof e)throw new TypeError("root path must be a string");var s=Object.create(t||null),o=!1!==s.fallthrough,t=!1!==s.redirect,c=s.setHeaders;if(c&&"function"!=typeof c)throw new TypeError("option setHeaders must be function");s.maxage=s.maxage||s.maxAge||0,s.root=r(e);var p=t?function(e){var t,i;this.hasTrailingSlash()?this.error(404):((t=l.original(this.req)).path=null,t.pathname=function(e){for(var t=0;t<e.length&&47===e.charCodeAt(t);t++);return 1<t?"/"+e.substr(t):e}(t.pathname+"/"),t=n(d.format(t)),i='<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>Redirecting</title>\n</head>\n<body>\n<pre>Redirecting to <a href="'+a(t)+'">'+a(t)+"</a>"+"</pre>\n</body>\n</html>\n",e.statusCode=301,e.setHeader("Content-Type","text/html; charset=UTF-8"),e.setHeader("Content-Length",Buffer.byteLength(i)),e.setHeader("Content-Security-Policy","default-src 'none'"),e.setHeader("X-Content-Type-Options","nosniff"),e.setHeader("Location",t),e.end(i))}:function(){this.error(404)};return function(e,t,i){if("GET"!==e.method&&"HEAD"!==e.method)return o?i():(t.statusCode=405,t.setHeader("Allow","GET, HEAD"),t.setHeader("Content-Length","0"),void t.end());var n=!o,a=l.original(e),r=l(e).pathname,a=("/"===r&&"/"!==a.pathname.substr(-1)&&(r=""),u(e,r,s));a.on("directory",p),c&&a.on("headers",c),o&&a.on("file",function(){n=!0}),a.on("error",function(e){!n&&e.statusCode<500?i():i(e)}),a.pipe(t)}},t.exports.mime=u.mime},{encodeurl:184,"escape-html":247,parseurl:369,path:void 0,send:462,url:void 0}],473:[function(e,t,i){t.exports=function(t){[process.stdout,process.stderr].forEach(function(e){e._handle&&e.isTTY&&"function"==typeof e._handle.setBlocking&&e._handle.setBlocking(t)})}},{}],474:[function(e,t,i){"use strict";t.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=t[i]);return e})},{}],475:[function(e,t,i){"use strict";function o(e,t){for(var i,n=e;null!==(i=n.next);n=i)if(i.key===t)return n.next=i.next,i.next=e.next,e.next=i}var n=e("get-intrinsic"),a=e("call-bind/callBound"),c=e("object-inspect"),p=n("%TypeError%"),l=n("%WeakMap%",!0),u=n("%Map%",!0),d=a("WeakMap.prototype.get",!0),h=a("WeakMap.prototype.set",!0),f=a("WeakMap.prototype.has",!0),m=a("Map.prototype.get",!0),y=a("Map.prototype.set",!0),g=a("Map.prototype.has",!0);t.exports=function(){var a,r,s,t={assert:function(e){if(!t.has(e))throw new p("Side channel does not contain "+c(e))},get:function(e){if(l&&e&&("object"==typeof e||"function"==typeof e)){if(a)return d(a,e)}else if(u){if(r)return m(r,e)}else{var t;if(s)return(t=o(t=s,e))&&t.value}},has:function(e){if(l&&e&&("object"==typeof e||"function"==typeof e)){if(a)return f(a,e)}else if(u){if(r)return g(r,e)}else if(s)return!!o(s,e);return!1},set:function(e,t){var i,n;l&&e&&("object"==typeof e||"function"==typeof e)?(a=a||new l,h(a,e,t)):u?(r=r||new u,y(r,e,t)):(t=t,(n=o(i=s=s||{key:{},next:null},e=e))?n.value=t:i.next={key:e,next:i.next,value:t})}};return t}},{"call-bind/callBound":109,"get-intrinsic":301,"object-inspect":365}],476:[function(e,t,i){var n,a,r,s,o,c,p,l,u,d,h,f,m,y=global.process;function g(e){return e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on}g(y)?(n=e("assert"),a=e("./signals.js"),r=/^win/i.test(y.platform),"function"!=typeof(e=e("events"))&&(e=e.EventEmitter),y.__signal_exit_emitter__?s=y.__signal_exit_emitter__:((s=y.__signal_exit_emitter__=new e).count=0,s.emitted={}),s.infinite||(s.setMaxListeners(1/0),s.infinite=!0),t.exports=function(e,t){if(!g(global.process))return function(){};n.equal(typeof e,"function","a callback must be provided for exit handler"),!1===l&&u();var i="exit";t&&t.alwaysLast&&(i="afterexit");return s.on(i,e),function(){s.removeListener(i,e),0===s.listeners("exit").length&&0===s.listeners("afterexit").length&&o()}},o=function(){l&&g(global.process)&&(l=!1,a.forEach(function(e){try{y.removeListener(e,p[e])}catch(e){}}),y.emit=f,y.reallyExit=d,--s.count)},t.exports.unload=o,c=function(e,t,i){s.emitted[e]||(s.emitted[e]=!0,s.emit(e,t,i))},p={},a.forEach(function(e){p[e]=function(){g(global.process)&&y.listeners(e).length===s.count&&(o(),c("exit",null,e),c("afterexit",null,e),r&&"SIGHUP"===e&&(e="SIGINT"),y.kill(y.pid,e))}}),l=!(t.exports.signals=function(){return a}),u=function(){!l&&g(global.process)&&(l=!0,s.count+=1,a=a.filter(function(e){try{return y.on(e,p[e]),!0}catch(e){return!1}}),y.emit=m,y.reallyExit=h)},t.exports.load=u,d=y.reallyExit,h=function(e){g(global.process)&&(y.exitCode=e||0,c("exit",y.exitCode,null),c("afterexit",y.exitCode,null),d.call(y,y.exitCode))},f=y.emit,m=function(e,t){var i;return"exit"===e&&g(global.process)?(void 0!==t&&(y.exitCode=t),i=f.apply(this,arguments),c("exit",y.exitCode,null),c("afterexit",y.exitCode,null),i):f.apply(this,arguments)}):t.exports=function(){return function(){}}},{"./signals.js":477,assert:void 0,events:void 0}],477:[function(e,t,i){t.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&t.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&t.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},{}],478:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.yeast=i.decode=i.encode=void 0;const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a={};let r=0,s=0,o;function c(e){let t="";for(;t=n[e%64]+t,0<(e=Math.floor(e/64)););return t}for(i.encode=c,i.decode=function(e){let t=0;for(s=0;s<e.length;s++)t=64*t+a[e.charAt(s)];return t},i.yeast=function(){var e=c(+new Date);return e!==o?(r=0,o=e):e+"."+c(r++)};s<64;s++)a[n[s]]=s},{}],479:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SessionAwareAdapter=i.Adapter=void 0;var n=e("events");const r=e("./contrib/yeast"),a=e("ws"),s="function"==typeof(null==(e=null===a||void 0===a?void 0:a.Sender)?void 0:e.frame);class o extends n.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}serverCount(){return Promise.resolve(1)}addAll(e,t){this.sids.has(e)||this.sids.set(e,new Set);for(const i of t)this.sids.get(e).add(i),this.rooms.has(i)||(this.rooms.set(i,new Set),this.emit("create-room",i)),this.rooms.get(i).has(e)||(this.rooms.get(i).add(e),this.emit("join-room",i,e))}del(e,t){this.sids.has(e)&&this.sids.get(e).delete(t),this._del(t,e)}_del(e,t){var i=this.rooms.get(e);null!=i&&(i.delete(t)&&this.emit("leave-room",e,t),0===i.size)&&this.rooms.delete(e)&&this.emit("delete-room",e)}delAll(e){if(this.sids.has(e)){for(const t of this.sids.get(e))this._del(t,e);this.sids.delete(e)}}broadcast(t,e){var i=e.flags||{};const n={preEncoded:!0,volatile:i.volatile,compress:i.compress},a=(t.nsp=this.nsp.name,this._encode(t,n));this.apply(e,e=>{"function"==typeof e.notifyOutgoingListeners&&e.notifyOutgoingListeners(t),e.client.writeToEngine(a,n)})}broadcastWithAck(t,e,i,n){var a=e.flags||{};const r={preEncoded:!0,volatile:a.volatile,compress:a.compress},s=(t.nsp=this.nsp.name,t.id=this.nsp._ids++,this._encode(t,r));let o=0;this.apply(e,e=>{o++,e.acks.set(t.id,n),"function"==typeof e.notifyOutgoingListeners&&e.notifyOutgoingListeners(t),e.client.writeToEngine(s,r)}),i(o)}_encode(e,t){var i,e=this.encoder.encode(e);return s&&1===e.length&&"string"==typeof e[0]&&(i=Buffer.from("4"+e[0]),t.wsPreEncodedFrame=a.Sender.frame(i,{readOnly:!1,mask:!1,rsv1:!1,opcode:1,fin:!0})),e}sockets(e){const t=new Set;return this.apply({rooms:e},e=>{t.add(e.id)}),Promise.resolve(t)}socketRooms(e){return this.sids.get(e)}fetchSockets(e){const t=[];return this.apply(e,e=>{t.push(e)}),Promise.resolve(t)}addSockets(e,t){this.apply(e,e=>{e.join(t)})}delSockets(e,i){this.apply(e,t=>{i.forEach(e=>t.leave(e))})}disconnectSockets(e,t){this.apply(e,e=>{e.disconnect(t)})}apply(e,t){var i=e.rooms,n=this.computeExceptSids(e.except);if(i.size){var a,r=new Set;for(const o of i)if(this.rooms.has(o))for(const c of this.rooms.get(o))r.has(c)||n.has(c)||(a=this.nsp.sockets.get(c))&&(t(a),r.add(c))}else for(var[s]of this.sids)n.has(s)||(s=this.nsp.sockets.get(s))&&t(s)}computeExceptSids(e){const t=new Set;if(e&&0<e.size)for(const i of e)this.rooms.has(i)&&this.rooms.get(i).forEach(e=>t.add(e));return t}serverSideEmit(e){console.warn("this adapter does not support the serverSideEmit() functionality")}persistSession(e){}restoreSession(e,t){return null}}i.Adapter=o;i.SessionAwareAdapter=class extends o{constructor(e){super(e),this.nsp=e,this.sessions=new Map,this.packets=[],this.maxDisconnectionDuration=e.server.opts.connectionStateRecovery.maxDisconnectionDuration,setInterval(()=>{const i=Date.now()-this.maxDisconnectionDuration;this.sessions.forEach((e,t)=>{e.disconnectedAt<i&&this.sessions.delete(t)});for(let e=this.packets.length-1;0<=e;e--)if(this.packets[e].emittedAt<i){this.packets.splice(0,e+1);break}},6e4).unref()}persistSession(e){e.disconnectedAt=Date.now(),this.sessions.set(e.pid,e)}restoreSession(t,i){var n=this.sessions.get(t);if(!n)return null;if(n.disconnectedAt+this.maxDisconnectionDuration<Date.now())return this.sessions.delete(t),null;t=this.packets.findIndex(e=>e.id===i);if(-1===t)return null;var a=[];for(let e=t+1;e<this.packets.length;e++){var r=this.packets[e];!function(e,t){var i=0===t.rooms.size||e.some(e=>t.rooms.has(e)),e=e.every(e=>!t.except.has(e));return i&&e}(n.rooms,r.opts)||a.push(r.data)}return Promise.resolve(Object.assign(Object.assign({},n),{missedPackets:a}))}broadcast(e,t){var i=2===e.type,n=void 0===e.id,a=void 0===(null==(a=t.flags)?void 0:a.volatile);i&&n&&a&&(i=(0,r.yeast)(),e.data.push(i),this.packets.push({id:i,opts:t,data:e.data,emittedAt:Date.now()})),super.broadcast(e,t)}}},{"./contrib/yeast":478,events:void 0,ws:518}],480:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.reconstructPacket=i.deconstructPacket=void 0;const o=e("./is-binary.js");i.deconstructPacket=function(e){var t=[],i=e.data;return e.data=function t(i,n){if(!i)return i;{if((0,o.isBinary)(i)){const e={_placeholder:!0,num:n.length};return n.push(i),e}if(Array.isArray(i)){const a=new Array(i.length);for(let e=0;e<i.length;e++)a[e]=t(i[e],n);return a}if("object"==typeof i&&!(i instanceof Date)){const r={};for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=t(i[s],n));return r}}return i}(i,t),e.attachments=t.length,{packet:e,buffers:t}},i.reconstructPacket=function(e,t){return e.data=function t(i,n){if(!i)return i;{if(i&&!0===i._placeholder){const e="number"==typeof i.num&&0<=i.num&&i.num<n.length;if(e)return n[i.num];throw new Error("illegal attachments")}if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=t(i[e],n);else if("object"==typeof i)for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(i[a]=t(i[a],n))}return i}(e.data,t),delete e.attachments,e}},{"./is-binary.js":482}],481:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Decoder=i.Encoder=i.PacketType=i.protocol=void 0;var r,n=e("@socket.io/component-emitter");const a=e("./binary.js"),s=e("./is-binary.js"),o=(0,e("debug").default)("socket.io-parser"),c=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];i.protocol=5,(e=r=i.PacketType||(i.PacketType={}))[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK";function p(e){return"[object Object]"===Object.prototype.toString.call(e)}i.Encoder=class{constructor(e){this.replacer=e}encode(e){return o("encoding packet %j",e),e.type!==r.EVENT&&e.type!==r.ACK||!(0,s.hasBinary)(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===r.EVENT?r.BINARY_EVENT:r.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==r.BINARY_EVENT&&e.type!==r.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),o("encoded %j as %s",e,t),t}encodeAsBinary(e){var e=(0,a.deconstructPacket)(e),t=this.encodeAsString(e.packet),e=e.buffers;return e.unshift(t),e}};class l extends n.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var i=(t=this.decodeString(e)).type===r.BINARY_EVENT;(!i&&t.type!==r.BINARY_ACK||(t.type=i?r.EVENT:r.ACK,this.reconstructor=new u(t),0===t.attachments))&&super.emitReserved("decoded",t)}else{if(!(0,s.isBinary)(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;var i={type:Number(e.charAt(0))};if(void 0===r[i.type])throw new Error("unknown packet type "+i.type);if(i.type===r.BINARY_EVENT||i.type===r.BINARY_ACK){for(var n=t+1;"-"!==e.charAt(++t)&&t!=e.length;);n=e.substring(n,t);if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(n)}if("/"===e.charAt(t+1)){for(n=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}i.nsp=e.substring(n,t)}else i.nsp="/";n=e.charAt(t+1);if(""!==n&&Number(n)==n){for(n=t+1;++t;){var a=e.charAt(t);if(null==a||Number(a)!=a){--t;break}if(t===e.length)break}i.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){n=this.tryParse(e.substr(t));if(!l.isPayloadValid(i.type,n))throw new Error("invalid payload");i.data=n}return o("decoded %s as %j",e,i),i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case r.CONNECT:return p(t);case r.DISCONNECT:return void 0===t;case r.CONNECT_ERROR:return"string"==typeof t||p(t);case r.EVENT:case r.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===c.indexOf(t[0]));case r.ACK:case r.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}i.Decoder=l;class u{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){return this.buffers.push(e),this.buffers.length===this.reconPack.attachments?(e=(0,a.reconstructPacket)(this.reconPack,this.buffers),this.finishedReconstruction(),e):null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},{"./binary.js":480,"./is-binary.js":482,"@socket.io/component-emitter":79,debug:175}],482:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.hasBinary=i.isBinary=void 0;const n="function"==typeof ArrayBuffer;var a=Object.prototype.toString;const r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);function o(e){return n&&(e instanceof ArrayBuffer||(t=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer))||r&&e instanceof Blob||s&&e instanceof File;var t}i.isBinary=o,i.hasBinary=function i(n,e){if(n&&"object"==typeof n)if(Array.isArray(n)){for(let e=0,t=n.length;e<t;e++)if(i(n[e]))return!0}else{if(o(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return i(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&i(n[t]))return!0}return!1}},{}],483:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.RemoteSocket=i.BroadcastOperator=void 0;const n=e("./socket"),a=e("socket.io-parser");class r{constructor(e,t=new Set,i=new Set,n={}){this.adapter=e,this.rooms=t,this.exceptRooms=i,this.flags=n}to(e){const t=new Set(this.rooms);return Array.isArray(e)?e.forEach(e=>t.add(e)):t.add(e),new r(this.adapter,t,this.exceptRooms,this.flags)}in(e){return this.to(e)}except(e){const t=new Set(this.exceptRooms);return Array.isArray(e)?e.forEach(e=>t.add(e)):t.add(e),new r(this.adapter,this.rooms,t,this.flags)}compress(e){e=Object.assign({},this.flags,{compress:e});return new r(this.adapter,this.rooms,this.exceptRooms,e)}get volatile(){var e=Object.assign({},this.flags,{volatile:!0});return new r(this.adapter,this.rooms,this.exceptRooms,e)}get local(){var e=Object.assign({},this.flags,{local:!0});return new r(this.adapter,this.rooms,this.exceptRooms,e)}timeout(e){e=Object.assign({},this.flags,{timeout:e});return new r(this.adapter,this.rooms,this.exceptRooms,e)}emit(r,...s){if(n.RESERVED_EVENTS.has(r))throw new Error(`"${String(r)}" is a reserved event name`);r=[r,...s],s={type:a.PacketType.EVENT,data:r};if("function"==typeof r[r.length-1]){const o=r.pop();let e=!1,t=[];const c=setTimeout(()=>{e=!0,o.apply(this,[new Error("operation has timed out"),this.flags.expectSingleResponse?null:t])},this.flags.timeout);let i=-1,n=0,a=0;const p=()=>{e||i!==n||t.length!==a||(clearTimeout(c),o.apply(this,[null,this.flags.expectSingleResponse?null:t]))};this.adapter.broadcastWithAck(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags},e=>{a+=e,n++,p()},e=>{t.push(e),p()}),this.adapter.serverCount().then(e=>{i=e,p()})}else this.adapter.broadcast(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags});return!0}emitWithAck(e,...t){return new Promise((i,n)=>{t.push((e,t)=>e?(e.responses=t,n(e)):i(t)),this.emit(e,...t)})}allSockets(){if(this.adapter)return this.adapter.sockets(this.rooms);throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?")}fetchSockets(){return this.adapter.fetchSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags}).then(e=>e.map(e=>e instanceof n.Socket?e:new s(this.adapter,e)))}socketsJoin(e){this.adapter.addSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}socketsLeave(e){this.adapter.delSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}disconnectSockets(e=!1){this.adapter.disconnectSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},e)}}i.BroadcastOperator=r;class s{constructor(e,t){this.id=t.id,this.handshake=t.handshake,this.rooms=new Set(t.rooms),this.data=t.data,this.operator=new r(e,new Set([this.id]),new Set,{expectSingleResponse:!0})}timeout(e){return this.operator.timeout(e)}emit(e,...t){return this.operator.emit(e,...t)}join(e){return this.operator.socketsJoin(e)}leave(e){return this.operator.socketsLeave(e)}disconnect(e=!1){return this.operator.disconnectSockets(e),this}}i.RemoteSocket=s},{"./socket":488,"socket.io-parser":481}],484:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Client=void 0;const r=e("socket.io-parser");var n=e("debug");const s=e("url"),o=n("socket.io:client");i.Client=class{constructor(e,t){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=t,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=t.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout(()=>{0===this.nsps.size?(o("no namespace joined yet, close the client"),this.close()):o("the client has already joined a namespace, nothing to do")},this.server._connectTimeout)}connect(t,i={}){if(this.server._nsps.has(t))return o("connecting to namespace %s",t),this.doConnect(t,i);this.server._checkNamespace(t,i,e=>{e?this.doConnect(t,i):(o("creation of namespace %s was denied",t),this._packet({type:r.PacketType.CONNECT_ERROR,nsp:t,data:{message:"Invalid namespace"}}))})}doConnect(e,t){const i=this.server.of(e);i._add(this,t,e=>{this.sockets.set(e.id,e),this.nsps.set(i.name,e),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)})}_disconnect(){for(const e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){var t;this.sockets.has(e.id)?(t=this.sockets.get(e.id).nsp.name,this.sockets.delete(e.id),this.nsps.delete(t)):o("ignoring remove for %s",e.id)}close(){"open"===this.conn.readyState&&(o("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,t={}){"open"!==this.conn.readyState?o("ignoring packet write %j",e):(e=t.preEncoded?e:this.encoder.encode(e),this.writeToEngine(e,t))}writeToEngine(e,t){if(t.volatile&&!this.conn.transport.writable)o("volatile packet is discarded since the transport is not currently writable");else for(const i of Array.isArray(e)?e:[e])this.conn.write(i,t)}ondata(e){try{this.decoder.add(e)}catch(e){o("invalid packet format"),this.onerror(e)}}ondecoded(e){let t,i;var n;i=3===this.conn.protocol?(n=s.parse(e.nsp,!0),t=n.pathname,n.query):(t=e.nsp,e.data);const a=this.nsps.get(t);a||e.type!==r.PacketType.CONNECT?a&&e.type!==r.PacketType.CONNECT&&e.type!==r.PacketType.CONNECT_ERROR?process.nextTick(function(){a._onpacket(e)}):(o("invalid state (packet type: %s)",e.type),this.close()):this.connect(t,i)}onerror(e){for(const t of this.sockets.values())t._onerror(e);this.conn.close()}onclose(e,t){o("client close with reason %s",e),this.destroy();for(const i of this.sockets.values())i._onclose(e,t);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}}},{debug:175,"socket.io-parser":481,url:void 0}],485:[function(E,S,D){!function(k){!function(){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var a=Object.getOwnPropertyDescriptor(t,i);a&&("get"in a?t.__esModule:!a.writable&&!a.configurable)||(a={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,a)}:function(e,t,i,n){e[n=void 0===n?i:n]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return a(t,e),t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D,"__esModule",{value:!0}),D.Namespace=D.Socket=D.Server=void 0;const r=E("http"),s=E("fs"),o=E("zlib"),c=E("accepts"),p=E("stream"),l=E("path"),u=E("engine.io"),i=E("./client"),d=E("events"),h=E("./namespace"),f=(Object.defineProperty(D,"Namespace",{enumerable:!0,get:function(){return h.Namespace}}),E("./parent-namespace")),m=E("socket.io-adapter"),y=e(E("socket.io-parser"));e=t(E("debug"));const g=E("./socket");Object.defineProperty(D,"Socket",{enumerable:!0,get:function(){return g.Socket}});t=E("./typed-events");const v=E("./uws"),b=(0,e.default)("socket.io:server"),x=E("../package.json").version,_=/\.map/;class w extends t.StrictEventEmitter{constructor(e,t={}){super(),this._nsps=new Map,this.parentNsps=new Map,this.parentNamespacesFromRegExp=new Map,"object"==typeof e&&e instanceof Object&&!e.listen&&(t=e,e=void 0),this.path(t.path||"/socket.io"),this.connectTimeout(t.connectTimeout||45e3),this.serveClient(!1!==t.serveClient),this._parser=t.parser||y,this.encoder=new this._parser.Encoder,(this.opts=t).connectionStateRecovery?(t.connectionStateRecovery=Object.assign({maxDisconnectionDuration:12e4,skipMiddlewares:!0},t.connectionStateRecovery),this.adapter(t.adapter||m.SessionAwareAdapter)):this.adapter(t.adapter||m.Adapter),t.cleanupEmptyChildNamespaces=!!t.cleanupEmptyChildNamespaces,this.sockets=this.of("/"),!e&&"number"!=typeof e||this.attach(e)}get _opts(){return this.opts}serveClient(e){return arguments.length?(this._serveClient=e,this):this._serveClient}_checkNamespace(n,e,a){if(0===this.parentNsps.size)return a(!1);const t=this.parentNsps.keys(),r=()=>{const i=t.next();if(i.done)return a(!1);i.value(n,e,(e,t)=>{return e||!t?r():this._nsps.has(n)?(b("dynamic namespace %s already exists",n),a(this._nsps.get(n))):(e=this.parentNsps.get(i.value).createChild(n),b("dynamic namespace %s was created",n),void a(e))})};r()}path(e){if(!arguments.length)return this._path;this._path=e.replace(/\/$/,"");e=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+e+"/socket\\.io(\\.msgpack|\\.esm)?(\\.min)?\\.js(\\.map)?(?:\\?|$)"),this}connectTimeout(e){return void 0===e?this._connectTimeout:(this._connectTimeout=e,this)}adapter(e){if(!arguments.length)return this._adapter;this._adapter=e;for(const t of this._nsps.values())t._initAdapter();return this}listen(e,t={}){return this.attach(e,t)}attach(e,t={}){var i;if("function"==typeof e)throw new Error("You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.");return"number"==typeof(e=Number(e)==e?Number(e):e)&&(b("creating http server and binding to %d",e),i=e,(e=r.createServer((e,t)=>{t.writeHead(404),t.end()})).listen(i)),Object.assign(t,this.opts),t.path=t.path||this._path,this.initEngine(e,t),this}attachApp(e,t={}){Object.assign(t,this.opts),t.path=t.path||this._path,b("creating uWebSockets.js-based engine with opts %j",t);var i=new u.uServer(t);i.attach(e,t),this.bind(i),this._serveClient&&e.get(this._path+"/*",(e,t)=>{var i,n,a,r,s,o;this.clientPathRegex.test(t.getUrl())?(i=t.getUrl().replace(this._path,"").replace(/\?.*$/,"").replace(/^\//,""),a=(n=_.test(i))?"map":"source",o="W/"+(r='"'+x+'"'),!(s=t.getHeader("if-none-match"))||r!==s&&o!==s?(b("serve client %s",a),e.writeHeader("cache-control","public, max-age=0"),e.writeHeader("content-type","application/"+(n?"json":"javascript")+"; charset=utf-8"),e.writeHeader("etag",r),o=l.join(k,"../client-dist/",i),(0,v.serveFile)(e,o)):(b("serve client %s 304",a),e.writeStatus("304 Not Modified"),e.end())):t.setYield(!0)}),(0,v.patchAdapter)(e)}initEngine(e,t){b("creating engine.io instance with opts %j",t),this.eio=(0,u.attach)(e,t),this._serveClient&&this.attachServe(e),this.httpServer=e,this.bind(this.eio)}attachServe(n){b("attaching client serving req handler");const a=n.listeners("request").slice(0);n.removeAllListeners("request"),n.on("request",(t,i)=>{if(this.clientPathRegex.test(t.url))this.serve(t,i);else for(let e=0;e<a.length;e++)a[e].call(n,t,i)})}serve(e,t){var i=e.url.replace(this._path,"").replace(/\?.*$/,""),n=_.test(i),a=n?"map":"source",r='"'+x+'"',s=e.headers["if-none-match"];!s||r!==s&&"W/"+r!==s?(b("serve client %s",a),t.setHeader("Cache-Control","public, max-age=0"),t.setHeader("Content-Type","application/"+(n?"json":"javascript")+"; charset=utf-8"),t.setHeader("ETag",r),w.sendFile(i,e,t)):(b("serve client %s 304",a),t.writeHead(304),t.end())}static sendFile(e,t,i){var n=(0,s.createReadStream)(l.join(k,"../client-dist/",e)),a=e=>{e&&i.end()};switch(c(t).encodings(["br","gzip","deflate"])){case"br":i.writeHead(200,{"content-encoding":"br"}),n.pipe((0,o.createBrotliCompress)()).pipe(i),(0,p.pipeline)(n,(0,o.createBrotliCompress)(),i,a);break;case"gzip":i.writeHead(200,{"content-encoding":"gzip"}),(0,p.pipeline)(n,(0,o.createGzip)(),i,a);break;case"deflate":i.writeHead(200,{"content-encoding":"deflate"}),(0,p.pipeline)(n,(0,o.createDeflate)(),i,a);break;default:i.writeHead(200),(0,p.pipeline)(n,i,a)}}bind(e){return this.engine=e,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(e){b("incoming connection with id %s",e.id);var t=new i.Client(this,e);return 3===e.protocol&&t.connect("/"),this}of(n,e){var t;if("function"==typeof n||n instanceof RegExp)return t=new f.ParentNamespace(this),b("initializing parent namespace %s",t.name),("function"==typeof n?this.parentNsps:(this.parentNsps.set((e,t,i)=>i(null,n.test(e)),t),this.parentNamespacesFromRegExp)).set(n,t),e&&t.on("connect",e),t;"/"!==String(n)[0]&&(n="/"+n);let i=this._nsps.get(n);if(!i){for(var[a,r]of this.parentNamespacesFromRegExp)if(a.test(n))return b("attaching namespace %s to parent namespace %s",n,a),r.createChild(n);b("initializing namespace %s",n),i=new h.Namespace(this,n),this._nsps.set(n,i),"/"!==n&&this.sockets.emitReserved("new_namespace",i)}return e&&i.on("connect",e),i}close(e){for(const t of this.sockets.sockets.values())t._onclose("server shutting down");this.engine.close(),(0,v.restoreAdapter)(),this.httpServer?this.httpServer.close(e):e&&e()}use(e){return this.sockets.use(e),this}to(e){return this.sockets.to(e)}in(e){return this.sockets.in(e)}except(e){return this.sockets.except(e)}emitWithAck(e,...t){return this.sockets.emitWithAck(e,...t)}send(...e){return this.sockets.emit("message",...e),this}write(...e){return this.sockets.emit("message",...e),this}serverSideEmit(e,...t){return this.sockets.serverSideEmit(e,...t)}serverSideEmitWithAck(e,...t){return this.sockets.serverSideEmitWithAck(e,...t)}allSockets(){return this.sockets.allSockets()}compress(e){return this.sockets.compress(e)}get volatile(){return this.sockets.volatile}get local(){return this.sockets.local}timeout(e){return this.sockets.timeout(e)}fetchSockets(){return this.sockets.fetchSockets()}socketsJoin(e){return this.sockets.socketsJoin(e)}socketsLeave(e){return this.sockets.socketsLeave(e)}disconnectSockets(e=!1){return this.sockets.disconnectSockets(e)}}D.Server=w;Object.keys(d.EventEmitter.prototype).filter(function(e){return"function"==typeof d.EventEmitter.prototype[e]}).forEach(function(e){w.prototype[e]=function(){return this.sockets[e].apply(this.sockets,arguments)}}),S.exports=(e,t)=>new w(e,t),S.exports.Server=w,S.exports.Namespace=h.Namespace,S.exports.Socket=g.Socket,E("./socket")}.call(this)}.call(this,E("path").join(__dirname,"node_modules","socket.io","dist"))},{"../package.json":491,"./client":484,"./namespace":486,"./parent-namespace":487,"./socket":488,"./typed-events":489,"./uws":490,accepts:81,debug:175,"engine.io":189,events:void 0,fs:void 0,http:void 0,path:void 0,"socket.io-adapter":479,"socket.io-parser":481,stream:void 0,zlib:void 0}],486:[function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.Namespace=i.RESERVED_EVENTS=void 0;const r=e("./socket");var a=e("./typed-events"),n=n(e("debug"));const s=e("./broadcast-operator"),o=(0,n.default)("socket.io:namespace");i.RESERVED_EVENTS=new Set(["connect","connection","new_namespace"]);class c extends a.StrictEventEmitter{constructor(e,t){super(),this.sockets=new Map,this._fns=[],this._ids=0,this.server=e,this.name=t,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(e){return this._fns.push(e),this}run(e,n){const a=this._fns.slice(0);if(!a.length)return n(null);!function t(i){a[i](e,function(e){return e?n(e):a[i+1]?void t(i+1):n(null)})}(0)}to(e){return new s.BroadcastOperator(this.adapter).to(e)}in(e){return new s.BroadcastOperator(this.adapter).in(e)}except(e){return new s.BroadcastOperator(this.adapter).except(e)}async _add(t,e,i){o("adding socket to nsp %s",this.name);const n=await this._createSocket(t,e);if(null!=(e=this.server.opts.connectionStateRecovery)&&e.skipMiddlewares&&n.recovered&&"open"===t.conn.readyState)return this._doConnect(n,i);this.run(n,e=>{process.nextTick(()=>{if("open"===t.conn.readyState)return e?(o("middleware error, sending CONNECT_ERROR packet to the client"),n._cleanup(),3===t.conn.protocol?n._error(e.data||e.message):n._error({message:e.message,data:e.data})):void this._doConnect(n,i);o("next called after client was closed - ignoring socket"),n._cleanup()})})}async _createSocket(t,i){var n=i.pid,a=i.offset;if(this.server.opts.connectionStateRecovery&&"string"==typeof n&&"string"==typeof a){let e;try{e=await this.adapter.restoreSession(n,a)}catch(e){o("error while restoring session: %s",e)}if(e)return o("connection state recovered for sid %s",e.sid),new r.Socket(this,t,i,e)}return new r.Socket(this,t,i)}_doConnect(e,t){this.sockets.set(e.id,e),e._onconnect(),t&&t(e),this.emitReserved("connect",e),this.emitReserved("connection",e)}_remove(e){this.sockets.has(e.id)?this.sockets.delete(e.id):o("ignoring remove for %s",e.id)}emit(e,...t){return new s.BroadcastOperator(this.adapter).emit(e,...t)}emitWithAck(e,...t){return new s.BroadcastOperator(this.adapter).emitWithAck(e,...t)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}serverSideEmit(e,...t){if(i.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);return t.unshift(e),this.adapter.serverSideEmit(t),!0}serverSideEmitWithAck(e,...t){return new Promise((i,n)=>{t.push((e,t)=>e?(e.responses=t,n(e)):i(t)),this.serverSideEmit(e,...t)})}_onServerSideEmit(e){super.emitUntyped.apply(this,e)}allSockets(){return new s.BroadcastOperator(this.adapter).allSockets()}compress(e){return new s.BroadcastOperator(this.adapter).compress(e)}get volatile(){return new s.BroadcastOperator(this.adapter).volatile}get local(){return new s.BroadcastOperator(this.adapter).local}timeout(e){return new s.BroadcastOperator(this.adapter).timeout(e)}fetchSockets(){return new s.BroadcastOperator(this.adapter).fetchSockets()}socketsJoin(e){return new s.BroadcastOperator(this.adapter).socketsJoin(e)}socketsLeave(e){return new s.BroadcastOperator(this.adapter).socketsLeave(e)}disconnectSockets(e=!1){return new s.BroadcastOperator(this.adapter).disconnectSockets(e)}}i.Namespace=c},{"./broadcast-operator":483,"./socket":488,"./typed-events":489,debug:175}],487:[function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParentNamespace=void 0;const a=e("./namespace"),r=(0,n(e("debug")).default)("socket.io:parent-namespace");class s extends a.Namespace{constructor(e){super(e,"/_"+s.count++),this.children=new Set}_initAdapter(){this.adapter={broadcast:(t,i)=>{this.children.forEach(e=>{e.adapter.broadcast(t,i)})}}}emit(t,...i){return this.children.forEach(e=>{e.emit(t,...i)}),!0}createChild(t){r("creating child namespace %s",t);const i=new a.Namespace(this.server,t);if(i._fns=this._fns.slice(0),this.listeners("connect").forEach(e=>i.on("connect",e)),this.listeners("connection").forEach(e=>i.on("connection",e)),this.children.add(i),this.server._opts.cleanupEmptyChildNamespaces){const n=i._remove;i._remove=e=>{n.call(i,e),0===i.sockets.size&&(r("closing child namespace %s",t),i.adapter.close(),this.server._nsps.delete(i.name),this.children.delete(i))}}return this.server._nsps.set(t,i),this.server.sockets.emitReserved("new_namespace",i),i}fetchSockets(){throw new Error("fetchSockets() is not supported on parent namespaces")}}(i.ParentNamespace=s).count=0},{"./namespace":486,debug:175}],488:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Socket=n.RESERVED_EVENTS=void 0;const a=e("socket.io-parser");var r=i(e("debug")),s=e("./typed-events");const o=i(e("base64id")),c=e("./broadcast-operator"),p=(0,r.default)("socket.io:socket"),l=new Set(["transport error","transport close","forced close","ping timeout","server shutting down","forced server close"]);function u(){}n.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"]);class d extends s.StrictEventEmitter{constructor(e,t,i,n){super(),this.nsp=e,this.client=t,this.recovered=!1,this.data={},this.connected=!1,this.acks=new Map,this.fns=[],this.flags={},this.server=e.server,this.adapter=this.nsp.adapter,n?(this.id=n.sid,this.pid=n.pid,n.rooms.forEach(e=>this.join(e)),this.data=n.data,n.missedPackets.forEach(e=>{this.packet({type:a.PacketType.EVENT,data:e})}),this.recovered=!0):(3===t.conn.protocol?this.id="/"!==e.name?e.name+"#"+t.id:t.id:this.id=o.default.generateId(),this.server._opts.connectionStateRecovery&&(this.pid=o.default.generateId())),this.handshake=this.buildHandshake(i)}buildHandshake(e){return{headers:this.request.headers,time:new Date+"",address:this.conn.remoteAddress,xdomain:!!this.request.headers.origin,secure:!!this.request.connection.encrypted,issued:+new Date,url:this.request.url,query:this.request._query,auth:e}}emit(e,...t){if(n.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);var i,e=[e,...t],t={type:a.PacketType.EVENT,data:e},e=("function"==typeof e[e.length-1]&&(i=this.nsp._ids++,p("emitting packet with ack id %d",i),this.registerAckCallback(i,e.pop()),t.id=i),Object.assign({},this.flags));return this.flags={},this.nsp.server.opts.connectionStateRecovery?this.adapter.broadcast(t,{rooms:new Set([this.id]),except:new Set,flags:e}):(this.notifyOutgoingListeners(t),this.packet(t,e)),!0}emitWithAck(e,...t){const a=void 0!==this.flags.timeout;return new Promise((i,n)=>{t.push((e,t)=>a?e?n(e):i(t):i(e)),this.emit(e,...t)})}registerAckCallback(e,t){const i=this.flags.timeout;if(void 0===i)this.acks.set(e,t);else{const n=setTimeout(()=>{p("event with ack id %d has timed out after %d ms",e,i),this.acks.delete(e),t.call(this,new Error("operation has timed out"))},i);this.acks.set(e,(...e)=>{clearTimeout(n),t.apply(this,[null,...e])})}}to(e){return this.newBroadcastOperator().to(e)}in(e){return this.newBroadcastOperator().in(e)}except(e){return this.newBroadcastOperator().except(e)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}packet(e,t={}){e.nsp=this.nsp.name,t.compress=!1!==t.compress,this.client._packet(e,t)}join(e){return p("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return p("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){p("socket connected - writing packet"),this.connected=!0,this.join(this.id),3===this.conn.protocol?this.packet({type:a.PacketType.CONNECT}):this.packet({type:a.PacketType.CONNECT,data:{sid:this.id,pid:this.pid}})}_onpacket(e){switch(p("got packet %j",e),e.type){case a.PacketType.EVENT:case a.PacketType.BINARY_EVENT:this.onevent(e);break;case a.PacketType.ACK:case a.PacketType.BINARY_ACK:this.onack(e);break;case a.PacketType.DISCONNECT:this.ondisconnect()}}onevent(e){var t=e.data||[];if(p("emitting event %j",t),null!=e.id&&(p("attaching ack callback to event"),t.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length)for(const i of this._anyListeners.slice())i.apply(this,t);this.dispatch(t)}ack(t){const i=this;let n=!1;return function(){var e;n||(e=Array.prototype.slice.call(arguments),p("sending ack %j",e),i.packet({id:t,type:a.PacketType.ACK,data:e}),n=!0)}}onack(e){var t=this.acks.get(e.id);"function"==typeof t?(p("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),this.acks.delete(e.id)):p("bad ack %s",e.id)}ondisconnect(){p("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.listeners("error").length?this.emitReserved("error",e):(console.error("Missing error handler on `socket`."),console.error(e.stack))}_onclose(e,t){if(!this.connected)return this;p("closing socket - reason %s",e),this.emitReserved("disconnecting",e,t),this.server._opts.connectionStateRecovery&&l.has(e)&&(p("connection state recovery is enabled for sid %s",this.id),this.adapter.persistSession({sid:this.id,pid:this.pid,rooms:[...this.rooms],data:this.data})),this._cleanup(),this.nsp._remove(this),this.client._remove(this),this.connected=!1,this.emitReserved("disconnect",e,t)}_cleanup(){this.leaveAll(),this.join=u}_error(e){this.packet({type:a.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected&&(e?this.client._disconnect():(this.packet({type:a.PacketType.DISCONNECT}),this._onclose("server namespace disconnect"))),this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.newBroadcastOperator()}get local(){return this.newBroadcastOperator().local}timeout(e){return this.flags.timeout=e,this}dispatch(t){p("dispatching an event %j",t),this.run(t,e=>{process.nextTick(()=>{if(e)return this._onerror(e);this.connected?super.emitUntyped.apply(this,t):p("ignore packet received after disconnection")})})}use(e){return this.fns.push(e),this}run(e,n){const a=this.fns.slice(0);if(!a.length)return n(null);!function t(i){a[i](e,function(e){return e?n(e):a[i+1]?void t(i+1):n(null)})}(0)}get disconnected(){return!this.connected}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(t){if(this._anyListeners)if(t){var i=this._anyListeners;for(let e=0;e<i.length;e++)if(t===i[e])return i.splice(e,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(t){if(this._anyOutgoingListeners)if(t){var i=this._anyOutgoingListeners;for(let e=0;e<i.length;e++)if(t===i[e])return i.splice(e,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length)for(const t of this._anyOutgoingListeners.slice())t.apply(this,e.data)}newBroadcastOperator(){var e=Object.assign({},this.flags);return this.flags={},new c.BroadcastOperator(this.adapter,new Set,new Set([this.id]),e)}}n.Socket=d},{"./broadcast-operator":483,"./typed-events":489,base64id:91,debug:175,"socket.io-parser":481}],489:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.StrictEventEmitter=void 0;class n extends e("events").EventEmitter{on(e,t){return super.on(e,t)}once(e,t){return super.once(e,t)}emit(e,...t){return super.emit(e,...t)}emitReserved(e,...t){return super.emit(e,...t)}emitUntyped(e,...t){return super.emit(e,...t)}listeners(e){return super.listeners(e)}}i.StrictEventEmitter=n},{events:void 0}],490:[function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.serveFile=i.restoreAdapter=i.patchAdapter=void 0;const a=e("socket.io-adapter"),o=e("fs"),c=(0,n(e("debug")).default)("socket.io:adapter-uws"),p="",{addAll:r,del:l,broadcast:u}=a.Adapter.prototype;function d(t,e,i,n){const a=e.conn.id,r=e.conn.transport.socket;i&&(c("subscribe connection %s to topic %s",a,t),r.subscribe(t)),n.forEach(e=>{e=""+t+p+e;c("subscribe connection %s to topic %s",a,e),r.subscribe(e)})}i.patchAdapter=function(s){a.Adapter.prototype.addAll=function(t,e){const i=!this.sids.has(t),n=(r.call(this,t,e),this.nsp.sockets.get(t));n&&("websocket"===n.conn.transport.name?d(this.nsp.name,n,i,e):i&&n.conn.on("upgrade",()=>{var e=this.sids.get(t);e&&d(this.nsp.name,n,i,e)}))},a.Adapter.prototype.del=function(e,t){l.call(this,e,t);var i,e=this.nsp.sockets.get(e);e&&"websocket"===e.conn.transport.name&&(i=e.conn.id,e=e.conn.transport.socket,t=""+this.nsp.name+p+t,c("unsubscribe connection %s from topic %s",i,t),e.unsubscribe(t))},a.Adapter.prototype.broadcast=function(e,t){if(t.rooms.size<=1&&0===t.except.size){var i=t.flags||{};const n={preEncoded:!0,volatile:i.volatile,compress:i.compress},a=(e.nsp=this.nsp.name,this.encoder.encode(e)),r=0===t.rooms.size?this.nsp.name:""+this.nsp.name+p+t.rooms.keys().next().value;c("fast publish to %s",r),a.forEach(e=>{var t="string"!=typeof e;s.publish(r,t?e:"4"+e,t)}),this.apply(t,e=>{"websocket"!==e.conn.transport.name&&e.client.writeToEngine(a,n)})}else u.call(this,e,t)}},i.restoreAdapter=function(){a.Adapter.prototype.addAll=r,a.Adapter.prototype.del=l,a.Adapter.prototype.broadcast=u};const h=e=>{var{buffer:e,byteOffset:t,byteLength:i}=e;return e.slice(t,t+i)};i.serveFile=function(a,e){const r=(0,o.statSync)(e)["size"],s=(0,o.createReadStream)(e),t=()=>!s.destroyed&&s.destroy();a.onAborted(t),s.on("data",e=>{const i=h(e),n=a.getWriteOffset();var[e,t]=a.tryEnd(i,r);t||e||(s.pause(),a.onWritable(e=>{var[e,t]=a.tryEnd(i.slice(e-n),r);return!t&&e&&s.resume(),e}))}).on("error",e=>{throw t(),e}).on("end",t)}},{debug:175,fs:void 0,"socket.io-adapter":479}],491:[function(e,t,i){t.exports={name:"socket.io",version:"4.6.1",description:"node.js realtime framework server",keywords:["realtime","framework","websocket","tcp","events","socket","io"],files:["dist/","client-dist/","wrapper.mjs","!**/*.tsbuildinfo"],directories:{doc:"docs/",example:"example/",lib:"lib/",test:"test/"},type:"commonjs",main:"./dist/index.js",exports:{import:"./wrapper.mjs",require:"./dist/index.js",types:"./dist/index.d.ts"},types:"./dist/index.d.ts",license:"MIT",repository:{type:"git",url:"git://github.com/socketio/socket.io"},scripts:{compile:"rimraf ./dist && tsc",test:"npm run format:check && npm run compile && npm run test:types && npm run test:unit","test:types":"tsd","test:unit":"nyc mocha --require ts-node/register --reporter spec --slow 200 --bail --timeout 10000 test/index.ts","format:check":'prettier --check "lib/**/*.ts" "test/**/*.ts"',"format:fix":'prettier --write "lib/**/*.ts" "test/**/*.ts"',prepack:"npm run compile"},dependencies:{accepts:"~1.3.4",base64id:"~2.0.0",debug:"~4.3.2","engine.io":"~6.4.1","socket.io-adapter":"~2.5.2","socket.io-parser":"~4.2.1"},devDependencies:{"@types/mocha":"^9.0.0","expect.js":"0.3.1",mocha:"^10.0.0",nyc:"^15.1.0",prettier:"^2.3.2",rimraf:"^3.0.2","socket.io-client":"4.6.1","socket.io-client-v2":"npm:socket.io-client@^2.4.0",superagent:"^8.0.0",supertest:"^6.1.6","ts-node":"^10.2.1",tsd:"^0.21.0",typescript:"^4.4.2","uWebSockets.js":"github:uNetworking/uWebSockets.js#v20.0.0"},contributors:[{name:"Guillermo Rauch",email:"rauchg@gmail.com"},{name:"Arnout Kazemier",email:"info@3rd-eden.com"},{name:"Vladimir Dronnikov",email:"dronnikov@gmail.com"},{name:"Einar Otto Stangvik",email:"einaros@gmail.com"}],engines:{node:">=10.0.0"},tsd:{directory:"test"}}},{}],492:[function(e,t,i){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],493:[function(e,t,i){"use strict";var n,a,r,e=e("./codes.json");function s(e){if("number"==typeof e){if(s[e])return e;throw new Error("invalid status code: "+e)}if("string"!=typeof e)throw new TypeError("code must be a number or string");var t=parseInt(e,10);if(!isNaN(t)){if(s[t])return t;throw new Error("invalid status code: "+t)}if(t=s[e.toLowerCase()])return t;throw new Error('invalid status message: "'+e+'"')}(t.exports=s).STATUS_CODES=e,s.codes=(n=s,a=e,r=[],Object.keys(a).forEach(function(e){var t=a[e],e=Number(e);n[e]=t,n[t]=e,n[t.toLowerCase()]=e,r.push(e)}),r),s.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},s.empty={204:!0,205:!0,304:!0},s.retry={502:!0,503:!0,504:!0}},{"./codes.json":492}],494:[function(e,t,i){"use strict";const a=e("strip-ansi"),r=e("is-fullwidth-code-point"),s=e("emoji-regex");e=t=>{if("string"!=typeof t||0===t.length)return 0;if(0===(t=a(t)).length)return 0;t=t.replace(s(),"  ");let i=0;for(let e=0;e<t.length;e++){var n=t.codePointAt(e);n<=31||127<=n&&n<=159||768<=n&&n<=879||(65535<n&&e++,i+=r(n)?2:1)}return i};t.exports=e,t.exports.default=e},{"emoji-regex":183,"is-fullwidth-code-point":338,"strip-ansi":496}],495:[function(e,t,i){"use strict";var n=e("safe-buffer").Buffer,a=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"==typeof t||n.isEncoding!==a&&a(e))return t||e;throw new Error("Unknown encoding: "+e)}function s(e){var t;switch(this.encoding=r(e),this.encoding){case"utf16le":this.text=p,this.end=l,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e){var t,i=this.lastTotal-this.lastNeed,n=(t=this,128!=(192&(n=e)[0])?(t.lastNeed=0,""):1<t.lastNeed&&1<n.length?128!=(192&n[1])?(t.lastNeed=1,""):2<t.lastNeed&&2<n.length&&128!=(192&n[2])?(t.lastNeed=2,""):void 0:void 0);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,i,0,e.length),void(this.lastNeed-=e.length))}function p(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);t=e.toString("utf16le",t);if(t){var i=t.charCodeAt(t.length-1);if(55296<=i&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}function l(e){var t,e=e&&e.length?this.write(e):"";return this.lastNeed?(t=this.lastTotal-this.lastNeed,e+this.lastChar.toString("utf16le",0,t)):e}function u(e,t){var i=(e.length-t)%3;return 0==i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1==i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function d(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}(i.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},s.prototype.end=function(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+"":e},s.prototype.text=function(e,t){var i=function(e,t,i){var n=t.length-1;if(!(n<i)){var a=o(t[n]);if(0<=a)return 0<a&&(e.lastNeed=a-1),a;if(!(--n<i||-2===a)){if(0<=(a=o(t[n])))return 0<a&&(e.lastNeed=a-2),a;if(!(--n<i||-2===a)&&0<=(a=o(t[n])))return 0<a&&(2===a?a=0:e.lastNeed=a-3),a}}return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;i=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":413}],496:[function(e,t,i){"use strict";const n=e("ansi-regex");t.exports=e=>"string"==typeof e?e.replace(n(),""):e},{"ansi-regex":82}],497:[function(e,t,i){"use strict";const r=e("os");var n=e("tty");const s=e("has-flag"),o=process["env"];let c;function a(e,{streamIsTTY:t,sniffFlags:i=!0}={}){var n=function(){if("FORCE_COLOR"in o)return"true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(Number.parseInt(o.FORCE_COLOR,10),3)}(),n=(void 0!==n&&(c=n),i?c:n);if(0===n)return 0;if(i){if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2}if(e&&!t&&void 0===n)return 0;i=n||0;if("dumb"===o.TERM)return i;if("win32"===process.platform)return e=r.release().split("."),10<=Number(e[0])&&10586<=Number(e[2])?14931<=Number(e[2])?3:2:1;if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:i;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){var a=Number.parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return 3<=a?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:i}function p(e,t={}){e=a(e,{streamIsTTY:e&&e.isTTY,...t});return 0!==(t=e)&&{level:t,hasBasic:!0,has256:2<=t,has16m:3<=t}}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?c=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(c=1),t.exports={supportsColor:p,stdout:p({isTTY:n.isatty(1)}),stderr:p({isTTY:n.isatty(2)})}},{"has-flag":305,os:void 0,tty:void 0}],498:[function(e,t,i){"use strict";t.exports=function(e){return e.split(" ").map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}},{}],499:[function(e,t,i){"use strict";var s=e("media-typer"),n=e("mime-types");function a(e,t){var i=t,n=function(e){if(!e)return null;try{return function(e){e=s.parse(e);return e.parameters=void 0,s.format(e)}(e)}catch(e){return null}}(e);if(n){if(i&&!Array.isArray(i))for(i=new Array(arguments.length-1),r=0;r<i.length;r++)i[r]=arguments[r+1];if(!i||!i.length)return n;for(var a,r=0;r<i.length;r++)if(c(o(a=i[r]),n))return"+"===a[0]||-1!==a.indexOf("*")?n:a}return!1}function r(e){return void 0!==e.headers["transfer-encoding"]||!isNaN(e.headers["content-length"])}function o(e){if("string"!=typeof e)return!1;switch(e){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return"+"===e[0]?"*/*"+e:-1===e.indexOf("/")?n.lookup(e):e}function c(e,t){return!1!==e&&(t=t.split("/"),e=e.split("/"),2===t.length)&&2===e.length&&("*"===e[0]||e[0]===t[0])&&("*+"===e[1].substr(0,2)?e[1].length<=t[1].length+1&&e[1].substr(1)===t[1].substr(1-e[1].length):"*"===e[1]||e[1]===t[1])}t.exports=function(e,t){var i=t;if(!r(e))return null;if(2<arguments.length){i=new Array(arguments.length-1);for(var n=0;n<i.length;n++)i[n]=arguments[n+1]}return a(e.headers["content-type"],i)},t.exports.is=a,t.exports.hasBody=r,t.exports.normalize=o,t.exports.match=c},{"media-typer":347,"mime-types":352}],500:[function(e,t,i){"use strict";var p=e("../string/coerce"),l=e("./to-short-string");t.exports=function(e,t,i){var n=(e=i&&i.errorMessage?p(i.errorMessage):e).indexOf("%v"),t=-1<n?l(t):null;if(i&&i.name){var a,r,s,o,c=e.indexOf("%n");if(-1<c)return-1<n?(o=n<c?(a=t,s=n,r=i.name,c):(a=i.name,s=c,r=t,n),e.slice(0,s)+a+e.slice(s+2,o)+r+e.slice(o+2)):e.slice(0,c)+i.name+e.slice(c+2)}return-1<n?e.slice(0,n)+t+e.slice(n+2):e}},{"../string/coerce":505,"./to-short-string":503}],501:[function(e,t,i){"use strict";var n=e("../value/is"),a=e("./resolve-error-message");t.exports=function(e,t,i){if(i&&!n(e)){if("default"in i)return i.default;if(i.isOptional)return null}t=new(i&&i.Error||TypeError)(a(t,e,i));throw i&&i.errorCode&&(t.code=i.errorCode),t}},{"../value/is":507,"./resolve-error-message":500}],502:[function(e,t,i){arguments[4][165][0].apply(i,arguments)},{dup:165}],503:[function(e,t,i){arguments[4][166][0].apply(i,arguments)},{"./safe-to-string":502,dup:166}],504:[function(e,t,i){arguments[4][167][0].apply(i,arguments)},{"../value/is":507,dup:167}],505:[function(e,t,i){arguments[4][170][0].apply(i,arguments)},{"../object/is":504,"../value/is":507,dup:170}],506:[function(e,t,i){"use strict";var n=e("../lib/resolve-exception"),a=e("./coerce");t.exports=function(e){var t,i=a(e);return null!==i?i:(t=(i=arguments[1])&&i.name?"Expected a string for %n, received %v":"%v is not a string",n(e,t,i))}},{"../lib/resolve-exception":501,"./coerce":505}],507:[function(e,t,i){arguments[4][172][0].apply(i,arguments)},{dup:172}],508:[function(e,t,i){var n,a,r,s;n=this,a=function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},n=Array.prototype,M=Object.prototype,L="undefined"!=typeof Symbol?Symbol.prototype:null,B=n.push,c=n.slice,u=M.toString,F=M.hasOwnProperty,t="undefined"!=typeof ArrayBuffer,i="undefined"!=typeof DataView,q=Array.isArray,U=Object.keys,H=Object.create,z=t&&ArrayBuffer.isView,G=isNaN,W=isFinite,K=!{toString:null}.propertyIsEnumerable("toString"),$=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],V=Math.pow(2,53)-1;function l(a,r){return r=null==r?a.length-1:+r,function(){for(var e=Math.max(arguments.length-r,0),t=Array(e),i=0;i<e;i++)t[i]=arguments[i+r];switch(r){case 0:return a.call(this,t);case 1:return a.call(this,arguments[0],t);case 2:return a.call(this,arguments[0],arguments[1],t)}for(var n=Array(r+1),i=0;i<r;i++)n[i]=arguments[i];return n[r]=t,a.apply(this,n)}}function r(e){var t=typeof e;return"function"==t||"object"==t&&!!e}function Y(e){return void 0===e}function Q(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)}function a(e){var t="[object "+e+"]";return function(e){return u.call(e)===t}}var J=a("String"),Z=a("Number"),s=a("Date"),X=a("RegExp"),ee=a("Error"),te=a("Symbol"),ie=a("ArrayBuffer"),o=a("Function"),e=e.document&&e.document.childNodes,d=o="function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof e?function(e){return"function"==typeof e||!1}:o,e=a("Object"),ne=i&&e(new DataView(new ArrayBuffer(8))),o="undefined"!=typeof Map&&e(new Map),i=a("DataView");var h=ne?function(e){return null!=e&&d(e.getInt8)&&ie(e.buffer)}:i,f=q||a("Array");function m(e,t){return null!=e&&F.call(e,t)}var ae=a("Arguments"),re=(!function(){ae(arguments)||(ae=function(e){return m(e,"callee")})}(),ae);function se(e){return Z(e)&&G(e)}function oe(e){return function(){return e}}function ce(t){return function(e){e=t(e);return"number"==typeof e&&0<=e&&e<=V}}function pe(t){return function(e){return null==e?void 0:e[t]}}var y=pe("byteLength"),le=ce(y),ue=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var de=t?function(e){return z?z(e)&&!h(e):le(e)&&ue.test(u.call(e))}:oe(!1),g=pe("length");function he(e,t){t=function(t){for(var i={},e=t.length,n=0;n<e;++n)i[t[n]]=!0;return{contains:function(e){return!0===i[e]},push:function(e){return i[e]=!0,t.push(e)}}}(t);var i=$.length,n=e.constructor,a=d(n)&&n.prototype||M,r="constructor";for(m(e,r)&&!t.contains(r)&&t.push(r);i--;)(r=$[i])in e&&e[r]!==a[r]&&!t.contains(r)&&t.push(r)}function v(e){if(!r(e))return[];if(U)return U(e);var t,i=[];for(t in e)m(e,t)&&i.push(t);return K&&he(e,i),i}function fe(e,t){var i=v(t),n=i.length;if(null==e)return!n;for(var a=Object(e),r=0;r<n;r++){var s=i[r];if(t[s]!==a[s]||!(s in a))return!1}return!0}function b(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)}function me(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,y(e))}b.VERSION="1.13.2",b.prototype.valueOf=b.prototype.toJSON=b.prototype.value=function(){return this._wrapped},b.prototype.toString=function(){return String(this._wrapped)};var ye="[object DataView]";function ge(e,t,i,n){var a;return e===t?0!==e||1/e==1/t:null!=e&&null!=t&&(e!=e?t!=t:("function"==(a=typeof e)||"object"==a||"object"==typeof t)&&function e(t,i,n,a){t instanceof b&&(t=t._wrapped);i instanceof b&&(i=i._wrapped);var r=u.call(t);if(r!==u.call(i))return!1;if(ne&&"[object Object]"==r&&h(t)){if(!h(i))return!1;r=ye}switch(r){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:0==+t?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object Symbol]":return L.valueOf.call(t)===L.valueOf.call(i);case"[object ArrayBuffer]":case ye:return e(me(t),me(i),n,a)}r="[object Array]"===r;if(!r&&de(t)){var s=y(t);if(s!==y(i))return!1;if(t.buffer===i.buffer&&t.byteOffset===i.byteOffset)return!0;r=!0}if(!r){if("object"!=typeof t||"object"!=typeof i)return!1;var s=t.constructor,o=i.constructor;if(s!==o&&!(d(s)&&s instanceof s&&d(o)&&o instanceof o)&&"constructor"in t&&"constructor"in i)return!1}n=n||[];a=a||[];var c=n.length;for(;c--;)if(n[c]===t)return a[c]===i;n.push(t);a.push(i);if(r){if((c=t.length)!==i.length)return!1;for(;c--;)if(!ge(t[c],i[c],n,a))return!1}else{var p,l=v(t);if(c=l.length,v(i).length!==c)return!1;for(;c--;)if(p=l[c],!m(i,p)||!ge(t[p],i[p],n,a))return!1}n.pop();a.pop();return!0}(e,t,i,n))}function p(e){if(!r(e))return[];var t,i=[];for(t in e)i.push(t);return K&&he(e,i),i}function ve(n){var a=g(n);return function(e){if(null==e)return!1;var t=p(e);if(g(t))return!1;for(var i=0;i<a;i++)if(!d(e[n[i]]))return!1;return n!==xe||!d(e[be])}}var be="forEach",e=["clear","delete"],i=["get","has","set"],q=e.concat(be,i),xe=e.concat(i),t=["add"].concat(e,be,"has"),i=o?ve(q):a("Map"),e=o?ve(xe):a("WeakMap"),q=o?ve(t):a("Set"),o=a("WeakSet");function x(e){for(var t=v(e),i=t.length,n=Array(i),a=0;a<i;a++)n[a]=e[t[a]];return n}function _e(e){for(var t={},i=v(e),n=0,a=i.length;n<a;n++)t[e[i[n]]]=i[n];return t}function we(e){var t,i=[];for(t in e)d(e[t])&&i.push(t);return i.sort()}function ke(c,p){return function(e){var t=arguments.length;if(p&&(e=Object(e)),!(t<2||null==e))for(var i=1;i<t;i++)for(var n=arguments[i],a=c(n),r=a.length,s=0;s<r;s++){var o=a[s];p&&void 0!==e[o]||(e[o]=n[o])}return e}}var Ee=ke(p),_=ke(v),Se=ke(p,!0);function De(e){var t;return r(e)?H?H(e):((t=function(){}).prototype=e,e=new t,t.prototype=null,e):{}}function Ce(e){return f(e)?e:[e]}function w(e){return b.toPath(e)}function Te(e,t){for(var i=t.length,n=0;n<i;n++){if(null==e)return;e=e[t[n]]}return i?e:void 0}function Ae(e,t,i){e=Te(e,w(t));return Y(e)?i:e}function Oe(e){return e}function k(t){return t=_({},t),function(e){return fe(e,t)}}function Ie(t){return t=w(t),function(e){return Te(e,t)}}function E(a,r,e){if(void 0===r)return a;switch(null==e?3:e){case 1:return function(e){return a.call(r,e)};case 3:return function(e,t,i){return a.call(r,e,t,i)};case 4:return function(e,t,i,n){return a.call(r,e,t,i,n)}}return function(){return a.apply(r,arguments)}}function Pe(e,t,i){return null==e?Oe:d(e)?E(e,t,i):(r(e)&&!f(e)?k:Ie)(e)}function Re(e,t){return Pe(e,t,1/0)}function S(e,t,i){return b.iteratee!==Re?b.iteratee(e,t):Pe(e,t,i)}function je(){}function Ne(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}b.toPath=Ce,b.iteratee=Re;var D=Date.now||function(){return(new Date).getTime()};function Me(t){function i(e){return t[e]}var e="(?:"+v(t).join("|")+")",n=RegExp(e),a=RegExp(e,"g");return function(e){return n.test(e=null==e?"":""+e)?e.replace(a,i):e}}var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Le=Me(t),t=Me(_e(t)),Be=b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Fe=/(.)^/,qe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ue=/\\|'|\r|\n|\u2028|\u2029/g;function He(e){return"\\"+qe[e]}var ze=/^\s*(\w|\$)+\s*$/;var Ge=0;function We(e,t,i,n,a){return n instanceof t?(n=De(e.prototype),r(t=e.apply(n,a))?t:n):e.apply(i,a)}var C=l(function(a,r){function s(){for(var e=0,t=r.length,i=Array(t),n=0;n<t;n++)i[n]=r[n]===o?arguments[e++]:r[n];for(;e<arguments.length;)i.push(arguments[e++]);return We(a,s,this,this,i)}var o=C.placeholder;return s}),Ke=(C.placeholder=b,l(function(t,i,n){var a;if(d(t))return a=l(function(e){return We(t,a,i,this,n.concat(e))});throw new TypeError("Bind must be called on a function")})),T=ce(g);function A(e,t,i,n){if(n=n||[],t||0===t){if(t<=0)return n.concat(e)}else t=1/0;for(var a=n.length,r=0,s=g(e);r<s;r++){var o=e[r];if(T(o)&&(f(o)||re(o)))if(1<t)A(o,t-1,i,n),a=n.length;else for(var c=0,p=o.length;c<p;)n[a++]=o[c++];else i||(n[a++]=o)}return n}var $e=l(function(e,t){var i=(t=A(t,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=t[i];e[n]=Ke(e[n],e)}return e});var Ve=l(function(e,t,i){return setTimeout(function(){return e.apply(null,i)},t)}),Ye=C(Ve,b,1);function Qe(e){return function(){return!e.apply(this,arguments)}}function Je(e,t){var i;return function(){return 0<--e&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}}var Ze=C(Je,2);function Xe(e,t,i){t=S(t,i);for(var n,a=v(e),r=0,s=a.length;r<s;r++)if(t(e[n=a[r]],n,e))return n}function et(r){return function(e,t,i){t=S(t,i);for(var n=g(e),a=0<r?0:n-1;0<=a&&a<n;a+=r)if(t(e[a],a,e))return a;return-1}}var tt=et(1),it=et(-1);function nt(e,t,i,n){for(var a=(i=S(i,n,1))(t),r=0,s=g(e);r<s;){var o=Math.floor((r+s)/2);i(e[o])<a?r=o+1:s=o}return r}function at(r,s,o){return function(e,t,i){var n=0,a=g(e);if("number"==typeof i)0<r?n=0<=i?i:Math.max(i+a,n):a=0<=i?Math.min(i+1,a):i+a+1;else if(o&&i&&a)return e[i=o(e,t)]===t?i:-1;if(t!=t)return 0<=(i=s(c.call(e,n,a),se))?i+n:-1;for(i=0<r?n:a-1;0<=i&&i<a;i+=r)if(e[i]===t)return i;return-1}}var rt=at(1,tt,nt),st=at(-1,it);function ot(e,t,i){t=(T(e)?tt:Xe)(e,t,i);if(void 0!==t&&-1!==t)return e[t]}function O(e,t,i){if(t=E(t,i),T(e))for(a=0,r=e.length;a<r;a++)t(e[a],a,e);else for(var n=v(e),a=0,r=n.length;a<r;a++)t(e[n[a]],n[a],e);return e}function I(e,t,i){t=S(t,i);for(var n=!T(e)&&v(e),a=(n||e).length,r=Array(a),s=0;s<a;s++){var o=n?n[s]:s;r[s]=t(e[o],o,e)}return r}function ct(d){return function(e,t,i,n){var a=3<=arguments.length,r=e,s=E(t,n,4),o=i,c=!T(r)&&v(r),p=(c||r).length,l=0<d?0:p-1;for(a||(o=r[c?c[l]:l],l+=d);0<=l&&l<p;l+=d){var u=c?c[l]:l;o=s(o,r[u],u,r)}return o}}var pt=ct(1),lt=ct(-1);function P(e,n,t){var a=[];return n=S(n,t),O(e,function(e,t,i){n(e,t,i)&&a.push(e)}),a}function ut(e,t,i){t=S(t,i);for(var n=!T(e)&&v(e),a=(n||e).length,r=0;r<a;r++){var s=n?n[r]:r;if(!t(e[s],s,e))return!1}return!0}function dt(e,t,i){t=S(t,i);for(var n=!T(e)&&v(e),a=(n||e).length,r=0;r<a;r++){var s=n?n[r]:r;if(t(e[s],s,e))return!0}return!1}function R(e,t,i,n){return T(e)||(e=x(e)),0<=rt(e,t,i="number"==typeof i&&!n?i:0)}var ht=l(function(e,i,n){var a,r;return d(i)?r=i:(i=w(i),a=i.slice(0,-1),i=i[i.length-1]),I(e,function(e){var t=r;if(!t){if(null==(e=a&&a.length?Te(e,a):e))return;t=e[i]}return null==t?t:t.apply(e,n)})});function ft(e,t){return I(e,Ie(t))}function mt(e,n,t){var i,a,r=-1/0,s=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var o=0,c=(e=T(e)?e:x(e)).length;o<c;o++)null!=(i=e[o])&&r<i&&(r=i);else n=S(n,t),O(e,function(e,t,i){a=n(e,t,i),(s<a||a===-1/0&&r===-1/0)&&(r=e,s=a)});return r}var yt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function gt(e){return e?f(e)?c.call(e):J(e)?e.match(yt):T(e)?I(e,Oe):x(e):[]}function vt(e,t,i){if(null==t||i)return(e=T(e)?e:x(e))[Ne(e.length-1)];for(var n=gt(e),i=g(n),a=(t=Math.max(Math.min(t,i),0),i-1),r=0;r<t;r++){var s=Ne(r,a),o=n[r];n[r]=n[s],n[s]=o}return n.slice(0,t)}function j(r,t){return function(i,n,e){var a=t?[[],[]]:{};return n=S(n,e),O(i,function(e,t){t=n(e,t,i);r(a,e,t)}),a}}var bt=j(function(e,t,i){m(e,i)?e[i].push(t):e[i]=[t]}),xt=j(function(e,t,i){e[i]=t}),_t=j(function(e,t,i){m(e,i)?e[i]++:e[i]=1}),wt=j(function(e,t,i){e[i?0:1].push(t)},!0);function kt(e,t,i){return t in i}var Et=l(function(e,t){var i={},n=t[0];if(null!=e){d(n)?(1<t.length&&(n=E(n,t[1])),t=p(e)):(n=kt,t=A(t,!1,!1),e=Object(e));for(var a=0,r=t.length;a<r;a++){var s=t[a],o=e[s];n(o,s,e)&&(i[s]=o)}}return i}),St=l(function(e,i){var t,n=i[0];return d(n)?(n=Qe(n),1<i.length&&(t=i[1])):(i=I(A(i,!1,!1),String),n=function(e,t){return!R(i,t)}),Et(e,n,t)});function Dt(e,t,i){return c.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))}function Ct(e,t,i){return null==e||e.length<1?null==t||i?void 0:[]:null==t||i?e[0]:Dt(e,e.length-t)}function N(e,t,i){return c.call(e,null==t||i?1:t)}var Tt=l(function(e,t){return t=A(t,!0,!0),P(e,function(e){return!R(t,e)})}),At=l(function(e,t){return Tt(e,t)});function Ot(e,t,i,n){Q(t)||(n=i,i=t,t=!1),null!=i&&(i=S(i,n));for(var a=[],r=[],s=0,o=g(e);s<o;s++){var c=e[s],p=i?i(c,s,e):c;t&&!i?(s&&r===p||a.push(c),r=p):i?R(r,p)||(r.push(p),a.push(c)):R(a,c)||a.push(c)}return a}var It=l(function(e){return Ot(A(e,!0,!0))});function Pt(e){for(var t=e&&mt(e,g).length||0,i=Array(t),n=0;n<t;n++)i[n]=ft(e,n);return i}var Rt=l(Pt);function jt(e,t){return e._chain?b(t).chain():t}function Nt(i){return O(we(i),function(e){var t=b[e]=i[e];b.prototype[e]=function(){var e=[this._wrapped];return B.apply(e,arguments),jt(this,t.apply(b,e))}}),b}O(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=n[t];b.prototype[t]=function(){var e=this._wrapped;return null!=e&&(i.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0]),jt(this,e)}}),O(["concat","join","slice"],function(e){var t=n[e];b.prototype[e]=function(){var e=this._wrapped;return jt(this,e=null!=e?t.apply(e,arguments):e)}});s=Nt({__proto__:null,VERSION:"1.13.2",restArguments:l,isObject:r,isNull:function(e){return null===e},isUndefined:Y,isBoolean:Q,isElement:function(e){return!(!e||1!==e.nodeType)},isString:J,isNumber:Z,isDate:s,isRegExp:X,isError:ee,isSymbol:te,isArrayBuffer:ie,isDataView:h,isArray:f,isFunction:d,isArguments:re,isFinite:function(e){return!te(e)&&W(e)&&!isNaN(parseFloat(e))},isNaN:se,isTypedArray:de,isEmpty:function(e){var t;return null==e||("number"==typeof(t=g(e))&&(f(e)||J(e)||re(e))?0===t:0===g(v(e)))},isMatch:fe,isEqual:function(e,t){return ge(e,t)},isMap:i,isWeakMap:e,isSet:q,isWeakSet:o,keys:v,allKeys:p,values:x,pairs:function(e){for(var t=v(e),i=t.length,n=Array(i),a=0;a<i;a++)n[a]=[t[a],e[t[a]]];return n},invert:_e,functions:we,methods:we,extend:Ee,extendOwn:_,assign:_,defaults:Se,create:function(e,t){return e=De(e),t&&_(e,t),e},clone:function(e){return r(e)?f(e)?e.slice():Ee({},e):e},tap:function(e,t){return t(e),e},get:Ae,has:function(e,t){for(var i=(t=w(t)).length,n=0;n<i;n++){var a=t[n];if(!m(e,a))return!1;e=e[a]}return!!i},mapObject:function(e,t,i){t=S(t,i);for(var n=v(e),a=n.length,r={},s=0;s<a;s++){var o=n[s];r[o]=t(e[o],o,e)}return r},identity:Oe,constant:oe,noop:je,toPath:Ce,property:Ie,propertyOf:function(t){return null==t?je:function(e){return Ae(t,e)}},matcher:k,matches:k,times:function(e,t,i){var n=Array(Math.max(0,e));t=E(t,i,1);for(var a=0;a<e;a++)n[a]=t(a);return n},random:Ne,now:D,escape:Le,unescape:t,templateSettings:Be,template:function(r,e,t){e=Se({},e=!e&&t?t:e,b.templateSettings);var i,t=RegExp([(e.escape||Fe).source,(e.interpolate||Fe).source,(e.evaluate||Fe).source].join("|")+"|$","g"),s=0,o="__p+='";if(r.replace(t,function(e,t,i,n,a){return o+=r.slice(s,a).replace(Ue,He),s=a+e.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":n&&(o+="';\n"+n+"\n__p+='"),e}),o+="';\n",t=e.variable){if(!ze.test(t))throw new Error("variable is not a bare identifier: "+t)}else o="with(obj||{}){\n"+o+"}\n",t="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(t,"_",o)}catch(e){throw e.source=o,e}function n(e){return i.call(this,e,b)}return n.source="function("+t+"){\n"+o+"}",n},result:function(e,t,i){var n=(t=w(t)).length;if(!n)return d(i)?i.call(e):i;for(var a=0;a<n;a++){var r=null==e?void 0:e[t[a]];void 0===r&&(r=i,a=n),e=d(r)?r.call(e):r}return e},uniqueId:function(e){var t=++Ge+"";return e?e+t:t},chain:function(e){return(e=b(e))._chain=!0,e},iteratee:Re,partial:C,bind:Ke,bindAll:$e,memoize:function(n,a){function r(e){var t=r.cache,i=""+(a?a.apply(this,arguments):e);return m(t,i)||(t[i]=n.apply(this,arguments)),t[i]}return r.cache={},r},delay:Ve,defer:Ye,throttle:function(i,n,a){function r(){l=!1===a.leading?0:D(),s=null,p=i.apply(o,c),s||(o=c=null)}function e(){var e=D(),t=(l||!1!==a.leading||(l=e),n-(e-l));return o=this,c=arguments,t<=0||n<t?(s&&(clearTimeout(s),s=null),l=e,p=i.apply(o,c),s||(o=c=null)):s||!1===a.trailing||(s=setTimeout(r,t)),p}var s,o,c,p,l=0;return a=a||{},e.cancel=function(){clearTimeout(s),l=0,s=o=c=null},e},debounce:function(t,i,n){function a(){var e=D()-s;e<i?r=setTimeout(a,i-e):(r=null,n||(c=t.apply(p,o)),r||(o=p=null))}var r,s,o,c,p,e=l(function(e){return p=this,o=e,s=D(),r||(r=setTimeout(a,i),n&&(c=t.apply(p,o))),c});return e.cancel=function(){clearTimeout(r),r=o=p=null},e},wrap:function(e,t){return C(t,e)},negate:Qe,compose:function(){var i=arguments,n=i.length-1;return function(){for(var e=n,t=i[n].apply(this,arguments);e--;)t=i[e].call(this,t);return t}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:Je,once:Ze,findKey:Xe,findIndex:tt,findLastIndex:it,sortedIndex:nt,indexOf:rt,lastIndexOf:st,find:ot,detect:ot,findWhere:function(e,t){return ot(e,k(t))},each:O,forEach:O,map:I,collect:I,reduce:pt,foldl:pt,inject:pt,reduceRight:lt,foldr:lt,filter:P,select:P,reject:function(e,t,i){return P(e,Qe(S(t)),i)},every:ut,all:ut,some:dt,any:dt,contains:R,includes:R,include:R,invoke:ht,pluck:ft,where:function(e,t){return P(e,k(t))},max:mt,min:function(e,n,t){var i,a,r=1/0,s=1/0;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var o=0,c=(e=T(e)?e:x(e)).length;o<c;o++)null!=(i=e[o])&&i<r&&(r=i);else n=S(n,t),O(e,function(e,t,i){((a=n(e,t,i))<s||a===1/0&&r===1/0)&&(r=e,s=a)});return r},shuffle:function(e){return vt(e,1/0)},sample:vt,sortBy:function(e,n,t){var a=0;return n=S(n,t),ft(I(e,function(e,t,i){return{value:e,index:a++,criteria:n(e,t,i)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(n<i||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")},groupBy:bt,indexBy:xt,countBy:_t,partition:wt,toArray:gt,size:function(e){return null==e?0:(T(e)?e:v(e)).length},pick:Et,omit:St,first:Ct,head:Ct,take:Ct,initial:Dt,last:function(e,t,i){return null==e||e.length<1?null==t||i?void 0:[]:null==t||i?e[e.length-1]:N(e,Math.max(0,e.length-t))},rest:N,tail:N,drop:N,compact:function(e){return P(e,Boolean)},flatten:function(e,t){return A(e,t,!1)},without:At,uniq:Ot,unique:Ot,union:It,intersection:function(e){for(var t=[],i=arguments.length,n=0,a=g(e);n<a;n++){var r=e[n];if(!R(t,r)){for(var s=1;s<i&&R(arguments[s],r);s++);s===i&&t.push(r)}}return t},difference:Tt,unzip:Pt,transpose:Pt,zip:Rt,object:function(e,t){for(var i={},n=0,a=g(e);n<a;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},range:function(e,t,i){null==t&&(t=e||0,e=0),i=i||(t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/i),0),a=Array(n),r=0;r<n;r++,e+=i)a[r]=e;return a},chunk:function(e,t){if(null==t||t<1)return[];for(var i=[],n=0,a=e.length;n<a;)i.push(c.call(e,n,n+=t));return i},mixin:Nt,default:b});return s._=s},"object"==typeof i&&void 0!==t?t.exports=a():"function"==typeof define&&define.amd?define("underscore",a):(n="undefined"!=typeof globalThis?globalThis:n||self,r=n._,(s=n._=a()).noConflict=function(){return n._=r,s})},{}],509:[function(e,t,i){"use strict";var n=e("type/string/ensure"),a=e("./lib/uni-global"),r=Object.prototype.hasOwnProperty;t.exports=function(e){var t;return e=n(e,{name:"key"}),r.call(a,e)?a[e]:(t=Object.create?Object.create(null):{},a[e]=t)}},{"./lib/uni-global":511,"type/string/ensure":506}],510:[function(e,t,i){"use strict";Object.defineProperty&&Object.create?"function"==typeof Symbol&&Symbol.for?t.exports="2015+":t.exports="5":t.exports="3"},{}],511:[function(e,t,i){"use strict";var n=e("./es-env-type");switch(n){case"3":return EvalError.$ug202109?void(t.exports=EvalError.$ug202109):void(t.exports=EvalError.$ug202109={});case"5":return EvalError.$uniGlobal202109?void(t.exports=EvalError.$uniGlobal202109):void Object.defineProperty(EvalError,"$uniGlobal202109",{value:t.exports=Object.create(null)});case"2015+":var a=Symbol.for("$uniGlobal202109");return EvalError[a]?void(t.exports=EvalError[a]):void Object.defineProperty(EvalError,a,{value:t.exports=Object.create(null)});default:throw new Error("Unrecognized environment type: "+n)}},{"./es-env-type":510}],512:[function(e,t,i){"use strict";t.exports=function(e){if(!e)throw new TypeError("argument stream is required");if("function"==typeof e.unpipe)e.unpipe();else if(function(e){for(var t=e.listeners("data"),i=0;i<t.length;i++)if("ondata"===t[i].name)return 1;return}(e))for(var t,i=e.listeners("close"),n=0;n<i.length;n++)"cleanup"!==(t=i[n]).name&&"onclose"!==t.name||t.call(e)}},{}],513:[function(e,t,i){t.exports=e("util").deprecate},{util:void 0}],514:[function(e,t,i){t.exports=function(e,t){if(e&&t)for(var i in t)e[i]=t[i];return e}},{}],515:[function(e,t,i){"use strict";t.exports=function(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var i=e.getHeader("Vary")||"";(i=n(Array.isArray(i)?i.join(", "):String(i),t))&&e.setHeader("Vary",i)},t.exports.append=n;var c=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function n(e,t){if("string"!=typeof e)throw new TypeError("header argument is required");if(!t)throw new TypeError("field argument is required");for(var i=Array.isArray(t)?t:p(String(t)),n=0;n<i.length;n++)if(!c.test(i[n]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var a=e,r=p(e.toLowerCase());if(-1!==i.indexOf("*")||-1!==r.indexOf("*"))return"*";for(var s=0;s<i.length;s++){var o=i[s].toLowerCase();-1===r.indexOf(o)&&(r.push(o),a=a?a+", "+i[s]:i[s])}return a}function p(e){for(var t=0,i=[],n=0,a=0,r=e.length;a<r;a++)switch(e.charCodeAt(a)){case 32:n===t&&(n=t=a+1);break;case 44:i.push(e.substring(n,t)),n=t=a+1;break;default:t=a+1}return i.push(e.substring(n,t)),i}},{}],516:[function(e,t,i){"use strict";var s=e("string-width");function o(e){for(var t="",i=" ",n=e;n%2&&(t+=i),i+=i,n=Math.floor(n/2););return t}i.center=function(e,t){var i=e.trim();if(0===i.length&&e.length>=t)return e;var e="",n="",a=s(i);{var r;a<t&&(r=parseInt((t-a)/2,10),e=o(r),n=o(t-(a+r)))}return e+i+n},i.left=function(e,t){var i=e.trimRight();if(0===i.length&&e.length>=t)return e;var e="",n=s(i);n<t&&(e=o(t-n));return i+e},i.right=function(e,t){var i=e.trimLeft();if(0===i.length&&e.length>=t)return e;var e="",n=s(i);n<t&&(e=o(t-n));return e+i}},{"string-width":494}],517:[function(e,t,i){t.exports=function e(a,t){if(a&&t)return e(a)(t);if("function"!=typeof a)throw new TypeError("need wrapper function");Object.keys(a).forEach(function(e){i[e]=a[e]});return i;function i(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var i=a.apply(this,e),n=e[e.length-1];return"function"==typeof i&&i!==n&&Object.keys(n).forEach(function(e){i[e]=n[e]}),i}}},{}],518:[function(e,t,i){"use strict";var n=e("./lib/websocket");n.createWebSocketStream=e("./lib/stream"),n.Server=e("./lib/websocket-server"),n.Receiver=e("./lib/receiver"),n.Sender=e("./lib/sender"),(n.WebSocket=n).WebSocketServer=n.Server,t.exports=n},{"./lib/receiver":525,"./lib/sender":526,"./lib/stream":527,"./lib/websocket":531,"./lib/websocket-server":530}],519:[function(e,t,i){"use strict";const r=e("./constants")["EMPTY_BUFFER"];function s(t,i,n,a,r){for(let e=0;e<r;e++)n[a+e]=t[e]^i[3&e]}function n(t,i){for(let e=0;e<t.length;e++)t[e]^=i[3&e]}function a(e){if(a.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),a.readOnly=!1),t}if(t.exports={concat:function(t,e){if(0===t.length)return r;if(1===t.length)return t[0];var i=Buffer.allocUnsafe(e);let n=0;for(let e=0;e<t.length;e++){var a=t[e];i.set(a,n),n+=a.length}return n<e?i.slice(0,n):i},mask:s,toArrayBuffer:function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)},toBuffer:a,unmask:n},!process.env.WS_NO_BUFFER_UTIL)try{const o=e("bufferutil");t.exports.mask=function(e,t,i,n,a){a<48?s(e,t,i,n,a):o.mask(e,t,i,n,a)},t.exports.unmask=function(e,t){e.length<32?n(e,t):o.unmask(e,t)}}catch(e){}},{"./constants":520,bufferutil:void 0}],520:[function(e,t,i){"use strict";t.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},{}],521:[function(e,t,i){"use strict";const{kForOnEventAttribute:r,kListener:s}=e("./constants"),n=Symbol("kCode"),a=Symbol("kData"),o=Symbol("kError"),c=Symbol("kMessage"),p=Symbol("kReason"),l=Symbol("kTarget"),u=Symbol("kType"),d=Symbol("kWasClean");class h{constructor(e){this[l]=null,this[u]=e}get target(){return this[l]}get type(){return this[u]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[n]=void 0===t.code?0:t.code,this[p]=void 0===t.reason?"":t.reason,this[d]=void 0!==t.wasClean&&t.wasClean}get code(){return this[n]}get reason(){return this[p]}get wasClean(){return this[d]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[o]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[o]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class y extends h{constructor(e,t={}){super(e),this[a]=void 0===t.data?null:t.data}get data(){return this[a]}}function g(e,t,i){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,i):e.call(t,i)}Object.defineProperty(y.prototype,"data",{enumerable:!0}),t.exports={CloseEvent:f,ErrorEvent:m,Event:h,EventTarget:{addEventListener(e,i,t={}){for(const a of this.listeners(e))if(!t[r]&&a[s]===i&&!a[r])return;let n;if("message"===e)n=function(e,t){t=new y("message",{data:t?e:e.toString()});t[l]=this,g(i,this,t)};else if("close"===e)n=function(e,t){e=new f("close",{code:e,reason:t.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});e[l]=this,g(i,this,e)};else if("error"===e)n=function(e){e=new m("error",{error:e,message:e.message});e[l]=this,g(i,this,e)};else{if("open"!==e)return;n=function(){var e=new h("open");e[l]=this,g(i,this,e)}}n[r]=!!t[r],n[s]=i,t.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(const i of this.listeners(e))if(i[s]===t&&!i[r]){this.removeListener(e,i);break}}},MessageEvent:y}},{"./constants":520}],522:[function(e,t,i){"use strict";const f=e("./validation")["tokenChars"];function m(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}t.exports={format:function(i){return Object.keys(i).map(e=>{let t=i[e];return(t=Array.isArray(t)?t:[t]).map(i=>[e].concat(Object.keys(i).map(t=>{let e=i[t];return(e=Array.isArray(e)?e:[e]).map(e=>!0===e?t:t+"="+e).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(t){var i=Object.create(null);let n=Object.create(null),a=!1,e=!1,r=!1,s,o,c=-1,p=-1,l=-1,u=0;for(;u<t.length;u++)if(p=t.charCodeAt(u),void 0===s)if(-1===l&&1===f[p])-1===c&&(c=u);else if(0===u||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+u);if(-1===c)throw new SyntaxError("Unexpected character at index "+u);-1===l&&(l=u);var d=t.slice(c,l);44===p?(m(i,d,n),n=Object.create(null)):s=d,c=l=-1}else-1===l&&-1!==c&&(l=u);else if(void 0===o)if(-1===l&&1===f[p])-1===c&&(c=u);else if(32===p||9===p)-1===l&&-1!==c&&(l=u);else{if(59===p||44===p){if(-1===c)throw new SyntaxError("Unexpected character at index "+u);-1===l&&(l=u),m(n,t.slice(c,l),!0),44===p&&(m(i,s,n),n=Object.create(null),s=void 0)}else{if(61!==p||-1===c||-1!==l)throw new SyntaxError("Unexpected character at index "+u);o=t.slice(c,u)}c=l=-1}else if(e){if(1!==f[p])throw new SyntaxError("Unexpected character at index "+u);-1===c?c=u:a=a||!0,e=!1}else if(r)if(1===f[p])-1===c&&(c=u);else if(34===p&&-1!==c)r=!1,l=u;else{if(92!==p)throw new SyntaxError("Unexpected character at index "+u);e=!0}else if(34===p&&61===t.charCodeAt(u-1))r=!0;else if(-1===l&&1===f[p])-1===c&&(c=u);else if(-1===c||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+u);{if(-1===c)throw new SyntaxError("Unexpected character at index "+u);-1===l&&(l=u);let e=t.slice(c,l);a&&(e=e.replace(/\\/g,""),a=!1),m(n,o,e),44===p&&(m(i,s,n),n=Object.create(null),s=void 0),o=void 0,c=l=-1}}else-1===l&&(l=u);if(-1===c||r||32===p||9===p)throw new SyntaxError("Unexpected end of input");-1===l&&(l=u);var h=t.slice(c,l);return void 0===s?m(i,h,n):(void 0===o?m(n,h,!0):a?m(n,o,h.replace(/\\/g,"")):m(n,o,h),m(i,s,n)),i}}},{"./validation":529}],523:[function(e,t,i){"use strict";const n=Symbol("kDone"),a=Symbol("kRun");class r{constructor(e){this[n]=()=>{this.pending--,this[a]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[a]()}[a](){var e;this.pending!==this.concurrency&&this.jobs.length&&(e=this.jobs.shift(),this.pending++,e(this[n]))}}t.exports=r},{}],524:[function(e,t,i){"use strict";const r=e("zlib"),s=e("./buffer-util"),n=e("./limiter"),a=e("./constants")["kStatusCode"],o=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),p=Symbol("total-length"),l=Symbol("callback"),u=Symbol("buffers"),d=Symbol("error");let h;function f(e){this[u].push(e),this[p]+=e.length}function m(e){this[p]+=e.length,this[c]._maxPayload<1||this[p]<=this[c]._maxPayload?this[u].push(e):(this[d]=new RangeError("Max payload size exceeded"),this[d].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[d][a]=1009,this.removeListener("data",m),this.reset())}function y(e){this[c]._inflate=null,e[a]=1007,this[l](e)}t.exports=class{constructor(e,t,i){this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,h||(i=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10,h=new n(i))}static get extensionName(){return"permessage-deflate"}offer(){var e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){var e;this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate&&(e=this._deflate[l],this._deflate.close(),this._deflate=null,e)&&e(new Error("The deflate stream was closed while data was being processed"))}acceptAsServer(e){const t=this._options;e=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(e)return t.serverNoContextTakeover&&(e.server_no_context_takeover=!0),t.clientNoContextTakeover&&(e.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(e.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?e.client_max_window_bits=t.clientMaxWindowBits:!0!==e.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete e.client_max_window_bits,e;throw new Error("None of the extension offers can be accepted")}acceptAsClient(e){e=e[0];if(!1===this._options.clientNoContextTakeover&&e.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(e.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&e.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(e.client_max_window_bits=this._options.clientMaxWindowBits);return e}normalizeParams(e){return e.forEach(n=>{Object.keys(n).forEach(e=>{let t=n[e];if(1<t.length)throw new Error(`Parameter "${e}" must have only a single value`);if(t=t[0],"client_max_window_bits"===e){if(!0!==t){var i=+t;if(!Number.isInteger(i)||i<8||15<i)throw new TypeError(`Invalid value for parameter "${e}": `+t);t=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${e}": `+t)}else if("server_max_window_bits"===e){i=+t;if(!Number.isInteger(i)||i<8||15<i)throw new TypeError(`Invalid value for parameter "${e}": `+t);t=i}else{if("client_no_context_takeover"!==e&&"server_no_context_takeover"!==e)throw new Error(`Unknown parameter "${e}"`);if(!0!==t)throw new TypeError(`Invalid value for parameter "${e}": `+t)}n[e]=t})}),e}decompress(e,t,n){h.add(i=>{this._decompress(e,t,(e,t)=>{i(),n(e,t)})})}compress(e,t,n){h.add(i=>{this._compress(e,t,(e,t)=>{i(),n(e,t)})})}_decompress(e,t,i){const n=this._isServer?"client":"server";var a;this._inflate||(a=n+"_max_window_bits",a="number"!=typeof this.params[a]?r.Z_DEFAULT_WINDOWBITS:this.params[a],this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),(this._inflate[c]=this)._inflate[p]=0,this._inflate[u]=[],this._inflate.on("error",y),this._inflate.on("data",m)),this._inflate[l]=i,this._inflate.write(e),t&&this._inflate.write(o),this._inflate.flush(()=>{var e=this._inflate[d];e?(this._inflate.close(),this._inflate=null,i(e)):(e=s.concat(this._inflate[u],this._inflate[p]),this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[p]=0,this._inflate[u]=[],t&&this.params[n+"_no_context_takeover"]&&this._inflate.reset()),i(null,e))})}_compress(e,t,i){const n=this._isServer?"server":"client";var a;this._deflate||(a=n+"_max_window_bits",a="number"!=typeof this.params[a]?r.Z_DEFAULT_WINDOWBITS:this.params[a],this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[p]=0,this._deflate[u]=[],this._deflate.on("data",f)),this._deflate[l]=i,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,()=>{if(this._deflate){let e=s.concat(this._deflate[u],this._deflate[p]);t&&(e=e.slice(0,e.length-4)),this._deflate[l]=null,this._deflate[p]=0,this._deflate[u]=[],t&&this.params[n+"_no_context_takeover"]&&this._deflate.reset(),i(null,e)}})}}},{"./buffer-util":519,"./constants":520,"./limiter":523,zlib:void 0}],525:[function(e,t,i){"use strict";var n=e("stream")["Writable"];const a=e("./permessage-deflate"),{BINARY_TYPES:r,EMPTY_BUFFER:s,kStatusCode:o,kWebSocket:c}=e("./constants"),{concat:p,toArrayBuffer:l,unmask:u}=e("./buffer-util"),{isValidStatusCode:d,isValidUTF8:h}=e("./validation");class f extends n{constructor(e={}){super(),this._binaryType=e.binaryType||r[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();var t;if(e<this._buffers[0].length)return t=this._buffers[0],this._buffers[0]=t.slice(e),t.slice(0,e);var i=Buffer.allocUnsafe(e);do{var n=this._buffers[0],a=i.length-e;e>=n.length?i.set(this._buffers.shift(),a):(i.set(new Uint8Array(n.buffer,n.byteOffset,e),a),this._buffers[0]=n.slice(e)),e-=n.length}while(0<e);return i}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)this._loop=!1;else{var e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,m(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");var t=64==(64&e[0]);if(t&&!this._extensions[a.extensionName])return this._loop=!1,m(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,m(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,m(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,m(RangeError,"invalid opcode "+this._opcode,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(7<this._opcode&&this._opcode<11))return this._loop=!1,m(RangeError,"invalid opcode "+this._opcode,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,m(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,m(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(125<this._payloadLength)return this._loop=!1,m(RangeError,"invalid payload length "+this._payloadLength,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,m(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,m(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){var e,t;if(!(this._bufferedBytes<8))return(t=(e=this.consume(8)).readUInt32BE(0))>Math.pow(2,21)-1?(this._loop=!1,m(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength());this._loop=!1}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload)&&0<this._maxPayload)return this._loop=!1,m(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&0!=(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&u(t,this._mask)}return 7<this._opcode?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,i){this._extensions[a.extensionName].decompress(e,this._fin,(e,t)=>{if(e)return i(e);if(t.length){if(this._messageLength+=t.length,this._messageLength>this._maxPayload&&0<this._maxPayload)return i(m(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(t)}e=this.dataMessage();if(e)return i(e);this.startLoop(i)})}dataMessage(){if(this._fin){var t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let e;e="nodebuffer"===this._binaryType?p(i,t):"arraybuffer"===this._binaryType?l(p(i,t)):i,this.emit("message",e,!0)}else{i=p(i,t);if(!this._skipUTF8Validation&&!h(i))return this._loop=!1,m(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",i,!1)}}this._state=0}controlMessage(e){if(8===this._opcode){if(this._loop=!1,0===e.length)this.emit("conclude",1005,s);else{if(1===e.length)return m(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");var t=e.readUInt16BE(0);if(!d(t))return m(RangeError,"invalid status code "+t,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");var i=e.slice(2);if(!this._skipUTF8Validation&&!h(i))return m(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,i)}this.end()}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}function m(e,t,i,n,a){e=new e(i?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(e,m),e.code=a,e[o]=n,e}t.exports=f},{"./buffer-util":519,"./constants":520,"./permessage-deflate":524,"./validation":529,stream:void 0}],526:[function(e,t,i){"use strict";e("net"),e("tls");const p=e("crypto")["randomFillSync"],c=e("./permessage-deflate"),s=e("./constants")["EMPTY_BUFFER"],o=e("./validation")["isValidStatusCode"],{mask:l,toBuffer:u}=e("./buffer-util"),d=Symbol("kByteLength"),h=Buffer.alloc(4);class f{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let i,n=!1,a=2,r=!1;t.mask&&(i=t.maskBuffer||h,t.generateMask?t.generateMask(i):p(i,0,4),r=0==(i[0]|i[1]|i[2]|i[3]),a=6);let s,o=("string"==typeof e?s=t.mask&&!r||void 0===t[d]?(e=Buffer.from(e)).length:t[d]:(s=e.length,n=t.mask&&t.readOnly&&!r),s);65536<=s?(a+=8,o=127):125<s&&(a+=2,o=126);var c=Buffer.allocUnsafe(n?s+a:a);if(c[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(c[0]|=64),126===(c[1]=o)?c.writeUInt16BE(s,2):127===o&&(c[2]=c[3]=0,c.writeUIntBE(s,4,6)),t.mask&&(c[1]|=128,c[a-4]=i[0],c[a-3]=i[1],c[a-2]=i[2],c[a-1]=i[3],!r)){if(n)return l(e,i,c,a,s),[c];l(e,i,e,0,s)}return[c,e]}close(e,t,i,n){let a;if(void 0===e)a=s;else{if("number"!=typeof e||!o(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){var r=Buffer.byteLength(t);if(123<r)throw new RangeError("The message must not be greater than 123 bytes");(a=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?a.write(t,2):a.set(t,2)}else(a=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}r={[d]:a.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,a,!1,r,n]):this.sendFrame(f.frame(a,r),n)}ping(e,t,i){let n,a;if(a="string"==typeof e?(n=Buffer.byteLength(e),!1):(e=u(e),n=e.length,u.readOnly),125<n)throw new RangeError("The data size must not be greater than 125 bytes");t={[d]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:a,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,t,i]):this.sendFrame(f.frame(e,t),i)}pong(e,t,i){let n,a;if(a="string"==typeof e?(n=Buffer.byteLength(e),!1):(e=u(e),n=e.length,u.readOnly),125<n)throw new RangeError("The data size must not be greater than 125 bytes");t={[d]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:a,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,t,i]):this.sendFrame(f.frame(e,t),i)}send(e,t,i){var n=this._extensions[c.extensionName];let a=t.binary?2:1,r=t.compress,s,o;o="string"==typeof e?(s=Buffer.byteLength(e),!1):(e=u(e),s=e.length,u.readOnly),this._firstFragment?(this._firstFragment=!1,r&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(r=s>=n._threshold),this._compress=r):(r=!1,a=0),t.fin&&(this._firstFragment=!0),n?(n={[d]:s,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:o,rsv1:r},this._deflating?this.enqueue([this.dispatch,e,this._compress,n,i]):this.dispatch(e,this._compress,n,i)):this.sendFrame(f.frame(e,{[d]:s,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:o,rsv1:!1}),i)}dispatch(e,t,a,r){t?(t=this._extensions[c.extensionName],this._bufferedBytes+=a[d],this._deflating=!0,t.compress(e,a.fin,(e,t)=>{if(this._socket.destroyed){var i=new Error("The socket was closed while data was being compressed");"function"==typeof r&&r(i);for(let e=0;e<this._queue.length;e++){var n=this._queue[e],n=n[n.length-1];"function"==typeof n&&n(i)}}else this._bufferedBytes-=a[d],this._deflating=!1,a.readOnly=!1,this.sendFrame(f.frame(t,a),r),this.dequeue()})):this.sendFrame(f.frame(e,a),r)}dequeue(){for(;!this._deflating&&this._queue.length;){var e=this._queue.shift();this._bufferedBytes-=e[3][d],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][d],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}t.exports=f},{"./buffer-util":519,"./constants":520,"./permessage-deflate":524,"./validation":529,crypto:void 0,net:void 0,tls:void 0}],527:[function(e,t,i){"use strict";const s=e("stream")["Duplex"];function o(e){e.emit("close")}function c(){!this.destroyed&&this._writableState.finished&&this.destroy()}function p(e){this.removeListener("error",p),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}t.exports=function(n,e){let a=!0;const r=new s({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return n.on("message",function(e,t){t=!t&&r._readableState.objectMode?e.toString():e;r.push(t)||n.pause()}),n.once("error",function(e){r.destroyed||(a=!1,r.destroy(e))}),n.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(e,i){if(n.readyState===n.CLOSED)i(e),process.nextTick(o,r);else{let t=!1;n.once("error",function(e){t=!0,i(e)}),n.once("close",function(){t||i(e),process.nextTick(o,r)}),a&&n.terminate()}},r._final=function(e){n.readyState===n.CONNECTING?n.once("open",function(){r._final(e)}):null!==n._socket&&(n._socket._writableState.finished?(e(),r._readableState.endEmitted&&r.destroy()):(n._socket.once("finish",function(){e()}),n.close()))},r._read=function(){n.isPaused&&n.resume()},r._write=function(e,t,i){n.readyState===n.CONNECTING?n.once("open",function(){r._write(e,t,i)}):n.send(e,i)},r.on("end",c),r.on("error",p),r}},{stream:void 0}],528:[function(e,t,i){"use strict";const o=e("./validation")["tokenChars"];t.exports={parse:function(e){var t=new Set;let i=-1,n=-1,a=0;for(a;a<e.length;a++){var r=e.charCodeAt(a);if(-1===n&&1===o[r])-1===i&&(i=a);else if(0===a||32!==r&&9!==r){if(44!==r)throw new SyntaxError("Unexpected character at index "+a);{if(-1===i)throw new SyntaxError("Unexpected character at index "+a);-1===n&&(n=a);const s=e.slice(i,n);if(t.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);t.add(s),i=n=-1}}else-1===n&&-1!==i&&(n=a)}if(-1===i||-1!==n)throw new SyntaxError("Unexpected end of input");const s=e.slice(i,a);if(t.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},{"./validation":529}],529:[function(e,t,i){"use strict";function n(e){var t=e.length;let i=0;for(;i<t;)if(0==(128&e[i]))i++;else if(192==(224&e[i])){if(i+1===t||128!=(192&e[i+1])||192==(254&e[i]))return!1;i+=2}else if(224==(240&e[i])){if(i+2>=t||128!=(192&e[i+1])||128!=(192&e[i+2])||224===e[i]&&128==(224&e[i+1])||237===e[i]&&160==(224&e[i+1]))return!1;i+=3}else{if(240!=(248&e[i]))return!1;if(i+3>=t||128!=(192&e[i+1])||128!=(192&e[i+2])||128!=(192&e[i+3])||240===e[i]&&128==(240&e[i+1])||244===e[i]&&143<e[i+1]||244<e[i])return!1;i+=4}return!0}if(t.exports={isValidStatusCode:function(e){return 1e3<=e&&e<=1014&&1004!==e&&1005!==e&&1006!==e||3e3<=e&&e<=4999},isValidUTF8:n,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},!process.env.WS_NO_UTF_8_VALIDATE)try{const a=e("utf-8-validate");t.exports.isValidUTF8=function(e){return(e.length<150?n:a)(e)}}catch(e){}},{"utf-8-validate":void 0}],530:[function(e,t,i){"use strict";var n=e("events");const a=e("http");e("https"),e("net"),e("tls");const c=e("crypto")["createHash"],u=e("./extension"),d=e("./permessage-deflate"),h=e("./subprotocol"),r=e("./websocket"),{GUID:p,kWebSocket:l}=e("./constants"),f=/^[+/0-9A-Za-z]{22}==$/;class s extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:r,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=a.createServer((e,t)=>{var i=a.STATUS_CODES[426];t.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),t.end(i)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const n=this.emit.bind(this,"connection");this._removeListeners=function(t,i){for(const e of Object.keys(i))t.on(e,i[e]);return function(){for(const e of Object.keys(i))t.removeListener(e,i[e])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,i)=>{this.handleUpgrade(e,t,i,n)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){var t;2===this._state?(e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(m,this)):(e&&this.once("close",e),1!==this._state&&(this._state=1,this.options.noServer||this.options.server?(this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(m,this)):(t=this._server,this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{m(this)}))))}shouldHandle(e){if(this.options.path){var t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(r,s,o,c){s.on("error",y);const p=r.headers["sec-websocket-key"];var e=+r.headers["sec-websocket-version"];if("GET"!==r.method)v(this,r,s,405,"Invalid HTTP method");else if("websocket"!==r.headers.upgrade.toLowerCase())v(this,r,s,400,"Invalid Upgrade header");else if(p&&f.test(p))if(8!=e&&13!=e)v(this,r,s,400,"Missing or invalid Sec-WebSocket-Version header");else if(this.shouldHandle(r)){var t=r.headers["sec-websocket-protocol"];let a=new Set;if(void 0!==t)try{a=h.parse(t)}catch(e){return void v(this,r,s,400,"Invalid Sec-WebSocket-Protocol header")}t=r.headers["sec-websocket-extensions"];const l={};if(this.options.perMessageDeflate&&void 0!==t){var i=new d(this.options.perMessageDeflate,!0,this.options.maxPayload);try{var n=u.parse(t);n[d.extensionName]&&(i.accept(n[d.extensionName]),l[d.extensionName]=i)}catch(e){return void v(this,r,s,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){t={origin:r.headers[8==e?"sec-websocket-origin":"origin"],secure:!(!r.socket.authorized&&!r.socket.encrypted),req:r};if(2===this.options.verifyClient.length)return void this.options.verifyClient(t,(e,t,i,n)=>{if(!e)return g(s,t||401,i,n);this.completeUpgrade(l,p,a,r,s,o,c)});if(!this.options.verifyClient(t))return g(s,401)}this.completeUpgrade(l,p,a,r,s,o,c)}else g(s,400);else v(this,r,s,400,"Missing or invalid Sec-WebSocket-Key header")}completeUpgrade(e,t,i,n,a,r,s){if(!a.readable||!a.writable)return a.destroy();if(a[l])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(0<this._state)return g(a,503);t=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+c("sha1").update(t+p).digest("base64")];const o=new this.options.WebSocket(null);i.size&&(i=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value)&&(t.push("Sec-WebSocket-Protocol: "+i),o._protocol=i),e[d.extensionName]&&(i=e[d.extensionName].params,i=u.format({[d.extensionName]:[i]}),t.push("Sec-WebSocket-Extensions: "+i),o._extensions=e),this.emit("headers",t,n),a.write(t.concat("\r\n").join("\r\n")),a.removeListener("error",y),o.setSocket(a,r,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(o),o.on("close",()=>{this.clients.delete(o),this._shouldEmitClose&&!this.clients.size&&process.nextTick(m,this)})),s(o,n)}}function m(e){e._state=2,e.emit("close")}function y(){this.destroy()}function g(e,t,i,n){i=i||a.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${a.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>e+": "+n[e]).join("\r\n")+"\r\n\r\n"+i)}function v(e,t,i,n,a){var r;e.listenerCount("wsClientError")?(r=new Error(a),Error.captureStackTrace(r,v),e.emit("wsClientError",r,i,t)):g(i,n,a)}t.exports=s},{"./constants":520,"./extension":522,"./permessage-deflate":524,"./subprotocol":528,"./websocket":531,crypto:void 0,events:void 0,http:void 0,https:void 0,net:void 0,tls:void 0}],531:[function(e,t,M){"use strict";var i=e("events");const w=e("https"),k=e("http"),n=e("net"),a=e("tls"),{randomBytes:E,createHash:S}=e("crypto");var{}=e("stream");const D=e("url")["URL"],C=e("./permessage-deflate"),r=e("./receiver"),s=e("./sender"),{BINARY_TYPES:o,EMPTY_BUFFER:c,GUID:T,kForOnEventAttribute:p,kListener:l,kStatusCode:u,kWebSocket:d,NOOP:h}=e("./constants");var{addEventListener:f,removeEventListener:m}=e("./event-target")["EventTarget"];const{format:L,parse:B}=e("./extension"),F=e("./buffer-util")["toBuffer"],A=Symbol("kAborted"),O=[8,13],y=["CONNECTING","OPEN","CLOSING","CLOSED"],q=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class I extends i{constructor(e,t,i){super(),this._binaryType=o[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=c,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=I.CONNECTING,this._receiver=null,this._sender=null,(this._socket=null)!==e?(this._bufferedAmount=0,this._isServer=!1,void(this._redirects=0)===t?t=[]:Array.isArray(t)||(t="object"==typeof t&&null!==t?(i=t,[]):[t]),function a(u,r,s,o){const d={protocolVersion:O[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!O.includes(d.protocolVersion))throw new RangeError(`Unsupported protocol version: ${d.protocolVersion} `+`(supported versions: ${O.join(", ")})`);let e;if(r instanceof D)e=r,u._url=r.href;else{try{e=new D(r)}catch(e){throw new SyntaxError("Invalid URL: "+r)}u._url=r}const t="wss:"===e.protocol;const i="ws+unix:"===e.protocol;let n;"ws:"===e.protocol||t||i?i&&!e.pathname?n="The URL's pathname is empty":e.hash&&(n="The URL contains a fragment identifier"):n='The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"';if(n){const l=new SyntaxError(n);if(0===u._redirects)throw l;return void P(u,l)}const c=t?443:80;const h=E(16).toString("base64");const p=(t?w:k).request;const f=new Set;let m;d.createConnection=t?H:U;d.defaultPort=d.defaultPort||c;d.port=e.port||c;d.host=e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname;d.headers={...d.headers,"Sec-WebSocket-Version":d.protocolVersion,"Sec-WebSocket-Key":h,Connection:"Upgrade",Upgrade:"websocket"};d.path=e.pathname+e.search;d.timeout=d.handshakeTimeout;d.perMessageDeflate&&(m=new C(!0!==d.perMessageDeflate?d.perMessageDeflate:{},!1,d.maxPayload),d.headers["Sec-WebSocket-Extensions"]=L({[C.extensionName]:m.offer()}));if(s.length){for(const g of s){if("string"!=typeof g||!q.test(g)||f.has(g))throw new SyntaxError("An invalid or duplicated subprotocol was specified");f.add(g)}d.headers["Sec-WebSocket-Protocol"]=s.join(",")}d.origin&&(d.protocolVersion<13?d.headers["Sec-WebSocket-Origin"]=d.origin:d.headers.Origin=d.origin);(e.username||e.password)&&(d.auth=e.username+":"+e.password);if(i){const v=d.path.split(":");d.socketPath=v[0],d.path=v[1]}let y;if(d.followRedirects){if(0===u._redirects){u._originalIpc=i,u._originalSecure=t,u._originalHostOrSocketPath=i?d.socketPath:e.host;const b=o&&o.headers;if(o={...o,headers:{}},b)for(const[h,x]of Object.entries(b))o.headers[h.toLowerCase()]=x}else if(0===u.listenerCount("redirect")){const _=i?!!u._originalIpc&&d.socketPath===u._originalHostOrSocketPath:!u._originalIpc&&e.host===u._originalHostOrSocketPath;_&&(!u._originalSecure||t)||(delete d.headers.authorization,delete d.headers.cookie,_||delete d.headers.host,d.auth=void 0)}d.auth&&!o.headers.authorization&&(o.headers.authorization="Basic "+Buffer.from(d.auth).toString("base64")),y=u._req=p(d),u._redirects&&u.emit("redirect",u.url,y)}else y=u._req=p(d);d.timeout&&y.on("timeout",()=>{R(u,y,"Opening handshake has timed out")});y.on("error",e=>{null===y||y[A]||(y=u._req=null,P(u,e))});y.on("response",e=>{const t=e.headers.location,i=e.statusCode;if(t&&d.followRedirects&&300<=i&&i<400)if(++u._redirects>d.maxRedirects)R(u,y,"Maximum redirects exceeded");else{y.abort();let e;try{e=new D(t,r)}catch(e){const n=new SyntaxError("Invalid URL: "+t);return void P(u,n)}a(u,e,s,o)}else u.emit("unexpected-response",y,e)||R(u,y,"Unexpected server response: "+e.statusCode)});y.on("upgrade",(t,i,n)=>{if(u.emit("upgrade",t),u.readyState===I.CONNECTING)if(y=u._req=null,"websocket"!==t.headers.upgrade.toLowerCase())R(u,i,"Invalid Upgrade header");else{const e=S("sha1").update(h+T).digest("base64");if(t.headers["sec-websocket-accept"]!==e)R(u,i,"Invalid Sec-WebSocket-Accept header");else{const a=t.headers["sec-websocket-protocol"];let e;if(void 0!==a?f.size?f.has(a)||(e="Server sent an invalid subprotocol"):e="Server sent a subprotocol but none was requested":f.size&&(e="Server sent no subprotocol"),e)R(u,i,e);else{a&&(u._protocol=a);const r=t.headers["sec-websocket-extensions"];if(void 0!==r){if(!m){const o="Server sent a Sec-WebSocket-Extensions header but no extension was requested";return void R(u,i,o)}let e;try{e=B(r)}catch(e){const c="Invalid Sec-WebSocket-Extensions header";return void R(u,i,c)}const s=Object.keys(e);if(1!==s.length||s[0]!==C.extensionName){const p="Server indicated an extension that was not requested";return void R(u,i,p)}try{m.accept(e[C.extensionName])}catch(e){const l="Invalid Sec-WebSocket-Extensions header";return void R(u,i,l)}u._extensions[C.extensionName]=m}u.setSocket(i,n,{generateMask:d.generateMask,maxPayload:d.maxPayload,skipUTF8Validation:d.skipUTF8Validation})}}}});y.end()}(this,e,t,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){o.includes(e)&&(this._binaryType=e,this._receiver)&&(this._receiver._binaryType=e)}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){var n=new r({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new s(e,this._extensions,i.generateMask),this._receiver=n,this._socket=e,n[d]=this,e[d]=this,n.on("conclude",z),n.on("drain",G),n.on("error",W),n.on("message",K),n.on("ping",$),n.on("pong",V),e.setTimeout(0),e.setNoDelay(),0<t.length&&e.unshift(t),e.on("close",x),e.on("data",_),e.on("end",j),e.on("error",N),this._readyState=I.OPEN,this.emit("open")}emitClose(){this._socket&&(this._extensions[C.extensionName]&&this._extensions[C.extensionName].cleanup(),this._receiver.removeAllListeners()),this._readyState=I.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==I.CLOSED)return this.readyState===I.CONNECTING?R(this,this._req,"WebSocket was closed before the connection was established"):void(this.readyState===I.CLOSING?this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end():(this._readyState=I.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end()}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)))}pause(){this.readyState!==I.CONNECTING&&this.readyState!==I.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==I.OPEN?g(this,e,i):(void 0===t&&(t=!this._isServer),this._sender.ping(e||c,t,i))}pong(e,t,i){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==I.OPEN?g(this,e,i):(void 0===t&&(t=!this._isServer),this._sender.pong(e||c,t,i))}resume(){this.readyState===I.CONNECTING||this.readyState===I.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain)||this._socket.resume()}send(e,t,i){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==I.OPEN?g(this,e,i):(t={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t},this._extensions[C.extensionName]||(t.compress=!1),this._sender.send(e||c,t,i))}terminate(){if(this.readyState!==I.CLOSED)return this.readyState===I.CONNECTING?R(this,this._req,"WebSocket was closed before the connection was established"):void(this._socket&&(this._readyState=I.CLOSING,this._socket.destroy()))}}function P(e,t){e._readyState=I.CLOSING,e.emit("error",t),e.emitClose()}function U(e){return e.path=e.socketPath,n.connect(e)}function H(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=n.isIP(e.host)?"":e.host),a.connect(e)}function R(e,t,i){e._readyState=I.CLOSING;i=new Error(i);Error.captureStackTrace(i,R),t.setHeader?(t[A]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(P,e,i)):(t.destroy(i),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function g(e,t,i){t&&(t=F(t).length,e._socket?e._sender._bufferedBytes+=t:e._bufferedAmount+=t),i&&i(new Error(`WebSocket is not open: readyState ${e.readyState} `+`(${y[e.readyState]})`))}function z(e,t){var i=this[d];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[d]&&(i._socket.removeListener("data",_),process.nextTick(b,i._socket),1005===e?i.close():i.close(e,t))}function G(){var e=this[d];e.isPaused||e._socket.resume()}function W(e){var t=this[d];void 0!==t._socket[d]&&(t._socket.removeListener("data",_),process.nextTick(b,t._socket),t.close(e[u])),t.emit("error",e)}function v(){this[d].emitClose()}function K(e,t){this[d].emit("message",e,t)}function $(e){var t=this[d];t.pong(e,!t._isServer,h),t.emit("ping",e)}function V(e){this[d].emit("pong",e)}function b(e){e.resume()}function x(){var e=this[d];this.removeListener("close",x),this.removeListener("data",_),this.removeListener("end",j),e._readyState=I.CLOSING;let t;this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[d]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",v),e._receiver.on("finish",v))}function _(e){this[d]._receiver.write(e)||this.pause()}function j(){var e=this[d];e._readyState=I.CLOSING,e._receiver.end(),this.end()}function N(){var e=this[d];this.removeListener("error",N),this.on("error",h),e&&(e._readyState=I.CLOSING,this.destroy())}Object.defineProperty(I,"CONNECTING",{enumerable:!0,value:y.indexOf("CONNECTING")}),Object.defineProperty(I.prototype,"CONNECTING",{enumerable:!0,value:y.indexOf("CONNECTING")}),Object.defineProperty(I,"OPEN",{enumerable:!0,value:y.indexOf("OPEN")}),Object.defineProperty(I.prototype,"OPEN",{enumerable:!0,value:y.indexOf("OPEN")}),Object.defineProperty(I,"CLOSING",{enumerable:!0,value:y.indexOf("CLOSING")}),Object.defineProperty(I.prototype,"CLOSING",{enumerable:!0,value:y.indexOf("CLOSING")}),Object.defineProperty(I,"CLOSED",{enumerable:!0,value:y.indexOf("CLOSED")}),Object.defineProperty(I.prototype,"CLOSED",{enumerable:!0,value:y.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(I.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(i=>{Object.defineProperty(I.prototype,"on"+i,{enumerable:!0,get(){for(const e of this.listeners(i))if(e[p])return e[l];return null},set(e){for(const t of this.listeners(i))if(t[p]){this.removeListener(i,t);break}"function"==typeof e&&this.addEventListener(i,e,{[p]:!0})}})}),I.prototype.addEventListener=f,I.prototype.removeEventListener=m,t.exports=I},{"./buffer-util":519,"./constants":520,"./event-target":521,"./extension":522,"./permessage-deflate":524,"./receiver":525,"./sender":526,crypto:void 0,events:void 0,http:void 0,https:void 0,net:void 0,stream:void 0,tls:void 0,url:void 0}],532:[function(e,t,i){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},{}],533:[function(e,t,i){"use strict";function r(e){var t=this;if((t=t instanceof r?t:new r).tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(0<arguments.length)for(var i=0,n=arguments.length;i<n;i++)t.push(arguments[i]);return t}function s(e,t,i,n){if(!(this instanceof s))return new s(e,t,i,n);this.list=n,this.value=e,t?(t.next=this).prev=t:this.prev=null,i?(i.prev=this).next=i:this.next=null}(t.exports=r).Node=s,(r.create=r).prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,i=e.prev;return t&&(t.prev=i),i&&(i.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=i),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){var t;e!==this.head&&(e.list&&e.list.removeNode(e),t=this.head,e.list=this,(e.next=t)&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++)},r.prototype.pushNode=function(e){var t;e!==this.tail&&(e.list&&e.list.removeNode(e),t=this.tail,e.list=this,(e.prev=t)&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++)},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){n=i=void 0;var i=this,n=arguments[e];i.tail=new s(n,i.tail,null,i),i.head||(i.head=i.tail),i.length++}return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){n=i=void 0;var i=this,n=arguments[e];i.head=new s(n,null,i.head,i),i.tail||(i.tail=i.head),i.length++}return this.length},r.prototype.pop=function(){var e;if(this.tail)return e=this.tail.value,this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e},r.prototype.shift=function(){var e;if(this.head)return e=this.head.value,this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e},r.prototype.forEach=function(e,t){t=t||this;for(var i=this.head,n=0;null!==i;n++)e.call(t,i.value,n,this),i=i.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var i=this.tail,n=this.length-1;null!==i;n--)e.call(t,i.value,n,this),i=i.prev},r.prototype.get=function(e){for(var t=0,i=this.head;null!==i&&t<e;t++)i=i.next;if(t===e&&null!==i)return i.value},r.prototype.getReverse=function(e){for(var t=0,i=this.tail;null!==i&&t<e;t++)i=i.prev;if(t===e&&null!==i)return i.value},r.prototype.map=function(e,t){t=t||this;for(var i=new r,n=this.head;null!==n;)i.push(e.call(t,n.value,this)),n=n.next;return i},r.prototype.mapReverse=function(e,t){t=t||this;for(var i=new r,n=this.tail;null!==n;)i.push(e.call(t,n.value,this)),n=n.prev;return i},r.prototype.reduce=function(e,t){var i,n=this.head;if(1<arguments.length)i=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,i=this.head.value}for(var a=0;null!==n;a++)i=e(i,n.value,a),n=n.next;return i},r.prototype.reduceReverse=function(e,t){var i,n=this.tail;if(1<arguments.length)i=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,i=this.tail.value}for(var a=this.length-1;null!==n;a--)i=e(i,n.value,a),n=n.prev;return i},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,i=this.head;null!==i;t++)e[t]=i.value,i=i.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,i=this.tail;null!==i;t++)e[t]=i.value,i=i.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new r;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;for(;null!==a&&n<t;n++,a=a.next)i.push(a.value)}return i},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new r;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,a=this.tail;null!==a&&t<n;n--)a=a.prev;for(;null!==a&&e<n;n--,a=a.prev)i.push(a.value)}return i},r.prototype.splice=function(e,t,...i){(e=e>this.length?this.length-1:e)<0&&(e=this.length+e);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;for(var r=[],n=0;a&&n<t;n++)r.push(a.value),a=this.removeNode(a);(a=null===a?this.tail:a)!==this.head&&a!==this.tail&&(a=a.prev);for(n=0;n<i.length;n++)a=function(e,t,i){i=t===e.head?new s(i,null,t,e):new s(i,t,t.next,e);null===i.next&&(e.tail=i);null===i.prev&&(e.head=i);return e.length++,i}(this,a,i[n]);return r},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,i=e;null!==i;i=i.prev){var n=i.prev;i.prev=i.next,i.next=n}return this.head=t,this.tail=e,this};try{e("./iterator.js")(r)}catch(e){}},{"./iterator.js":532}],534:[function(e,t,i){t.exports=[{type:1,objectType:2,objectKind:0,objectCount:[10,25,50,100,200,500,1e3]},{type:2,objectType:0,objectKind:0,objectCount:[10,25,50,100,200,500,1e3]},{type:4,objectType:0,objectKind:0,objectCount:[1e3,2500,5e3,1e4,25e3,5e4,1e5]},{type:5,objectType:0,objectKind:0,objectCount:[10,25,50,100,200,500,1e3],data1:"hammer"},{type:6,objectType:0,objectKind:0,objectCount:[10,25,50,100,200,500,1e3]},{type:5,objectType:0,objectKind:0,objectCount:[20,50,100,200,500,1e3,2e3],data1:"any"}]},{}],535:[function(e,t,i){t.exports=[{name:"Sword 1",type:"weapon",sprite:"sword1",buy:0},{name:"Sword 2",type:"weapon",sprite:"sword2",buy:500},{name:"Axe",type:"weapon",sprite:"axe",buy:1e3},{name:"Morning Star",type:"weapon",sprite:"morningstar",buy:1500},{name:"Blue Sword",type:"weapon",sprite:"bluesword",buy:2e3},{name:"Red Sword",type:"weapon",sprite:"redsword",buy:2500},{name:"Golden Sword",type:"weapon",sprite:"goldensword",buy:3e3},{name:"Side Sword",type:"weapon",sprite:"sidesword",buy:3500},{name:"Spear",type:"weapon",sprite:"spear",buy:4e3},{name:"Scimitar",type:"weapon",sprite:"scimitar",buy:4500},{name:"Trident",type:"weapon",sprite:"trident",buy:5e3},{name:"Blue Scimitar",type:"weapon",sprite:"bluescimitar",buy:5500},{name:"Hammer",type:"weapon",sprite:"hammer",buy:6e3},{name:"Green Light Saber",type:"weapon",sprite:"greenlightsaber",buy:6500},{name:"Sky Light Saber",type:"weapon",sprite:"skylightsaber",buy:7e3},{name:"Red Light Saber",type:"weapon",sprite:"redlightsaber",buy:7500},{name:"Bastard Sword",type:"weapon",sprite:"bastardsword",buy:8e3},{name:"Red Metal Sword",type:"weapon",sprite:"redmetalsword",buy:8500},{name:"Justice Hammer",type:"weapon",sprite:"justicehammer",buy:9e3},{name:"Rose",type:"weapon",sprite:"rose",buy:9500},{name:"Ice Rose",type:"weapon",sprite:"icerose",buy:1e4},{name:"Halberd",type:"weapon",sprite:"halberd",buy:10500},{name:"Whip",type:"weapon",sprite:"whip",buy:11e3},{name:"Forest Guardian Sword",type:"weapon",sprite:"forestguardiansword",buy:11500},{name:"Sickle",type:"weapon",sprite:"sickle",buy:12e3},{name:"Plunger",type:"weapon",sprite:"plunger",buy:12500},{name:"Red Sickle",type:"weapon",sprite:"redsickle",buy:13e3},{name:"Day Walker",type:"weapon",sprite:"daywalker",buy:13500},{name:"Purple Cloud Kallege",type:"weapon",sprite:"purplecloudkallege",buy:14e3},{name:"Sea Rage",type:"weapon",sprite:"searage",buy:14500},{name:"Breaker",type:"weapon",sprite:"breaker",buy:15e3},{name:"Enel Trident",type:"weapon",sprite:"eneltrident",buy:15500},{name:"Rainbow Sword",type:"weapon",sprite:"rainbowsword",buy:16e3},{name:"Typhoon",type:"weapon",sprite:"typhoon",buy:16500},{name:"Memme",type:"weapon",sprite:"memme",buy:17e3},{name:"Candybar",type:"weapon",sprite:"candybar",buy:17500},{name:"Butcher Knife",type:"weapon",sprite:"butcherknife",buy:18e3},{name:"Fire Shot",type:"weapon",sprite:"fireshot",buy:18500},{name:"Comb",type:"weapon",sprite:"comb",buy:19e3},{name:"Squeaky Hammer",type:"weapon",sprite:"squeakyhammer",buy:19500},{name:"Fire Play",type:"weapon",sprite:"fireplay",buy:2e4},{name:"Wea Staff",type:"weapon",sprite:"weastaff",buy:20500},{name:"Pink Sword",type:"weapon",sprite:"pinksword",buy:21e3},{name:"Conference Call",type:"weapon",sprite:"conferencecall",buy:21500},{name:"Cactus Axe",type:"weapon",sprite:"cactusaxe",buy:22e3},{name:"Devil Kazya Sword",type:"weapon",sprite:"devilkazyasword",buy:22500},{name:"Bamboo Spear",type:"weapon",sprite:"bamboospear",buy:23e3},{name:"Paewoldo",type:"weapon",sprite:"paewoldo",buy:23500},{name:"Magic Spear",type:"weapon",sprite:"magicspear",buy:24e3},{name:"Fire Sword",type:"weapon",sprite:"firesword",buy:24500},{name:"Wooden Bow",type:"weaponarcher",sprite:"woodenbow",buy:0},{name:"Plastic Bow",type:"weaponarcher",sprite:"plasticbow",buy:500},{name:"Iron Bow",type:"weaponarcher",sprite:"ironbow",buy:1e3},{name:"Red Bow",type:"weaponarcher",sprite:"redbow",buy:1500},{name:"Violet Bow",type:"weaponarcher",sprite:"violetbow",buy:2e3},{name:"Death Bow",type:"weaponarcher",sprite:"deathbow",buy:2500},{name:"Golden Bow",type:"weaponarcher",sprite:"goldenbow",buy:3e3},{name:"Watermelon Bow",type:"weaponarcher",sprite:"watermelonbow",buy:3500},{name:"Green Bow",type:"weaponarcher",sprite:"greenbow",buy:4e3},{name:"Redenel Bow",type:"weaponarcher",sprite:"redenelbow",buy:4500},{name:"Mermaid Bow",type:"weaponarcher",sprite:"mermaidbow",buy:5e3},{name:"Seahorse Bow",type:"weaponarcher",sprite:"seahorsebow",buy:5500},{name:"Hunter Bow",type:"weaponarcher",sprite:"hunterbow",buy:6e3},{name:"Green Light Bow",type:"weaponarcher",sprite:"greenlightbow",buy:6500},{name:"Sky Light Bow",type:"weaponarcher",sprite:"skylightbow",buy:7e3},{name:"Red Light Bow",type:"weaponarcher",sprite:"redlightbow",buy:7500},{name:"Captain Bow",type:"weaponarcher",sprite:"captainbow",buy:8e3},{name:"Red Metal Bow",type:"weaponarcher",sprite:"redmetalbow",buy:8500},{name:"Justice Bow",type:"weaponarcher",sprite:"justicebow",buy:9e3},{name:"Rose Bow",type:"weaponarcher",sprite:"rosebow",buy:9500},{name:"Marine Bow",type:"weaponarcher",sprite:"marinebow",buy:1e4},{name:"Crystal Bow",type:"weaponarcher",sprite:"crystalbow",buy:10500},{name:"Colorful Bow",type:"weaponarcher",sprite:"gaybow",buy:11e3},{name:"Forest Bow",type:"weaponarcher",sprite:"forestbow",buy:11500},{name:"Sickle Bow",type:"weaponarcher",sprite:"sicklebow",buy:12e3},{name:"Blood Bow",type:"weaponarcher",sprite:"bloodbow",buy:12500},{name:"Red Sickle Bow",type:"weaponarcher",sprite:"redsicklebow",buy:13e3},{name:"Cloth Armor",type:"armor",sprite:"clotharmor",buy:0},{name:"Leather Armor",type:"armor",sprite:"leatherarmor",buy:500},{name:"Mail Armor",type:"armor",sprite:"mailarmor",buy:1e3},{name:"Plate Armor",type:"armor",sprite:"platearmor",buy:1500},{name:"Red Armor",type:"armor",sprite:"redarmor",buy:2e3},{name:"Golden Armor",type:"armor",sprite:"goldenarmor",buy:2500},{name:"Green Armor",type:"armor",sprite:"greenarmor",buy:3e3},{name:"Green Wing Armor",type:"armor",sprite:"greenwingarmor",buy:3500},{name:"Guard Armor",type:"armor",sprite:"guardarmor",buy:4e3},{name:"Red Guard Armor",type:"armor",sprite:"redguardarmor",buy:4500},{name:"White Armor",type:"armor",sprite:"whitearmor",buy:5e3},{name:"Rat Armor",type:"armor",sprite:"ratarmor",buy:5500},{name:"Blue Pirate Armor",type:"armor",sprite:"bluepiratearmor",buy:6e3},{name:"Cheoli Armor",type:"armor",sprite:"cheoliarmor",buy:6500},{name:"Dovakin Armor",type:"armor",sprite:"dovakinarmor",buy:7e3},{name:"GB Wing Armor",type:"armor",sprite:"gbwingarmor",buy:7500},{name:"Red Wing Armor",type:"armor",sprite:"redwingarmor",buy:8e3},{name:"Snow Fox Armor",type:"armor",sprite:"snowfoxarmor",buy:8500},{name:"Wolf Armor",type:"armor",sprite:"wolfarmor",buy:9e3},{name:"Blue Wing Armor",type:"armor",sprite:"bluewingarmor",buy:9500},{name:"Thief Armor",type:"armor",sprite:"thiefarmor",buy:1e4},{name:"Ninja Armor",type:"armor",sprite:"ninjaarmor",buy:10500},{name:"Dragon Armor",type:"armor",sprite:"dragonarmor",buy:11e3},{name:"Fallen Armor",type:"armor",sprite:"fallenarmor",buy:11500},{name:"Paladin Armor",type:"armor",sprite:"paladinarmor",buy:12e3},{name:"Crystal Armor",type:"armor",sprite:"crystalarmor",buy:12500},{name:"Adherer Robe",type:"armor",sprite:"adhererrobe",buy:13e3},{name:"Frost Armor",type:"armor",sprite:"frostarmor",buy:13500},{name:"Strap Armor",type:"armor",sprite:"gayarmor",buy:14e3},{name:"School Uniform",type:"armor",sprite:"schooluniform",buy:14500},{name:"Beautiful Life",type:"armor",sprite:"beautifullife",buy:15e3},{name:"Region Armor",type:"armor",sprite:"regionarmor",buy:15500},{name:"Ghost Rider",type:"armor",sprite:"ghostrider",buy:16e3},{name:"Taekwondo",type:"armor",sprite:"taekwondo",buy:16500},{name:"Rabbit Armor",type:"armor",sprite:"rabbitarmor",buy:17e3},{name:"Portal Armor",type:"armor",sprite:"portalarmor",buy:17500},{name:"Pirate King",type:"armor",sprite:"pirateking",buy:18e3},{name:"Sea Dragon Armor",type:"armor",sprite:"seadragonarmor",buy:18500},{name:"Shadow Region Armor",type:"armor",sprite:"shadowregionarmor",buy:19e3},{name:"Enel Armor",type:"armor",sprite:"enelarmor",buy:19500},{name:"Mini Sea Dragon Armor",type:"armor",sprite:"miniseadragonarmor",buy:2e4},{name:"Huni Armor",type:"armor",sprite:"huniarmor",buy:20500},{name:"Dambo Armor",type:"armor",sprite:"damboarmor",buy:21e3},{name:"Squid Armor",type:"armor",sprite:"squidarmor",buy:21500},{name:"Bee Armor",type:"armor",sprite:"beearmor",buy:22e3},{name:"Blue Dambo Armor",type:"armor",sprite:"bluedamboarmor",buy:22500},{name:"Rudolf Armor",type:"armor",sprite:"rudolfarmor",buy:23e3},{name:"Christmas Armor",type:"armor",sprite:"christmasarmor",buy:23500},{name:"Robocop Armor",type:"armor",sprite:"robocoparmor",buy:24e3},{name:"Pink Cockroach Armor",type:"armor",sprite:"pinkcockroacharmor",buy:24500},{name:"Cockroach Suit",type:"armor",sprite:"cockroachsuit",buy:25e3},{name:"Dinosaur Armor",type:"armor",sprite:"dinosaurarmor",buy:25500},{name:"Cat Armor",type:"armor",sprite:"catarmor",buy:26e3},{name:"Snowman Armor",type:"armor",sprite:"snowmanarmor",buy:26500},{name:"Beetle Armor",type:"armor",sprite:"beetlearmor",buy:27e3},{name:"Hongcheol Armor",type:"armor",sprite:"hongcheolarmor",buy:27500},{name:"Tiger Armor",type:"armor",sprite:"tigerarmor",buy:28e3},{name:"Wizard Rob",type:"armor",sprite:"wizardrobe",buy:28500},{name:"Iron Knight Armor",type:"armor",sprite:"ironknightarmor",buy:29e3},{name:"Evil Armor",type:"armor",sprite:"evilarmor",buy:29500},{name:"Green Dambo Armor",type:"armor",sprite:"greendamboarmor",buy:3e4},{name:"Red Dambo Armor",type:"armor",sprite:"reddamboarmor",buy:30500},{name:"Devil Kazya Armor",type:"armor",sprite:"devilkazyaarmor",buy:31e3},{name:"Bridal Mask",type:"armor",sprite:"bridalmask",buy:31500},{name:"Black Spider Armor",type:"armor",sprite:"blackspiderarmor",buy:32e3},{name:"Frog Armor",type:"armor",sprite:"frogarmor",buy:32500},{name:"Bearseonbi Armor",type:"armor",sprite:"bearseonbiarmor",buy:33e3},{name:"Raindow A Pro",type:"armor",sprite:"rainbowapro",buy:33500},{name:"Coke Armor",type:"armor",sprite:"cokearmor",buy:34e3},{name:"Fried Potato Armor",type:"armor",sprite:"friedpotatoarmor",buy:34500},{name:"Burger Armor",type:"armor",sprite:"burgerarmor",buy:35e3},{name:"Halloween JK Armor",type:"armor",sprite:"halloweenjkarmor",buy:35500},{name:"Frankenstein Armor",type:"armor",sprite:"frankensteinarmor",buy:36e3},{name:"Admin armor",type:"armor",sprite:"adminarmor",buy:36500},{name:"Cloth Armor",type:"armorarcher",sprite:"clotharmor",buy:0},{name:"Leather Armor",type:"armorarcher",sprite:"leatherarcherarmor",buy:500},{name:"Mail Armor",type:"armorarcher",sprite:"mailarcherarmor",buy:1e3},{name:"Plate Armor",type:"armorarcher",sprite:"platearcherarmor",buy:1500},{name:"Red Armor",type:"armorarcher",sprite:"redarcherarmor",buy:2e3},{name:"Golden Armor",type:"armorarcher",sprite:"goldenarcherarmor",buy:2500},{name:"Green Armor",type:"armorarcher",sprite:"greenarcherarmor",buy:3e3},{name:"Green Wing Armor",type:"armorarcher",sprite:"greenwingarcherarmor",buy:3500},{name:"Guard Armor",type:"armorarcher",sprite:"guardarcherarmor",buy:4e3},{name:"Red Guard Armor",type:"armorarcher",sprite:"redguardarcherarmor",buy:4500},{name:"White Armor",type:"armorarcher",sprite:"whitearcherarmor",buy:5e3},{name:"Pirate Armor",type:"armorarcher",sprite:"piratearcherarmor",buy:5500},{name:"Cheoli Armor",type:"armorarcher",sprite:"cheoliarcherarmor",buy:6e3},{name:"Dovakin Armor",type:"armorarcher",sprite:"dovakinarcherarmor",buy:6500},{name:"GB Wing Armor",type:"armorarcher",sprite:"gbwingarcherarmor",buy:7e3},{name:"Red Wing Armor",type:"armorarcher",sprite:"redwingarcherarmor",buy:7500},{name:"Snow Fox Armor",type:"armorarcher",sprite:"snowfoxarcherarmor",buy:8e3},{name:"Wolf Armor",type:"armorarcher",sprite:"wolfarcherarmor",buy:8500},{name:"Blue Wing Armor",type:"armorarcher",sprite:"bluewingarcherarmor",buy:9e3},{name:"Fallen Armor",type:"armorarcher",sprite:"fallenarcherarmor",buy:9500},{name:"Crystal Armor",type:"armorarcher",sprite:"crystalarcherarmor",buy:1e4},{name:"Legolas Armor",type:"armorarcher",sprite:"legolasarmor",buy:10500},{name:"Adherer Armor",type:"armorarcher",sprite:"adhererarcherarmor",buy:11e3},{name:"School Uniform",type:"armorarcher",sprite:"archerschooluniform",buy:11500},{name:"Combat Uniform",type:"armorarcher",sprite:"combatuniform",buy:12e3},{name:"Strap Armor",type:"armorarcher",sprite:"gayarcherarmor",buy:12500}]},{}],536:[function(e,t,i){t.exports=[{i:[[310,16]],o:104},{i:[[310,4]],o:105},{i:[[310,4]],o:106},{i:[[310,4]],o:107},{i:[[311,16]],o:108},{i:[[311,4]],o:109},{i:[[311,4]],o:110},{i:[[311,4]],o:111},{i:[[312,16]],o:112},{i:[[312,4]],o:113},{i:[[312,4]],o:114},{i:[[312,4]],o:115},{i:[[301,1],[302,3]],o:305},{i:[[301,1],[303,3]],o:306},{i:[[301,1],[304,3]],o:307},{i:[[301,6],[305,10]],o:201},{i:[[301,6],[305,10]],o:211},{i:[[301,6],[305,10]],o:221},{i:[[301,6],[305,10]],o:231},{i:[[301,6],[306,10]],o:202},{i:[[301,6],[306,10]],o:212},{i:[[301,6],[306,10]],o:222},{i:[[301,6],[306,10]],o:232},{i:[[301,6],[307,10]],o:203},{i:[[301,6],[307,10]],o:213},{i:[[301,6],[307,10]],o:223},{i:[[301,6],[307,10]],o:233}]},{}],537:[function(e,t,i){t.exports=[]},{}],538:[function(e,t,i){t.exports=[{name:"Scrolls",sprite:"itemloot.png",offset:[0,0],rarity:"1"},{name:"Dice",sprite:"itemloot.png",offset:[0,1],rarity:"1"},{name:"Book",sprite:"itemloot.png",offset:[0,2],rarity:"1"},{name:"Key",sprite:"itemloot.png",offset:[0,3],rarity:"1"},{name:"Bell",sprite:"itemloot.png",offset:[0,4],rarity:"1"},{name:"Padlock",sprite:"itemloot.png",offset:[0,5],rarity:"1"},{name:"Candle",sprite:"itemloot.png",offset:[0,6],rarity:"1"},{name:"Drumstick",sprite:"itemloot.png",offset:[0,7],rarity:"1"},{name:"IronHelmet",sprite:"itemloot.png",offset:[0,8],rarity:"1"},{name:"Gumnut",sprite:"itemloot.png",offset:[0,9],rarity:"1"},{name:"Fireball",sprite:"itemloot.png",offset:[1,0],rarity:"2"},{name:"WitchHat",sprite:"itemloot.png",offset:[1,1],rarity:"2"},{name:"Chest",sprite:"itemloot.png",offset:[1,2],rarity:"2"},{name:"Shield",sprite:"itemloot.png",offset:[1,3],rarity:"2"},{name:"Log",sprite:"itemloot.png",offset:[1,4],rarity:"2"},{name:"RingOne",sprite:"itemloot.png",offset:[1,5],rarity:"2"},{name:"DreamCatcher",sprite:"itemloot.png",offset:[1,6],rarity:"2"},{name:"SealedScroll",sprite:"itemloot.png",offset:[1,7],rarity:"2"},{name:"Spider",sprite:"itemloot.png",offset:[1,8],rarity:"2"},{name:"MeltedCandles",sprite:"itemloot.png",offset:[1,9],rarity:"2"},{name:"Feather",sprite:"itemloot.png",offset:[2,0],rarity:"3"},{name:"Compass",sprite:"itemloot.png",offset:[2,1],rarity:"3"},{name:"PinkFireball",sprite:"itemloot.png",offset:[2,2],rarity:"3"},{name:"Gem",sprite:"itemloot.png",offset:[2,3],rarity:"3"},{name:"FireEye",sprite:"itemloot.png",offset:[2,4],rarity:"3"},{name:"TotemFace",sprite:"itemloot.png",offset:[2,5],rarity:"3"},{name:"Gadget",sprite:"itemloot.png",offset:[2,6],rarity:"3"},{name:"Frog",sprite:"itemloot.png",offset:[2,7],rarity:"3"},{name:"ThrowingDagger",sprite:"itemloot.png",offset:[2,8],rarity:"3"},{name:"UrnOne",sprite:"itemloot.png",offset:[2,9],rarity:"3"},{name:"NecklaceOne",sprite:"itemloot.png",offset:[3,0],rarity:"4"},{name:"Squid",sprite:"itemloot.png",offset:[3,1],rarity:"4"},{name:"ClubOne",sprite:"itemloot.png",offset:[3,2],rarity:"4"},{name:"Crystals",sprite:"itemloot.png",offset:[3,3],rarity:"4"},{name:"Mace",sprite:"itemloot.png",offset:[3,4],rarity:"4"},{name:"CoinPouch",sprite:"itemloot.png",offset:[3,5],rarity:"4"},{name:"NecklaceTwo",sprite:"itemloot.png",offset:[3,6],rarity:"4"},{name:"Bones",sprite:"itemloot.png",offset:[3,7],rarity:"4"},{name:"RingTwo",sprite:"itemloot.png",offset:[3,8],rarity:"4"},{name:"AnimalSkull",sprite:"itemloot.png",offset:[3,9],rarity:"4"},{name:"Leaf",sprite:"itemloot.png",offset:[4,0],rarity:"5"},{name:"Cheese",sprite:"itemloot.png",offset:[4,1],rarity:"5"},{name:"Mushrooms",sprite:"itemloot.png",offset:[4,2],rarity:"5"},{name:"FeatherQuill",sprite:"itemloot.png",offset:[4,3],rarity:"5"},{name:"BoneEaring",sprite:"itemloot.png",offset:[4,4],rarity:"5"},{name:"Crate",sprite:"itemloot.png",offset:[4,5],rarity:"5"},{name:"Bat",sprite:"itemloot.png",offset:[4,6],rarity:"5"},{name:"PoisonVial",sprite:"itemloot.png",offset:[4,7],rarity:"5"},{name:"ScrollsThree",sprite:"itemloot.png",offset:[4,8],rarity:"5"},{name:"Bug",sprite:"itemloot.png",offset:[4,9],rarity:"5"},{name:"Anvil",sprite:"itemloot.png",offset:[5,0],rarity:"6"},{name:"BrokenGlass",sprite:"itemloot.png",offset:[5,1],rarity:"6"},{name:"Goblet",sprite:"itemloot.png",offset:[5,2],rarity:"6"},{name:"SkullRingTwo",sprite:"itemloot.png",offset:[5,3],rarity:"6"},{name:"MonsterClaw",sprite:"itemloot.png",offset:[5,4],rarity:"6"},{name:"PoisonVialTwo",sprite:"itemloot.png",offset:[5,5],rarity:"6"},{name:"BronzeHelmet",sprite:"itemloot.png",offset:[5,6],rarity:"6"},{name:"BasicKnife",sprite:"itemloot.png",offset:[5,7],rarity:"6"},{name:"Worms",sprite:"itemloot.png",offset:[5,8],rarity:"6"},{name:"AutumnLeaf",sprite:"itemloot.png",offset:[5,9],rarity:"6"},{name:"Drum",sprite:"itemloot.png",offset:[6,0],rarity:"7"},{name:"Acorns",sprite:"itemloot.png",offset:[6,1],rarity:"7"},{name:"Pendant",sprite:"itemloot.png",offset:[6,2],rarity:"7"},{name:"Lute",sprite:"itemloot.png",offset:[6,3],rarity:"7"},{name:"RingThree",sprite:"itemloot.png",offset:[6,4],rarity:"7"},{name:"BattleAxe",sprite:"itemloot.png",offset:[6,5],rarity:"7"},{name:"AncientShield",sprite:"itemloot.png",offset:[6,6],rarity:"7"},{name:"Broach",sprite:"itemloot.png",offset:[6,7],rarity:"7"},{name:"Maul",sprite:"itemloot.png",offset:[6,8],rarity:"7"},{name:"SmokePipe",sprite:"itemloot.png",offset:[6,9],rarity:"7"},{name:"Lizard",sprite:"itemloot.png",offset:[7,0],rarity:"8"},{name:"DragonEgg",sprite:"itemloot.png",offset:[7,1],rarity:"8"},{name:"MarbleJar",sprite:"itemloot.png",offset:[7,2],rarity:"8"},{name:"OldBottle",sprite:"itemloot.png",offset:[7,3],rarity:"8"},{name:"ShortSword",sprite:"itemloot.png",offset:[7,4],rarity:"8"},{name:"BookTwo",sprite:"itemloot.png",offset:[7,5],rarity:"8"},{name:"Bread",sprite:"itemloot.png",offset:[7,6],rarity:"8"},{name:"Mirror",sprite:"itemloot.png",offset:[7,7],rarity:"8"},{name:"Cards",sprite:"itemloot.png",offset:[7,8],rarity:"8"},{name:"PotOfGold",sprite:"itemloot.png",offset:[7,9],rarity:"8"},{name:"FaceMask",sprite:"itemloot.png",offset:[8,0],rarity:"9"},{name:"Bomb",sprite:"itemloot.png",offset:[8,1],rarity:"9"},{name:"HandBag",sprite:"itemloot.png",offset:[8,2],rarity:"9"},{name:"ToothNecklace",sprite:"itemloot.png",offset:[8,3],rarity:"9"},{name:"NecklaceThree",sprite:"itemloot.png",offset:[8,4],rarity:"9"},{name:"LeafWreath",sprite:"itemloot.png",offset:[8,5],rarity:"9"},{name:"Eyeball",sprite:"itemloot.png",offset:[8,6],rarity:"9"},{name:"CrudeDagger",sprite:"itemloot.png",offset:[8,7],rarity:"9"},{name:"SapJewel",sprite:"itemloot.png",offset:[8,8],rarity:"9"},{name:"Clever",sprite:"itemloot.png",offset:[8,9],rarity:"9"},{name:"MortAndPestle",sprite:"itemloot.png",offset:[9,0],rarity:"10"},{name:"WoodHorn",sprite:"itemloot.png",offset:[9,1],rarity:"10"},{name:"Pumpkin",sprite:"itemloot.png",offset:[9,2],rarity:"10"},{name:"HumanSkull",sprite:"itemloot.png",offset:[9,3],rarity:"10"},{name:"Thorns",sprite:"itemloot.png",offset:[9,4],rarity:"10"},{name:"FineComb",sprite:"itemloot.png",offset:[9,5],rarity:"10"},{name:"Cauldron",sprite:"itemloot.png",offset:[9,6],rarity:"10"},{name:"MagicBall",sprite:"itemloot.png",offset:[9,7],rarity:"10"},{name:"Mushroom",sprite:"itemloot.png",offset:[9,8],rarity:"10"},{name:"Hook",sprite:"itemloot.png",offset:[9,9],rarity:"10"},{name:"NordicCup",sprite:"itemloot.png",offset:[10,0],rarity:"10"}]},{}],539:[function(e,t,i){t.exports=[{id:1,name:"Crude Club",type:"weapon",typemod:"attack",modifier:10,staticsheet:2,legacy:1,offset:[3,10]},{id:2,name:"Crude Sword",type:"weapon",typemod:"attack",modifier:20,staticsheet:2,legacy:1,offset:[5,9]},{id:3,name:"Beginnner Sword",type:"weapon",typemod:"attack",modifier:30,staticsheet:2,legacy:1,offset:[8,11]},{id:4,name:"Iron Sword",type:"weapon",typemod:"attack",modifier:40,staticsheet:2,legacy:1,offset:[4,0]},{id:5,name:"Steel Sword",type:"weapon",typemod:"attack",modifier:50,staticsheet:2,legacy:1,offset:[4,1]},{id:6,name:"Bronze Sword",type:"weapon",typemod:"attack",modifier:60,staticsheet:2,legacy:1,offset:[4,2]},{id:7,name:"Golden Sword",type:"weapon",typemod:"attack",modifier:70,staticsheet:2,legacy:1,offset:[4,3]},{id:8,name:"Glass Sword",type:"weapon",typemod:"attack",modifier:80,staticsheet:2,legacy:1,offset:[4,4]},{id:9,name:"Adamantite Sword",type:"weapon",typemod:"attack",modifier:90,staticsheet:2,legacy:1,offset:[4,5]},{id:10,name:"Plate Sword",type:"weapon",typemod:"attack",modifier:100,staticsheet:2,legacy:1,offset:[4,6]},{id:11,name:"Draconian Sword",type:"weapon",typemod:"attack",modifier:110,staticsheet:2,legacy:1,offset:[4,7]},{id:12,name:"Slingshot",type:"weaponarcher",typemod:"attack",modifier:10,staticsheet:2,legacy:1,offset:[1,10]},{id:13,name:"Crude Bow",type:"weaponarcher",typemod:"attack",modifier:20,staticsheet:2,legacy:1,offset:[7,8]},{id:14,name:"Beginner Bow",type:"weaponarcher",typemod:"attack",modifier:30,staticsheet:2,legacy:1,offset:[9,11]},{id:15,name:"Iron Bow",type:"weaponarcher",typemod:"attack",modifier:40,staticsheet:2,legacy:1,offset:[7,0]},{id:16,name:"Steel Bow",type:"weaponarcher",typemod:"attack",modifier:50,staticsheet:2,legacy:1,offset:[7,1]},{id:17,name:"Bronze Bow",type:"weaponarcher",typemod:"attack",modifier:60,staticsheet:2,legacy:1,offset:[7,2]},{id:18,name:"Gold Bow",type:"weaponarcher",typemod:"attack",modifier:70,staticsheet:2,legacy:1,offset:[7,3]},{id:19,name:"Glass Bow",type:"weaponarcher",typemod:"attack",modifier:80,staticsheet:2,legacy:1,offset:[7,4]},{id:20,name:"Adamantite Bow",type:"weaponarcher",typemod:"attack",modifier:90,staticsheet:2,legacy:1,offset:[7,5]},{id:21,name:"Plate Bow",type:"weaponarcher",typemod:"attack",modifier:100,staticsheet:2,legacy:1,offset:[7,6]},{id:22,name:"Draconian Bow",type:"weaponarcher",typemod:"attack",modifier:110,staticsheet:2,legacy:1,offset:[7,7]},{id:23,name:"Fur Armor",type:"armor",typemod:"defense",modifier:10,staticsheet:2,legacy:1,offset:[11,12]},{id:24,name:"Padded Armor",type:"armor",typemod:"defense",modifier:20,staticsheet:2,legacy:1,offset:[11,11]},{id:25,name:"Leather Armor",type:"armor",typemod:"defense",modifier:30,staticsheet:2,legacy:1,offset:[11,10]},{id:26,name:"Iron Armor",type:"armor",typemod:"defense",modifier:40,staticsheet:2,legacy:1,offset:[11,0]},{id:27,name:"Steel Armor",type:"armor",typemod:"defense",modifier:50,staticsheet:2,legacy:1,offset:[11,1]},{id:28,name:"Bronze Armor",type:"armor",typemod:"defense",modifier:60,staticsheet:2,legacy:1,offset:[11,2]},{id:29,name:"Golden Armor",type:"armor",typemod:"defense",modifier:70,staticsheet:2,legacy:1,offset:[11,3]},{id:30,name:"Glass Armor",type:"armor",typemod:"defense",modifier:80,staticsheet:2,legacy:1,offset:[11,4]},{id:31,name:"Adamantite Armor",type:"armor",typemod:"defense",modifier:90,staticsheet:2,legacy:1,offset:[11,5]},{id:32,name:"Plate Armor",type:"armor",typemod:"defense",modifier:100,staticsheet:2,legacy:1,offset:[11,6]},{id:33,name:"Draconian Armor",type:"armor",typemod:"defense",modifier:110,staticsheet:2,legacy:1,offset:[11,7]},{id:34,name:"Flask +250 HP",type:"object",typemod:"health",modifier:250,sprite:"item/item-flask.png",spriteName:"item-flask",offset:[0,0],buy:10,buycount:10},{id:35,name:"Burger +250 Energy",type:"object",typemod:"energy",modifier:250,sprite:"item/item-burger.png",spriteName:"item-burger",offset:[0,0],buy:30,buycount:10},{id:36,name:"Big Flask +25% HP",type:"object",typemod:"healthpercent",modifier:25,sprite:"item/item-bigflask.png",spriteName:"item-bigflask",offset:[0,0],buy:50,buycount:10},{id:100,name:"Leather Chest 1",type:"chest",typemod:"defense",level:10,modifier:10,staticsheet:1,spriteName:"armors",offset:[0,5]},{id:101,name:"Leather Helmet 1",type:"helm",typemod:"defense",level:12,modifier:5,staticsheet:1,spriteName:"armors",offset:[0,4]},{id:102,name:"Leather Gloves 1",type:"gloves",typemod:"defense",level:14,modifier:5,staticsheet:1,spriteName:"armors",offset:[0,6]},{id:103,name:"Leather Boots 1",type:"boots",typemod:"defense",level:16,modifier:5,staticsheet:1,spriteName:"armors",offset:[0,7]},{id:104,name:"Leather Chest 2",type:"chest",typemod:"defense",level:20,modifier:20,staticsheet:1,spriteName:"armors",offset:[1,5]},{id:105,name:"Leather Helmet 2",type:"helm",typemod:"defense",level:22,modifier:10,staticsheet:1,spriteName:"armors",offset:[1,4]},{id:106,name:"Leather Gloves 2",type:"gloves",typemod:"defense",level:24,modifier:10,staticsheet:1,spriteName:"armors",offset:[1,6]},{id:107,name:"Leather Boots 2",type:"boots",typemod:"defense",level:26,modifier:10,staticsheet:1,spriteName:"armors",offset:[1,7]},{id:108,name:"Leather Chest 3",type:"chest",typemod:"defense",level:30,modifier:30,staticsheet:1,spriteName:"armors",offset:[2,5]},{id:109,name:"Leather Helmet 3",type:"helm",typemod:"defense",level:32,modifier:15,staticsheet:1,spriteName:"armors",offset:[2,4]},{id:110,name:"Leather Gloves 3",type:"gloves",typemod:"defense",level:34,modifier:15,staticsheet:1,spriteName:"armors",offset:[2,6]},{id:111,name:"Leather Boots 3",type:"boots",typemod:"defense",level:36,modifier:15,staticsheet:1,spriteName:"armors",offset:[2,7]},{id:112,name:"Leather Chest 4",type:"chest",typemod:"defense",level:40,modifier:40,staticsheet:1,spriteName:"armors",offset:[3,5]},{id:113,name:"Leather Helmet 4",type:"helm",typemod:"defense",level:42,modifier:20,staticsheet:1,spriteName:"armors",offset:[3,4]},{id:114,name:"Leather Gloves 4",type:"gloves",typemod:"defense",level:44,modifier:20,staticsheet:1,spriteName:"armors",offset:[3,6]},{id:115,name:"Leather Boots 4",type:"boots",typemod:"defense",level:46,modifier:20,staticsheet:1,spriteName:"armors",offset:[3,7]},{id:200,name:"Sword 1",type:"sword",typemod:"attack",level:10,modifier:10,staticsheet:4,spriteName:"weapons",offset:[0,0]},{id:201,name:"Sword 2",type:"sword",typemod:"attack",level:20,modifier:20,staticsheet:4,spriteName:"weapons",offset:[1,0]},{id:202,name:"Sword 3",type:"sword",typemod:"attack",level:30,modifier:30,staticsheet:4,spriteName:"weapons",offset:[2,0]},{id:203,name:"Sword 4",type:"sword",typemod:"attack",level:40,modifier:40,staticsheet:4,spriteName:"weapons",offset:[3,0]},{id:204,name:"Sword 5",type:"sword",typemod:"attack",level:50,modifier:50,staticsheet:4,spriteName:"weapons",offset:[4,0]},{id:205,name:"Sword 6",type:"sword",typemod:"attack",level:60,modifier:60,staticsheet:4,spriteName:"weapons",offset:[5,0]},{id:206,name:"Sword 7",type:"sword",typemod:"attack",level:70,modifier:70,staticsheet:4,spriteName:"weapons",offset:[6,0]},{id:207,name:"Sword 8",type:"sword",typemod:"attack",level:80,modifier:80,staticsheet:4,spriteName:"weapons",offset:[7,0]},{id:208,name:"Sword 9",type:"sword",typemod:"attack",level:90,modifier:90,staticsheet:4,spriteName:"weapons",offset:[8,0]},{id:209,name:"Sword 10",type:"sword",typemod:"attack",level:100,modifier:100,staticsheet:4,spriteName:"weapons",offset:[9,0]},{id:210,name:"Bow 1",type:"bow",typemod:"attack",level:10,modifier:10,staticsheet:4,spriteName:"weapons",offset:[0,3]},{id:211,name:"Bow 2",type:"bow",typemod:"attack",level:20,modifier:20,staticsheet:4,spriteName:"weapons",offset:[1,3]},{id:212,name:"Bow 3",type:"bow",typemod:"attack",level:30,modifier:30,staticsheet:4,spriteName:"weapons",offset:[2,3]},{id:213,name:"Bow 4",type:"bow",typemod:"attack",level:40,modifier:40,staticsheet:4,spriteName:"weapons",offset:[3,3]},{id:214,name:"Bow 5",type:"bow",typemod:"attack",level:50,modifier:50,staticsheet:4,spriteName:"weapons",offset:[4,3]},{id:215,name:"Bow 6",type:"bow",typemod:"attack",level:60,modifier:60,staticsheet:4,spriteName:"weapons",offset:[5,3]},{id:216,name:"Bow 7",type:"bow",typemod:"attack",level:70,modifier:70,staticsheet:4,spriteName:"weapons",offset:[6,3]},{id:217,name:"Bow 8",type:"bow",typemod:"attack",level:80,modifier:80,staticsheet:4,spriteName:"weapons",offset:[7,3]},{id:218,name:"Bow 9",type:"bow",typemod:"attack",level:90,modifier:90,staticsheet:4,spriteName:"weapons",offset:[8,3]},{id:219,name:"Bow 10",type:"bow",typemod:"attack",level:100,modifier:100,staticsheet:4,spriteName:"weapons",offset:[9,3]},{id:220,name:"Hammer 1",type:"hammer",typemod:"attack",level:10,modifier:10,staticsheet:4,spriteName:"weapons",offset:[0,5]},{id:221,name:"Hammer 2",type:"hammer",typemod:"attack",level:20,modifier:20,staticsheet:4,spriteName:"weapons",offset:[1,5]},{id:222,name:"Hammer 3",type:"hammer",typemod:"attack",level:30,modifier:30,staticsheet:4,spriteName:"weapons",offset:[2,5]},{id:223,name:"Hammer 4",type:"hammer",typemod:"attack",level:40,modifier:40,staticsheet:4,spriteName:"weapons",offset:[3,5]},{id:224,name:"Hammer 5",type:"hammer",typemod:"attack",level:50,modifier:50,staticsheet:4,spriteName:"weapons",offset:[4,5]},{id:225,name:"Hammer 6",type:"hammer",typemod:"attack",level:60,modifier:60,staticsheet:4,spriteName:"weapons",offset:[5,5]},{id:226,name:"Hammer 7",type:"hammer",typemod:"attack",level:70,modifier:70,staticsheet:4,spriteName:"weapons",offset:[6,5]},{id:227,name:"Hammer 8",type:"hammer",typemod:"attack",level:80,modifier:80,staticsheet:4,spriteName:"weapons",offset:[7,5]},{id:228,name:"Hammer 9",type:"hammer",typemod:"attack",level:90,modifier:90,staticsheet:4,spriteName:"weapons",offset:[8,5]},{id:229,name:"Hammer 10",type:"hammer",typemod:"attack",level:100,modifier:100,staticsheet:4,spriteName:"weapons",offset:[9,5]},{id:230,name:"Axe 1",type:"axe",typemod:"attack",level:10,modifier:10,staticsheet:4,spriteName:"weapons",offset:[0,8]},{id:231,name:"Axe 2",type:"axe",typemod:"attack",level:20,modifier:20,staticsheet:4,spriteName:"weapons",offset:[1,8]},{id:232,name:"Axe 3",type:"axe",typemod:"attack",level:30,modifier:30,staticsheet:4,spriteName:"weapons",offset:[2,8]},{id:233,name:"Axe 4",type:"axe",typemod:"attack",level:40,modifier:40,staticsheet:4,spriteName:"weapons",offset:[3,8]},{id:234,name:"Axe 5",type:"axe",typemod:"attack",level:50,modifier:50,staticsheet:4,spriteName:"weapons",offset:[4,8]},{id:235,name:"Axe 6",type:"axe",typemod:"attack",level:60,modifier:60,staticsheet:4,spriteName:"weapons",offset:[5,8]},{id:236,name:"Axe 7",type:"axe",typemod:"attack",level:70,modifier:70,staticsheet:4,spriteName:"weapons",offset:[6,8]},{id:237,name:"Axe 8",type:"axe",typemod:"attack",level:80,modifier:80,staticsheet:4,spriteName:"weapons",offset:[7,8]},{id:238,name:"Axe 9",type:"axe",typemod:"attack",level:90,modifier:90,staticsheet:4,spriteName:"weapons",offset:[8,8]},{id:239,name:"Axe 10",type:"axe",typemod:"attack",level:100,modifier:100,staticsheet:4,spriteName:"weapons",offset:[9,8]},{id:300,name:"Stone",type:"craft",level:10,staticsheet:5,spriteName:"gather1",offset:[1,0]},{id:301,name:"Coal",type:"craft",level:20,staticsheet:8,spriteName:"nodeset2",offset:[1,0]},{id:302,name:"Light Iron",type:"craft",staticsheet:8,spriteName:"nodeset2",offset:[1,1]},{id:303,name:"Medium Iron",type:"craft",staticsheet:8,spriteName:"nodeset2",offset:[1,2]},{id:304,name:"Hard Iron",type:"craft",staticsheet:8,spriteName:"nodeset2",offset:[1,3]},{id:305,name:"Iron Ingot 1",type:"craft",staticsheet:8,spriteName:"nodeset2",offset:[2,1]},{id:306,name:"Iron Ingot 2",type:"craft",staticsheet:8,spriteName:"nodeset2",offset:[2,2]},{id:307,name:"Iron Ingot 3",type:"craft",staticsheet:8,spriteName:"nodeset2",offset:[2,3]},{id:310,name:"Leather 1",type:"craft",staticsheet:6,spriteName:"craft1",offset:[0,0]},{id:311,name:"Leather 2",type:"craft",staticsheet:6,spriteName:"craft1",offset:[1,0]},{id:312,name:"Leather 3",type:"craft",staticsheet:6,spriteName:"craft1",offset:[2,0]},{id:313,name:"Leather 4",type:"craft",staticsheet:6,spriteName:"craft1",offset:[3,0]},{id:320,name:"Wood",type:"craft",staticsheet:7,spriteName:"craft2",offset:[0,0]}]},{}],540:[function(e,t,i){t.exports={EN:{BANK_FULL:"Bank is full.",EQUIPMENT_FULL:"Equipment is full.",INVENTORY_FULL:"Inventory is full.",ITEM_ADDED:"{0} added",GOLD_ADDED:"{0} gold added",GOLD_REMOVED:"{0} gold removed",EQUIPMENT_LEVEL:"You need to be level {0} to equip this.",EQUIPMENT_WRONGCLASS:"Your class cannot use this Item.",CHAT_MUTED:"You are currently muted.",MAP_ENTERED:"{0} has entered the {1} map.",NOTICE_1:"Go to the Google Play Store and rate Retro RPG Online!",TRADE_REQUESTED:"You requested a trade with {0}.",TRADE_REQUEST:"{0} has requested to trade you.",TUTORIAL_MOVE:"Click or Tap on land to move.",TUTORIAL_ATTACK:"Now click or tap on a Monster to attack",TUTORIAL_ATTACK2:"Thats it now kill more Monsters.",TUTORIAL_EQUIP:"Now I want to equip my brought gear by going into Menu Backpack and selecting it.",TUTORIAL_SHOPBUY:"I should find the Beginner Store by going to the menu and pressing Town.",TUTORIAL_SHOPBUY2:"I want to buy my first Armor and Weapon that is Level 10.",TUTORIAL_STATS:"You can now assign custom Stats in Menu >> Character >> 3rd Page (Character Stats),",TUTORIAL_PORTAL:"In the Town House move to the blue Portal near the bottom left.",SHOP_REPAIRED:"{0} item repaired.",SHOP_REMOVED:"{0} item removed.",SHOP_SOLD:"{0} has been sold.",SHOP_BUY:"{0} has been bought.",SHOP_ENCHANTED:"{0} has been enchanted.",SHOP_NOGOLD:"You don't have enough Gold.",SHOP_NOGEMS:"You don't have enough Gems.",SHOP_NOSPACE:"There is not enough space in your inventory.",SHOP_MISMATCH:"The price has been changed, please try again.",AUCTION_ADDED:"The auction item you listed has been added.",SHOP_NOCRAFTITEMS:"You do not have enough craft Items.",SHOP_MISSINGITEMS:"You are missing {0} {1}'s",COMBAT_PLAYERKILLED:"/1 {0} killed {1} in combat.",COMBAT_TARGETINVINCIBLE:"Target is invincible.",GROUP_PLAYERLEFT:"{0} has left your group.",ATTACK_TOOFAR:"You are too far away to attack.",TUTORIAL:"TUTORIAL",TUTORIAL_1:"To Move, Mouse click on the Map or an Object, or use the WASD or arrow keys.",TUTORIAL_2:"To Attack, Mouse click on the Object or get in attack range and press Space bar.",TUTORIAL_3:"To Cycle Targets, use keys T to target the closest Object or Y to reverse target.",TUTORIAL_4:"You can use Keys 1-4 for Skill Shortcuts, and Keys 5-8 for consumables like Potions.",TUTORIAL_5:"If you need to buy items you can select Menu >> Town to instantly warp to Town.",TUTORIAL_6:"At level 10 you can equip Items in Menu >> Equipment, and at level 20 you can assign Stat Points.",ACHIEVEMENTS_0:"Kill {0} Monsters.",ACHIEVEMENTS_1:"Collect {0} Items.",ACHIEVEMENTS_2:"Do {0} Damage to Monsters.",ACHIEVEMENTS_3:"Mine {0} Nodes.",ACHIEVEMENTS_4:"Log {0} Trees.",ACHIEVEMENTS_5:"Interact with {0} Objects.",ACHIEVEMENTS_0_COMPLETE:"Achievement - Kill {0} Monsters Completed. {1}XP Added.",ACHIEVEMENTS_1_COMPLETE:"Achievement - Collect {0} Items Completed. {1}XP Added.",ACHIEVEMENTS_2_COMPLETE:"Achievement - Do {0} Damage to Monsters Completed. {1}XP Added.",ACHIEVEMENTS_3_COMPLETE:"Achievement - Mine {0} Nodes Completed. {1}XP Added.",ACHIEVEMENTS_4_COMPLETE:"Achievement - Log {0} Trees Completed. {1}XP Added.",ACHIEVEMENTS_5_COMPLETE:"Achievement - Interact with {0} Objects Completed. {1}XP Added.",PARTY_PLAYER_INVITE_SENT:"Party invite sent to player {0}",PARTY_MAX_PLAYERS:"Max players reached in party.",PARTY_PLAYER_JOINED:"{0} joined your party.",PARTY_PLAYER_ADDED:"You are now partied with {0}",PARTY_YOU_REJECTED_INVITE:"You rejected {0}'s invite.",PARTY_THEY_REJECTED_INVITE:"{0} rejected your invite.",PARTY_CANNOT_KICK:"You cannot kick as you are not in a party or leader.",PARTY_PLAYER_KICKED:"You have been kicked from the party.",PARTY_NOT_LEADER:"You cannot set the leader as you are not in a party.",PARTY_YOU_LEADER:"You are now the leader.",PARTY_PLAYER_LEADER:"{0} is now leader.",PARTY_IS_LEADER:"{0} is already leader.",PARTY_NOT_IN:"You cannot leave as you are not in a party.",PARTY_PLAYER_LEFT:"{0} has left your party.",PARTY_YOU_LEFT:"You have left {0}'s party.",PARTY_ALL_LEFT:"The party has been disbanded.",NO_PLAYER_EXIST:"Player {0} does not exist.",HARVEST_INVALID:"You cannot harvest at this point, use the right weapon, try somewhere else or again later.",HARVEST_ADDED:"{0} has been added to your inventory",HARVEST_WRONG_TYPE:"You cannot use this with a {0}.",HARVET_NO_WEAPON:"You do not have a harvest item equipped."}}},{}],541:[function(e,t,i){t.exports={Rat:{name:"Rat",kind:1,attackMod:1,defenseMod:1,hpMod:1,xpMod:1,minLevel:1,maxLevel:3,aggroRange:0,attackRange:1,isAggressive:0,attackRateMod:1,reactionMod:1,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"rat",idleSpeedMod:1},Crab:{name:"Crab",kind:2,attackMod:1.2,defenseMod:1.2,hpMod:1,minLevel:4,maxLevel:6,aggroRange:5,attackRange:1,isAggressive:0,attackRateMod:1,reactionMod:1,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"crab",idleSpeedMod:1},Skeleton:{name:"Skeleton",kind:3,attackMod:1.1,defenseMod:1.1,hpMod:1.2,minLevel:7,maxLevel:9,aggroRange:2,attackRange:1,isAggressive:1,attackRateMod:1.5,reactionMod:1.5,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"skeleton",idleSpeedMod:1},Goblin:{name:"Goblin",kind:4,attackMod:1.2,defenseMod:.9,hpMod:.9,minLevel:10,maxLevel:12,aggroRange:3,attackRange:1,isAggressive:1,attackRateMod:1,reactionMod:1,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"goblin",idleSpeedMod:1},Snake:{name:"Snake",kind:5,attackMod:1.4,defenseMod:1,hpMod:.8,minLevel:13,maxLevel:15,aggroRange:3,attackRange:1,isAggressive:1,attackRateMod:1,reactionMod:1,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"snek",idleSpeedMod:1},Bat:{name:"Bat",kind:6,attackMod:1.3,defenseMod:1,hpMod:1,minLevel:16,maxLevel:18,aggroRange:6,attackRange:1,isAggressive:1,attackRateMod:1,reactionMod:1,moveSpeedMod:1,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"bat",idleSpeedMod:1},Skeleton2:{name:"HardSkeleton",kind:7,attackMod:1.3,defenseMod:1.3,hpMod:1.2,minLevel:19,maxLevel:21,aggroRange:2,attackRange:1,isAggressive:1,attackRateMod:2,reactionMod:2,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"skeleton2",idleSpeedMod:1},Ogre:{name:"Ogre",kind:8,attackMod:1.3,defenseMod:1.1,hpMod:1.3,minLevel:22,maxLevel:24,aggroRange:5,attackRange:1,isAggressive:1,attackRateMod:1,reactionMod:1,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"ogre",idleSpeedMod:1},Eye:{name:"Eye",kind:9,attackMod:1.4,defenseMod:1,hpMod:1,minLevel:25,maxLevel:29,aggroRange:3,attackRange:1,isAggressive:1,attackRateMod:1,reactionMod:1,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"eye",idleSpeedMod:1},Wizard:{name:"Wizard",kind:10,attackMod:1.4,defenseMod:1,hpMod:1,minLevel:30,maxLevel:34,aggroRange:6,attackRange:3,isAggressive:1,attackRateMod:1,reactionMod:1,moveSpeedMod:3,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"wizard",idleSpeedMod:1},Spectre:{name:"Spectre",kind:11,attackMod:1.3,defenseMod:1.3,hpMod:1,minLevel:35,maxLevel:40,aggroRange:2,attackRange:2,isAggressive:1,attackRateMod:2,reactionMod:.5,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"spectre",idleSpeedMod:1},DeathKnight:{name:"DeathKnight",kind:12,attackMod:1.5,defenseMod:1.5,hpMod:1.5,minLevel:41,maxLevel:50,aggroRange:4,attackRange:1,isAggressive:1,attackRateMod:2,reactionMod:.5,moveSpeedMod:2,respawnMod:1,dropRate:1,spawnChance:50,dropBonus:0,spriteName:"deathknight",idleSpeedMod:1}}},{}],542:[function(e,t,i){t.exports={plot:["You have awoken","You're awake","It's awake?","You will die this time","How could this happen?","Is that you?","It cant be..","But, but I thought you were dead..","This time you will not survive.","I will kill you for good.","None can survive me!","Curses youre alive still.","But, We destroyed you..","We killed your father and well kill you.","How can you be alive still?","Your brother gasped as he died.","Its, its you..","The chosen one, ha you will pay in blood"],battle:["Argh","Ugh","Oooh","Ahhh","MMmm","Eaat","Delicious","Die","Kill it","Kill","Destroy","Maimm","Death","Foood","Starving","Rawr","Roar","Yummy","Grrr","Growl"]}},{}],543:[function(e,t,i){t.exports=[{textid:"NOTICE1",interval:60}]},{}],544:[function(e,t,i){t.exports={0:{type:0,text:"Kill %count Monsters Level %level or more"},1:{type:2,text:"%names! Kill %count of em"},2:{type:2,text:"I am dying kill %count of %names"},3:{type:2,text:"%names have destroyed my home kill %count"},4:{type:2,text:"%names have swarmed us kill %count"},5:{type:2,text:"We've been overtaken by %names kill %count"},6:{type:2,text:"Kill %count %names for fun, there evil."},7:{type:1,text:"Get %count %name. Return them to Collect in town."},8:{type:4,text:"Find %name. We playing hide and seek!"}}},{}],545:[function(e,t,i){t.exports=["Aeris","Baelan","Caelum","Darian","Eldryn","Faelan","Gavriel","Haven","Ilys","Jaelin","Kaelan","Lirael","Maelis","Naelen","Ovryn","Peregrine","Quillen","Raelin","Sylas","Tyrian","Uvaine","Vaelis","Wylan","Xaelor","Yaelith","Zephyr","Aldryn","Briar","Cyran","Daelin","Elowen","Fenris","Gaelan","Harlow","Ivory","Jadis","Kieran","Loren","Myst","Nyssa"]},{}],546:[function(e,t,i){t.exports={0:["Alters","Altes","Amel","Amew","Ancin","Ancis","Andent","Anies","Arryn","Artin","Artip","Berny","Berter","Brancent","Brancis","Chames","Charles","Charliam","Drewis","Driffin","Drobert","Droguy","Edmugh","Edmund","Enryn","Ephed","Epher","Ephes","Eran","Ernam","Ethes","Ewis","Exam","Exard","Folke","Friffin","Gauwill","Gauwyn","Geoffrey","Georguy","Gerey","Gery","Gilas","Gilip","Grarder","Grobern","Gylip","Hames","Hamund","Hany","Harrey","Hony","Ilham","Ilhard","Illiam","Inghan","Jamath","Johny","Lasym","Lesym","Mesym","Munder","Narder","Nichye","Phughye","Raffin","Ralphye","Reder","Reward","Rewilh","Rewyn","Reyny","Richye","Robern","Robern","Roge","Roge","Ryany","Stephye","Stiny","Symas","Thamath","Vyncent","Vyncis","Waltin","Wilhye","Wyny"],1:["Abeth","Adon","Aebun","Aedad","Aelburg","Aengeth","Aenthrynn","Alhhild","Alyn","Anel","Argel","Auciet","Balde","Beatrey","Bely","Bily","Breawe","Brictlu","Briga","Brihta","Brione","Brithuia","Bruda","Bryne","Brytha","Burha","Cilia","Conga","Corna","Cyna","Deburg","Deleue","Ealhbun","Ealhburh","Ealket","Eanchild","Eanswild","Ebun","Ecin","Efrix","Elil","Elin","Ellet","Ellyn","Ellys","Elyn","Enen","Enet","Engard","Ennet","Ethen","Evet","Frowe","Frude","Fruna","Godga","Goldburg","Gythiue","Hely","Heve","Hily","Hone","Idgen","Isan","Izan","Joane","Kater","Kathon","Lizab","Lyse","Malia","Mara","Marey","Marget","Mary","Mery","Mildgiue","Olburh","Phone","Ricta","Ridget","Rithuia","Sabenn","Sane","Sarry","Sidwe","Stilda","Suse","Sybel","Tortga","Ware","Wellu","Wene","Wenga","Wilthroua","Wise","Witha","Withburh","Withiue","Wrtheahburg","Wuthe"]}},{}],547:[function(e,t,i){t.exports=[{uid:"default",index:0},{uid:"agent",name:"Auction",index:1},{uid:"ancientmanumentnpc",index:2},{uid:"angelnpc",index:3},{uid:"beachnpc",name:"Beachgoer",index:4},{uid:"bluebikinigirlnpc",index:5},{uid:"bluestoremannpc",name:"Bank",index:6},{uid:"boxingman",name:"Bank",index:7},{uid:"coder",name:"Looks",index:8},{uid:"desertnpc",name:"Repair",index:9},{uid:"doctor",name:"Looks",index:10},{uid:"elfnpc",index:11},{uid:"fairynpc",index:12},{uid:"firstsonangelnpc",index:13},{uid:"fisherman",index:14},{uid:"forestnpc",index:15},{uid:"guard",index:16},{uid:"iamverycoldnpc",index:17},{uid:"iceelfnpc",index:18},{uid:"king",index:19},{uid:"lavanpc",name:"Dying Man",index:20},{uid:"mermaidnpc",name:"Mermaid",index:21},{uid:"mojojojonpc",index:22},{uid:"momangelnpc",index:23},{uid:"nyan",index:24},{uid:"octocat",index:25},{uid:"octopus",index:26},{uid:"oddeyecat",index:27},{uid:"pirategirlnpc",index:28},{uid:"priest",index:29},{uid:"redbikinigirlnpc",index:30},{uid:"redstoremannpc",name:"Craft",index:31},{uid:"rick",name:"Collect",index:32},{uid:"scientist",index:33},{uid:"secondsonangelnpc",index:34},{uid:"shepherdboy",name:"Shop",index:35},{uid:"snowshepherdboy",name:"Beginner shop",index:36},{uid:"soldier",index:37},{uid:"sorcerer",index:38},{uid:"sponge",index:39},{uid:"superiorangelnpc",index:40},{uid:"vampire",index:41},{uid:"vendingmachine",name:"Enchant",index:42},{uid:"villagegirl",name:"Enchant",index:43},{uid:"villager",name:"Quests",index:44},{uid:"zombiegf",name:"Quests",index:45}]},{}],548:[function(e,t,i){t.exports=[{name:"gold100000",type:"gold",data:"100000"},{name:"gold1000000",type:"gold",data:"1000000"}]},{}],549:[function(e,t,i){t.exports={1:{npcKind:0,name:"Intro 1",type:1,level:0,object:{type:2,kind:1,count:10}},2:{npcKind:1,name:"Intro 2",type:2,level:0,object:{type:2,kind:1,level:[0,5]},object2:{type:4,kind:1,count:3,chance:20}},3:{npcKind:2,name:"Intro 3",type:2,level:0,object:{type:2,kind:1,level:[0,5]},object2:{type:4,kind:41,count:5,chance:20}},4:{npcKind:3,name:"Intro 4",type:2,level:0,object:{type:2,kind:2,level:[3,5]},object2:{type:4,kind:43,count:1,chance:5}},5:{npcKind:4,name:"Intro 5",type:1,level:0,object:{type:2,kind:2,count:10}},6:{npcKind:5,name:"Intro 6",type:5,level:0,data1:1,object:{type:10,kind:3,count:5}},7:{npcKind:6,name:"Intro 7",type:5,level:0,data1:2,object:{type:10,kind:3,count:5}}}},{}],550:[function(e,t,i){t.exports=[{name:"Beserker",skillType:0,recharge:30,iconOffset:[1,7],detail:"Beserker [l] - Boosts your attack by 3xlevel for 10 seconds,",targetType:0,duration:10,effects:[[0,0,2,3],[0,1,2,-3]]},{name:"Explosive Attack",skillType:2,recharge:10,iconOffset:[3,12],detail:"Explosive Attack [l] - AOE NOT IMPLEMENTED",targetType:1,countTotal:1,aoe:3,effects:[[1,0,4,50]]},{name:"Deadly Attack",skillType:2,recharge:10,iconOffset:[4,7],detail:"Deadly Attack [l] - Does an attack of 150 damage per level.",targetType:1,countTotal:1,effects:[[1,0,4,150]]},{name:"Daze",skillType:1,recharge:30,iconOffset:[0,12],detail:"Daze [l] - Dazes the target for [dpl]% seconds.",targetType:1,durationPL:1,effects:[[1,0,5,1],[1,1,5,0]]},{name:"Slow",skillType:1,recharge:20,iconOffset:[3,5],detail:"Slow [l] - Slows target for [dpl]% seconds.",targetType:1,durationPL:1,effects:[[1,0,6,100],[1,1,6,-100]]}]},{}],551:[function(e,t,i){var n;e=e("semver").satisfies(process.version,">=0.7.1")?e("fs"):e("path"),n=e.exists,e=e.existsSync,void 0!==i&&(t.exports.exists=n,t.exports.existsSync=e)},{fs:void 0,path:void 0,semver:445}],552:[function(e,t,n){EventType={KILLMOB:1,LOOTITEM:2,KILLPLAYER:3,DAMAGE:4,USE_NODE:5,HARVEST:6},QuestType={KILLMOBKIND:1,GETITEMKIND:2,KILLMOBS:3,HIDEANDSEEK:4,USENODE:5},QuestStatus={STARTED:0,INPROGRESS:1,COMPLETE:2},InventoryMode={MODE_NORMAL:0,MODE_SELL:1,MODE_REPAIR:2,MODE_ENCHANT:3,MODE_BANK:4,MODE_AUCTION:5},SkillEffects={SkillType:{SELF:0,TARGET:1,ATTACK:2},TargetType:{SELF:0,ENEMY:1,PLAYER_AOE:2,ENEMY_AOE:3},EffectStat:{HP:0,EP:1,ATTACK:2,DEFENSE:3,DAMAGE:4,FREEZE:5,MOVESPEED:6}};Types={Messages:{BI_SYNCTIME:100,CS_CREATE_USER:1,CS_LOGIN_USER:2,CS_CREATE_PLAYER:3,CS_LOGIN_PLAYER:4,CS_REMOVE_USER:5,CS_ITEMSLOT:10,CS_APPEARANCEUNLOCK:11,CS_ATTACK:12,CS_AUCTIONBUY:13,CS_AUCTIONDELETE:14,CS_AUCTIONOPEN:15,CS_AUCTIONSELL:16,CS_BANKRETRIEVE:17,CS_BANKSTORE:18,CS_CHAT:19,CS_COLOR_TINT:20,BI_BLOCK_MODIFY:21,CS_GOLD:22,CS_PARTY:23,BI_HARVEST:24,CS_USE_NODE:25,CS_LOADLOOKS:26,CS_LOOKUPDATE:27,CS_LOOT:28,CS_MOVE:29,CS_MOVEPATH:30,CS_PLAYER_REVIVE:31,CS_QUEST:32,BI_SEND_BANK:34,BI_SEND_INVENTORY:35,CS_STATADD:36,CS_STOREBUY:37,CS_STOREENCHANT:38,CS_STOREREPAIR:39,CS_STORESELL:40,CS_TALKTONPC:41,CS_CRAFT:42,CS_TELEPORT_MAP:43,CS_WHO:44,CS_SKILL:45,CS_SKILLINSTALL:46,SC_ERROR:60,SC_WORLDS:61,SC_VERSION:62,SC_PLAYER_SUM:63,SC_PLAYER:64,SC_ACHIEVEMENT:65,SC_AUCTIONOPEN:66,SC_ITEMSLOT:67,SC_CHANGEPOINTS:68,SC_CHAT:69,SC_COLOR_TINT:70,SC_DAMAGE:71,SC_DESPAWN:72,SC_SWAPSPRITE:73,SC_APPEARANCE:74,SC_GOLD:75,SC_PARTY:76,BI_PLAYERINFO:77,SC_ITEMLEVELUP:78,SC_KILL:79,SC_LEVELUP:80,SC_LIST:81,SC_LOOKS:82,SC_LOG:83,SC_MOVE:85,SC_MOVEPATH:86,SC_NOTIFY:87,SC_QUEST:88,SC_SKILLEFFECTS:89,SC_SKILLLOAD:90,SC_SPAWN:91,SC_SPEECH:92,SC_STATINFO:93,SC_TELEPORT_MAP:94,SC_SKILL_XP:95,SC_DIALOGUE:96,SC_SET_SPRITE:97,SC_SET_ANIMATION:98},Orientations:{NONE:0,UP:1,DOWN:2,LEFT:3,RIGHT:4},EntityTypes:{NONE:0,PLAYER:1,MOB:2,ITEM:3,ITEMLOOT:4,NPCSTATIC:5,NPCMOVE:6,CHEST:7,BLOCK:8,TRAP:9,NODE:10},Keys:{ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,W:87,A:65,S:83,D:68,SPACE:32,I:73,H:72,M:77,P:80,T:84,Y:89,KEYPAD_4:100,KEYPAD_6:102,KEYPAD_8:104,KEYPAD_2:98,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57},Skills:{BLOODSUCKING:1,RECOVERHEALTH:2,HEALANDHEAL:3,AVOIDATTACK:4,ADDEXPERIENCE:5,ATTACKWITHBLOOD:6,CRITICALATTACK:7,CRITICALRATIO:8},PlayerClass:{FIGHTER:0,ARCHER:1,DEFENDER:2,MAGE:3},PlayerState:{Roaming:0,Moving:1,Following:2,Aggro:3,Hurting:4,GettingItems:5,FollowPlayer:6}};for(Types.expForLevel=[],Types.defenseExp=[],Types.attackExp=[],Types.moveExp=[],Types.skillExp=[],Types.weaponExp=[],Types.expForLevel[0]=0,Types.defenseExp[0]=0,Types.attackExp[0]=0,Types.moveExp[0]=0,Types.skillExp[0]=0,Types.weaponExp[0]=0,i=1;i<50;i++){var a=Math.floor(300*i*Math.pow(1.5,i/5));console.info("level_"+i+"="+a),Types.expForLevel[i]=a,Types.defenseExp[i]=10*a+50,Types.attackExp[i]=10*a+50,Types.moveExp[i]=5*a+20,Types.skillExp[i]=~~(a/1.5),Types.weaponExp[i]=10*a+50}Types.getLevel=function(e){if(void 0===e||0==e)return 1;for(var t=1;t<200;t++)if(e<Types.expForLevel[t])return t;return 50},Types.getAttackLevel=function(e){if(0==e)return 1;for(var t=1;t<200;t++)if(e<Types.attackExp[t])return t;return 50},Types.getDefenseLevel=function(e){if(0==e)return 1;for(var t=1;t<200;t++)if(e<Types.defenseExp[t])return t;return 50},Types.getMoveLevel=function(e){if(0==e)return 1;for(var t=1;t<200;t++)if(e<Types.moveExp[t])return t;return 50},Types.getWeaponLevel=function(e){if(0==e)return 1;for(var t=1;t<200;t++)if(e<Types.weaponExp[t])return t;return 50},Types.getSkillLevel=function(e,t){if(void 0===e||0==e)return 1;for(var i=t=t||1;i<20;i++)if(e<Types.skillExp[i])return i;return 20},Types.isPlayer=function(e){return 1===e||222===e},Types.getOrientationAsString=function(e){switch(e){case Types.Orientations.LEFT:return"left";case Types.Orientations.RIGHT:return"right";case Types.Orientations.UP:return"up";case Types.Orientations.DOWN:return"down"}},Types.getMessageTypeAsString=function(i){var n;return _.each(Types.Messages,function(e,t){e===i&&(n=t)}),n=n||"UNKNOWN"},void 0!==n&&(t.exports=Types)},{}],553:[function(e,t,n){var s={},o={};s.setKindData=function(e){o=e,s.KindData=e},s.getData=function(e){e=o[e];return e&&1!=e.legacy?e:null},s.getName=function(t){try{var e=o[t];return e?e.name:""}catch(e){console.error("No name found for item: "+o[t]),console.error("Error stack: "+e.stack)}},s.getWeaponLevel=function(t){try{var e=o[t];return e?e.modifier:0}catch(e){console.error("No level found for weapon: "+o[t]),console.error("Error stack: "+e.stack)}},s.getArmorLevel=function(t){try{var e=o[t];return e?e.modifier:0}catch(e){console.error("No level found for armor: "+o[t]),console.error("Error stack: "+e.stack)}},s.getItemByLevel=function(e,t){for(var i in o){i=o[i];if(("armor"==i.type||"armorarcher"==i.type)&&i.type==e&&t==i.modifier)return i;if(("weapon"==i.type||"weaponarcher"==i.type)&&i.type==e&&t==i.modifier)return i}return null},s.getLevelByKind=function(e){var t=o[e];return s.isArmor(e)||s.isWeapon(e)?t.level:null},s.getType=function(t){try{return o[t].type}catch(e){console.error("No type found for item: "+t),console.error("Error stack: "+e.stack)}},s.getBuyPrice=function(e){var t,i=o[e];return i?"bow"==(t=i.type)||"chest"==t||s.isArmor(e)||s.isWeapon(e)?Math.floor(i.modifier*i.modifier*10):"object"==t&&0<i.buy?1<i.buyCount?i.buy*i.buyCount:i.buy:0:0},s.getCraftPrice=function(e){var t=o[e];return t&&1!=t.legacy?0<t.buy?t.buy:~~(s.getBuyPrice(e)/4):0},s.getEnchantSellPrice=function(e){var t=s.getBuyPrice(e.itemKind)/10;return 1<e.itemNumber&&(t+=~~(s.getEnchantPrice(e)/10)),t*=e.itemDurabilityMax/900,Math.floor(t)},s.getEnchantPrice=function(e,t){if(!e)return NaN;var i=o[e.itemKind],t=(t=t||!1)?e.itemNumber:e.itemNumber+1;e.itemNumber;if(25<=t)return NaN;experience=e.itemExperience;e=i.modifier,console.info("getEnchantPrice: "+s.itemExpForLevel[t]),i=Math.floor(e*e*10*Math.pow(2,t)*(1-experience/s.itemExpForLevel[t]));return console.info("cost: "+i),i};for(s.getRepairPrice=function(e){var t=s.getBuyPrice(e.itemKind)/10;if(e.itemDurability==e.itemDurabilityMax)return 0;1<e.itemNumber&&(t=s.getEnchantPrice(e,!0)/10);var i,n,e=e.itemDurabilityMax/900*(1-e.itemDurability/e.itemDurabilityMax);return log.info("getRepairPrice - mp: "+e),1+~~(t*=(n=1,(e=e)<(i=0)?i:n<e?n:e))},s.isEquippable=function(e){return!!(s.isArmor(e)||s.isWeapon(e)||s.isArcherWeapon(e)||s.isClothes(e))},s.isClothes=function(e){e=o[e];return!!e&&("helm"===e.type||"chest"===e.type||"gloves"===e.type||"boots"===e.type)},s.isArmor=function(e){return!!o[e]&&s.isClothes(e)},s.isWeapon=function(e){return!!o[e]&&(s.isMeleeWeapon(e)||s.isArcherWeapon(e))},s.isEquipment=function(e){return!!o[e]&&(s.isWeapon(e)||s.isArmor(e))},s.getEquipmentSlot=function(e){return s.isWeapon(e)?4:(e=o[e])?"helm"===e.type?0:"chest"===e.type?1:"gloves"===e.type?2:"boots"===e.type?3:-1:-1},s.isMeleeWeapon=function(e){e=o[e];return!!e&&("sword"===e.type||"hammer"===e.type||"axe"===e.type)},s.isHarvestWeapon=function(e){e=o[e];return!!e&&("hammer"===e.type||"axe"===e.type)},s.isArcherWeapon=function(e){e=o[e];return!!e&&"bow"===e.type},s.isObject=function(e){e=o[e];return!!e&&"object"===e.type},s.isCraftItem=function(e){e=o[e];return!!e&&"craft"===e.type},s.isLootItem=function(e){return 1e3<=e&&e<2e3},s.isConsumableItem=function(e){e=o[e];return!!e&&"object"===e.type},s.isHealingItem=function(e){e=o[e];return!!e&&"object"===e.type&&("health"==e.typemod||"healthpercent"==e.typemod)},s.isItem=function(e){var t=s.KindData[e];return!!t&&(s.isArmor(e)||s.isWeapon(e)||"object"==t.type||"craft"==t.type)},s.forEachKind=function(e){for(var t in kindData)e(o[t],t)},s.forEachArmorKind=function(i){Types.forEachKind(function(e,t){s.isArmor(e)&&i(e,t)})},s.forEachWeaponKind=function(i){Types.forEachKind(function(e,t){s.isWeapon(e)&&i(e,t)})},s.forEachArcherWeaponKind=function(i){Types.forEachKind(function(e,t){s.isArcherWeapon(e)&&i(e,t)})},s.getItemListBy=function(e,t,i){var n,a=[];for(n in o){var r=o[n];r&&1!=r.legacy&&(4!=e||s.isArmor(n)||s.isWeapon(n)||a.push({name:r.name,kind:n,type:r.type,buyCount:r.buycount,buyPrice:r.buy,craftPrice:s.getCraftPrice(n),itemKind:n,itemNumber:r.buycount,craft:r.craft}),1==e&&"object"==r.type&&0<r.buy?a.push({name:r.name,kind:n,type:r.type,buyCount:r.buycount,buyPrice:r.buy,craftPrice:s.getCraftPrice(n),itemKind:n,itemNumber:r.buycount,craft:r.craft}):(2==e&&s.isArmor(n)&&r.modifier>=t&&r.modifier<=i||3==e&&s.isWeapon(n)&&r.modifier>=t&&r.modifier<=i)&&a.push({name:r.name,kind:n,type:r.type,buyCount:r.buyCount,buyPrice:s.getBuyPrice(n),craftPrice:s.getCraftPrice(n),rank:r.level,itemKind:n,itemNumber:r.buycount,craft:r.craft}))}return 0<a.length&&0<a[0].rank&&a.sort(function(e,t){return e.rank-t.rank}),a},s.Store={isBuy:function(e){e=o[e];return!!e&&0<e.buy},isBuyMultiple:function(e){e=o[e];return!!e&&0<e.buycount},isSell:function(e){e=o[e];return!!e&&2<=e.buy},getBuyCount:function(e){e=o[e];return!!e&&(1<e.buyCount?e.buyCount:1)},getItems:function(e,t,i){return s.getItemListBy(e,t,i)}},s.itemExpForLevel=[],s.itemExpForLevel[0]=0,i=1;i<30;i++){var a=Math.floor(150*i*Math.pow(2,i/10));s.itemExpForLevel[i]=a}s.getItemLevel=function(e){if(0==e)return 1;for(var t=1,t=1;t<30;t++)if(e>s.itemExpForLevel[t-1]&&e<=s.itemExpForLevel[t])return t;return 30},void 0!==n&&(t.exports=s)},{}]},{},[44]);
